<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoloGenix | The AI Ad Engine</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Oswald:wght@700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* CORE PALETTE */
            --bg-deep: #050510;
            --card-bg: #111;
            --panel-bg: rgba(20, 20, 35, 0.95);
            --primary-cyan: #00f3ff;
            --primary-purple: #bc13fe;
            --primary-pink: #ff0055;
            --primary-gold: #ffd700;
            --shopify-green: #96bf48;
            --text-white: #ffffff;
            --text-muted: #a0a0b0;
            --danger: #ff4757;
            --success: #2ecc71;
            --pending: #f1c40f;
            
            /* DYNAMIC BRAND VARIABLES */
            --brand-primary: #8F9E8B; 
            --brand-accent: #E8E4D3;
            --brand-font-head: 'Oswald', sans-serif;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }

        body {
            background-color: var(--bg-deep);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(188, 19, 254, 0.05) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(0, 243, 255, 0.05) 0%, transparent 40%);
            color: var(--text-white);
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        /* --- 1. SIDEBAR --- */
        .sidebar {
            width: 260px; background: rgba(0,0,0,0.3); border-right: 1px solid rgba(255,255,255,0.1);
            display: flex; flex-direction: column; padding: 30px 20px; flex-shrink: 0; z-index: 200; position: relative;
        }
        .logo { margin-bottom: 30px; display: flex; align-items: center; justify-content: center; gap: 12px; }
        .logo-icon { width: 42px; height: 42px; }
        .logo-text { font-size: 20px; font-weight: 800; letter-spacing: 1px; }
        .logo-text .solo { color: #ffffff; }
        .logo-text .genix { background: linear-gradient(90deg, var(--primary-cyan), var(--primary-purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }

        .create-new-btn {
            width: 100%; background: linear-gradient(90deg, var(--primary-purple), var(--primary-cyan));
            border: none; padding: 12px; border-radius: 8px; color: white; font-weight: 700;
            cursor: pointer; margin-bottom: 30px; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .create-new-btn:hover { transform: translateY(-2px); box-shadow: 0 0 20px rgba(188, 19, 254, 0.4); }

        .nav-item {
            padding: 12px 15px; border-radius: 8px; color: var(--text-muted); cursor: pointer;
            margin-bottom: 5px; font-size: 14px; display: flex; align-items: center; gap: 12px; transition: 0.3s;
        }
        .nav-item .nav-icon { width: 20px; height: 20px; flex-shrink: 0; transition: filter 0.3s; }
        .nav-item:hover .nav-icon { filter: drop-shadow(0 0 6px rgba(0, 243, 255, 0.7)); }
        .nav-item.active .nav-icon { filter: drop-shadow(0 0 8px rgba(0, 243, 255, 0.9)); }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: white; }
        .nav-item.active { background: rgba(0, 243, 255, 0.1); color: var(--primary-cyan); font-weight: 600; }

        /* --- LEGAL LINKS --- */
        .legal-links { margin-top: auto; padding: 0 15px 15px; font-size: 10px; color: #444; }
        .legal-links a { color: #666; text-decoration: none; margin-right: 10px; transition: 0.2s; }
        .legal-links a:hover { color: #aaa; }

        /* --- USER PROFILE & MENU --- */
        .user-profile {
            display: flex; align-items: center; gap: 10px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);
            cursor: pointer; transition: 0.2s; border-radius: 8px; padding: 10px; margin: 0 -10px;
        }
        .user-profile:hover { background: rgba(255,255,255,0.05); }
        .avatar { width: 35px; height: 35px; background: linear-gradient(45deg, #bc13fe, #00f3ff); border-radius: 50%; }

        /* User Menu Popover */
        .user-menu-popover {
            position: absolute; bottom: 85px; left: 20px; width: 220px;
            background: #1a1a1a; border: 1px solid #333; border-radius: 12px;
            padding: 5px; display: none; flex-direction: column; z-index: 300;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }
        .user-menu-popover.active { display: flex; animation: fadeUp 0.2s ease; }
        @keyframes fadeUp { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

        .menu-link {
            padding: 10px 15px; color: #ccc; font-size: 13px; text-decoration: none;
            border-radius: 8px; transition: 0.2s; display: flex; gap: 10px; align-items: center; cursor: pointer;
        }
        .menu-link:hover { background: rgba(255,255,255,0.1); color: white; }
        .menu-link.logout { color: var(--danger); }
        .menu-link.logout:hover { background: rgba(255, 71, 87, 0.1); }

        /* --- NOTIFICATION BELL --- */
        .top-actions { display: flex; gap: 15px; align-items: center; }
        .notification-bell { position: relative; cursor: pointer; padding: 5px; }
        .notification-bell:hover span { transform: scale(1.1); }
        .notif-dot { position: absolute; top: 2px; right: 2px; width: 8px; height: 8px; background: var(--danger); border-radius: 50%; border: 1px solid var(--bg-deep); }

        /* --- HELP WIDGET --- */
        .help-widget {
            position: fixed; bottom: 30px; right: 30px; width: 50px; height: 50px;
            background: var(--primary-cyan); border-radius: 50%; color: black;
            display: flex; align-items: center; justify-content: center; font-size: 24px;
            font-weight: bold; cursor: pointer; box-shadow: 0 0 20px rgba(0,243,255,0.4);
            z-index: 500; transition: 0.3s;
        }
        .help-widget:hover { transform: scale(1.1); background: white; }

        /* ========================================
           EMPTY STATES
        ======================================== */
        .empty-state {
            background: var(--card-bg); border: 2px dashed #333; border-radius: 16px;
            padding: 60px 40px; text-align: center; max-width: 400px; margin: 40px auto;
        }
        .empty-icon { font-size: 60px; margin-bottom: 20px; opacity: 0.5; }
        .empty-title { font-size: 18px; font-weight: 600; margin-bottom: 10px; color: white; }
        .empty-desc { font-size: 14px; color: var(--text-muted); margin-bottom: 25px; max-width: 300px; margin-left: auto; margin-right: auto; }
        .empty-btn {
            background: linear-gradient(90deg, var(--primary-purple), var(--primary-cyan));
            border: none; padding: 12px 24px; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: 0.3s;
        }
        .empty-btn:hover { transform: translateY(-2px); box-shadow: 0 0 20px rgba(188, 19, 254, 0.4); }

        /* ========================================
           TOAST NOTIFICATIONS
        ======================================== */
        .toast-container {
            position: fixed; top: 20px; right: 20px;
            display: flex; flex-direction: column; gap: 10px; z-index: 9999;
        }
        .toast {
            padding: 15px 20px; border-radius: 10px; display: flex; align-items: center; gap: 12px;
            min-width: 300px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); animation: toastSlideIn 0.3s ease; cursor: pointer;
        }
        @keyframes toastSlideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .toast.success { background: linear-gradient(135deg, rgba(46, 204, 113, 0.15), rgba(46, 204, 113, 0.05)); border: 1px solid var(--success); }
        .toast.error { background: linear-gradient(135deg, rgba(255, 71, 87, 0.15), rgba(255, 71, 87, 0.05)); border: 1px solid var(--danger); }
        .toast.warning { background: linear-gradient(135deg, rgba(241, 196, 15, 0.15), rgba(241, 196, 15, 0.05)); border: 1px solid #f1c40f; }
        .toast.info { background: linear-gradient(135deg, rgba(0, 243, 255, 0.15), rgba(0, 243, 255, 0.05)); border: 1px solid var(--primary-cyan); }
        .toast-icon { font-size: 20px; }
        .toast-content { flex: 1; }
        .toast-title { font-size: 14px; font-weight: 600; color: white; margin-bottom: 2px; }
        .toast-message { font-size: 12px; color: #ccc; }
        .toast-close { color: #888; font-size: 18px; cursor: pointer; }
        .toast-close:hover { color: white; }

        /* ========================================
           CONFIRMATION MODALS
        ======================================== */
        .confirm-modal {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(5px);
            display: none; align-items: center; justify-content: center; z-index: 10000;
        }
        .confirm-modal.active { display: flex; }
        .confirm-box {
            background: #1a1a1a; border: 1px solid #333; border-radius: 16px; padding: 30px;
            width: 420px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); animation: modalPop 0.3s ease;
        }
        @keyframes modalPop { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .confirm-icon {
            width: 60px; height: 60px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 28px; margin: 0 auto 20px;
        }
        .confirm-icon.danger { background: rgba(255, 71, 87, 0.15); }
        .confirm-icon.warning { background: rgba(241, 196, 15, 0.15); }
        .confirm-icon.info { background: rgba(0, 243, 255, 0.15); }
        .confirm-title { font-size: 20px; font-weight: 700; text-align: center; margin-bottom: 10px; color: white; }
        .confirm-desc { font-size: 14px; color: var(--text-muted); text-align: center; margin-bottom: 25px; line-height: 1.5; }
        .confirm-input { width: 100%; background: rgba(0,0,0,0.3); border: 1px solid #444; border-radius: 8px; padding: 12px; color: white; font-size: 14px; margin-bottom: 20px; }
        .confirm-input:focus { border-color: var(--danger); outline: none; }
        .confirm-actions { display: flex; gap: 12px; }
        .confirm-btn { flex: 1; padding: 12px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: 0.3s; border: none; font-size: 14px; }
        .confirm-btn.cancel { background: rgba(255,255,255,0.1); color: white; }
        .confirm-btn.cancel:hover { background: rgba(255,255,255,0.2); }
        .confirm-btn.danger { background: var(--danger); color: white; }
        .confirm-btn.danger:hover { background: #ff6b7a; }
        .confirm-btn.primary { background: var(--primary-cyan); color: black; }
        .confirm-btn.primary:hover { box-shadow: 0 0 15px rgba(0,243,255,0.4); }

        /* Credit Purchase Modal */
        .credit-modal .confirm-box { width: 500px; }
        .credit-options { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 20px; }
        .credit-option {
            background: rgba(255,255,255,0.05); border: 2px solid #333; border-radius: 12px;
            padding: 20px 15px; text-align: center; cursor: pointer; transition: 0.3s; position: relative;
        }
        .credit-option:hover { border-color: #555; }
        .credit-option.selected { border-color: var(--primary-cyan); background: rgba(0, 243, 255, 0.1); }
        .credit-option.popular::before {
            content: 'POPULAR'; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
            background: var(--primary-purple); color: white; font-size: 9px; padding: 3px 8px; border-radius: 10px; font-weight: 700;
        }
        .credit-amount { font-size: 28px; font-weight: 700; color: white; margin-bottom: 5px; }
        .credit-label { font-size: 12px; color: var(--text-muted); margin-bottom: 10px; }
        .credit-price { font-size: 16px; font-weight: 600; color: var(--primary-cyan); }
        .credit-save { font-size: 10px; color: var(--success); margin-top: 5px; }
        .payment-summary { background: rgba(0,0,0,0.3); border-radius: 10px; padding: 15px; margin-bottom: 20px; }
        .summary-row { display: flex; justify-content: space-between; font-size: 13px; color: #ccc; margin-bottom: 8px; }
        .summary-row.total { border-top: 1px solid #333; padding-top: 10px; margin-top: 10px; font-weight: 700; color: white; font-size: 16px; }

        /* Onboarding Modal */
        .onboarding-modal .confirm-box { width: 550px; padding: 0; overflow: hidden; }
        .onboarding-header { background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); padding: 40px 30px; text-align: center; }
        .onboarding-header h2 { font-size: 24px; margin-bottom: 10px; }
        .onboarding-header p { opacity: 0.9; font-size: 14px; }
        .onboarding-body { padding: 30px; }
        .onboarding-steps { margin-bottom: 25px; }
        .step-item {
            display: flex; align-items: center; gap: 15px; padding: 15px;
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px; margin-bottom: 10px; cursor: pointer; transition: 0.3s;
        }
        .step-item:hover { border-color: var(--primary-cyan); background: rgba(0,243,255,0.05); }
        .step-item.completed { border-color: var(--success); }
        .step-number {
            width: 32px; height: 32px; border-radius: 50%; background: rgba(255,255,255,0.1);
            display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 14px;
        }
        .step-item.completed .step-number { background: var(--success); color: white; }
        .step-content { flex: 1; }
        .step-title { font-size: 14px; font-weight: 600; color: white; margin-bottom: 3px; }
        .step-desc { font-size: 12px; color: var(--text-muted); }
        .step-arrow { color: #666; }
        .onboarding-progress { height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin-bottom: 15px; overflow: hidden; }
        .onboarding-progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary-purple), var(--primary-cyan)); width: 25%; transition: 0.5s; }
        .progress-text { font-size: 12px; color: var(--text-muted); text-align: center; margin-bottom: 20px; }

        /* Global Search */
        .global-search { position: relative; }
        .search-input-wrapper { position: relative; }
        .search-input {
            width: 250px; background: rgba(0,0,0,0.4); border: 1px solid #333; border-radius: 10px;
            padding: 10px 15px 10px 40px; color: white; font-size: 14px; transition: 0.3s;
        }
        .search-input:focus { border-color: var(--primary-cyan); outline: none; box-shadow: 0 0 15px rgba(0,243,255,0.2); width: 320px; }
        .search-icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); font-size: 14px; color: #666; }
        .search-shortcut { position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.1); padding: 3px 6px; border-radius: 4px; font-size: 10px; color: #888; }
        .search-dropdown {
            position: absolute; top: 100%; left: 0; min-width: 320px;
            background: #1a1a1a; border: 1px solid #333; border-radius: 12px;
            margin-top: 10px; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.5); display: none; z-index: 1000;
        }
        .search-dropdown.active { display: block; }
        .search-category { padding: 10px 15px; font-size: 11px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; background: rgba(255,255,255,0.03); }
        .search-result { display: flex; align-items: center; gap: 15px; padding: 12px 15px; cursor: pointer; transition: 0.2s; }
        .search-result:hover { background: rgba(255,255,255,0.05); }
        .result-icon { width: 40px; height: 40px; border-radius: 8px; background: #333; display: flex; align-items: center; justify-content: center; font-size: 18px; }
        .result-icon.campaign { background: rgba(188, 19, 254, 0.2); }
        .result-icon.asset { background: rgba(0, 243, 255, 0.2); }
        .result-info { flex: 1; }
        .result-title { font-size: 14px; font-weight: 500; color: white; margin-bottom: 2px; }
        .result-meta { font-size: 11px; color: #888; }
        .result-type { font-size: 10px; color: var(--text-muted); background: rgba(255,255,255,0.1); padding: 3px 8px; border-radius: 4px; }
        .search-empty { padding: 30px; text-align: center; color: var(--text-muted); font-size: 13px; }

        /* Loading Skeletons */
        .skeleton-card { background: var(--card-bg); border-radius: 12px; overflow: hidden; border: 1px solid #333; aspect-ratio: 4/5; }
        .skeleton-image { height: 70%; background: linear-gradient(90deg, #1a1a1a 25%, #222 50%, #1a1a1a 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }
        .skeleton-content { padding: 15px; }
        .skeleton-line { height: 12px; background: linear-gradient(90deg, #1a1a1a 25%, #222 50%, #1a1a1a 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; border-radius: 4px; margin-bottom: 8px; }
        .skeleton-line.short { width: 60%; }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

        /* --- 2. MAIN CONTENT AREA --- */
        .main-content { flex: 1; position: relative; overflow: hidden; display: flex; flex-direction: column;}
        
        /* VIEW CONTAINER */
        .view-section {
            flex: 1; padding: 40px; overflow-y: auto; display: none;
            animation: fadeIn 0.4s ease;
        }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- COMMON UI ELEMENTS --- */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .page-title h1 { font-size: 28px; font-weight: 700; margin-bottom: 5px; }
        .page-title p { color: var(--text-muted); font-size: 14px; }
        
        .primary-btn { background: var(--primary-cyan); color: black; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 8px; }
        .primary-btn:hover { box-shadow: 0 0 15px rgba(0,243,255,0.3); transform: translateY(-2px); }
        .secondary-btn { background: transparent; color: white; border: 1px solid rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 8px; }
        .secondary-btn:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.4); transform: translateY(-2px); }
        
        .glass-panel { background: var(--panel-bg); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 30px; }
        
        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        label, .field-label { display: block; font-size: 11px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 8px; letter-spacing: 0.5px; }
        input, select, textarea { width: 100%; background: rgba(0,0,0,0.3); border: 1px solid #444; color: white; padding: 12px; border-radius: 8px; font-size: 14px; }
        input:focus, select:focus, textarea:focus { border-color: var(--primary-cyan); outline: none; }
        .form-group { margin-bottom: 20px; }

        /* --- STATUS INDICATORS --- */
        .connection-status { display: flex; gap: 10px; }
        .status-pill {
            padding: 6px 12px; border-radius: 20px; font-size: 11px; font-weight: 600;
            display: flex; align-items: center; gap: 6px; border: 1px solid rgba(255,255,255,0.1);
        }
        .status-pill.shopify { background: rgba(150, 191, 72, 0.1); color: var(--shopify-green); border-color: var(--shopify-green); }

        /* --- DASHBOARD STYLES --- */
        .hero-card {
            background: linear-gradient(90deg, rgba(188,19,254,0.1), rgba(0,243,255,0.1));
            border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 40px;
            display: flex; align-items: center; justify-content: space-between; margin-bottom: 40px;
        }
        .asset-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; padding-bottom: 80px; }
        
        .asset-card {
            background: var(--card-bg); border-radius: 12px; overflow: hidden; border: 1px solid #333;
            transition: 0.3s; aspect-ratio: 4/5; position: relative; cursor: pointer;
        }
        .asset-card:hover { border-color: var(--primary-cyan); transform: translateY(-5px); }
        .asset-card.selected { border-color: var(--primary-cyan); background: rgba(0, 243, 255, 0.1); transform: translateY(-3px); }
        
        .asset-img { width: 100%; height: 100%; object-fit: cover; opacity: 0.8; }
        .asset-card.selected .asset-img { opacity: 1; }
        
        .asset-overlay {
            position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            padding: 15px; pointer-events: none;
        }
        
        /* Selection Checkbox */
        .select-check { position: absolute; top: 10px; left: 10px; width: 22px; height: 22px; border: 2px solid white; border-radius: 6px; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; opacity: 0; transition: 0.2s; z-index:10; }
        .asset-card:hover .select-check { opacity: 1; }
        .asset-card.selected .select-check { opacity: 1; background: var(--primary-cyan); border-color: var(--primary-cyan); }
        .asset-card.selected .select-check::after { content: '✓'; color: black; font-weight: bold; font-size: 14px; }

        /* --- BULK ACTION BAR --- */
        .bulk-bar {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: var(--primary-cyan); color: black; padding: 12px 25px; border-radius: 50px;
            display: flex; align-items: center; gap: 20px; box-shadow: 0 10px 30px rgba(0,243,255,0.3);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 100;
        }
        .bulk-bar.active { transform: translateX(-50%) translateY(0); }
        .bulk-count { font-weight: 700; font-size: 14px; padding-right: 15px; border-right: 1px solid rgba(0,0,0,0.2); }
        .bulk-btn { background: transparent; border: none; color: black; font-weight: 600; font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 5px; }
        .bulk-btn:hover { opacity: 0.7; }

        /* --- GALLERY FILTER BAR --- */
        .filter-bar {
            display: flex; gap: 15px; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1);
            align-items: center; flex-wrap: wrap;
        }
        .search-box {
            background: rgba(255,255,255,0.05); border: 1px solid #333; border-radius: 8px;
            padding: 10px 15px; color: white; width: 300px; display: flex; gap: 10px; align-items: center;
        }
        .search-box input { background: transparent; border: none; color: white; width: 100%; outline: none; }
        .filter-select {
            background: rgba(255,255,255,0.05); border: 1px solid #333; color: white;
            padding: 10px 15px; border-radius: 8px; cursor: pointer; font-size: 13px;
            width: auto; flex-shrink: 0;
        }
        .view-toggle { margin-left: auto; display: flex; background: #111; border-radius: 8px; padding: 2px; border: 1px solid #333; }
        .toggle-btn { padding: 8px 12px; cursor: pointer; border-radius: 6px; color: #666; }
        .toggle-btn.active { background: #333; color: white; }

        /* GALLERY BULK ACTIONS */
        .bulk-actions {
            display: none; align-items: center; gap: 15px; background: rgba(0, 243, 255, 0.1);
            padding: 10px 20px; border-radius: 8px; border: 1px solid var(--primary-cyan); margin-bottom: 20px;
        }
        .bulk-actions.active { display: flex; }
        .action-link { font-size: 12px; color: white; cursor: pointer; text-decoration: underline; margin-left: 10px; }
        .action-link:hover { color: var(--primary-cyan); }

        /* GALLERY GRID */
        .gallery-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; padding-bottom: 50px;
        }
        .asset-thumb { aspect-ratio: 4/5; width: 100%; object-fit: cover; background: #222; display: block; }

        /* ASSET HOVER OVERLAY */
        .gallery-overlay {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6); opacity: 0; transition: 0.2s;
            display: flex; flex-direction: column; justify-content: space-between; padding: 10px;
        }
        .asset-card:hover .gallery-overlay { opacity: 1; }
        .asset-card.selected .gallery-overlay { opacity: 1; background: rgba(0, 243, 255, 0.1); }
        .overlay-top { display: flex; justify-content: space-between; }
        .checkbox {
            width: 20px; height: 20px; border: 2px solid white; border-radius: 4px; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }
        .asset-card.selected .checkbox { background: var(--primary-cyan); border-color: var(--primary-cyan); }
        .asset-card.selected .checkbox::after { content: '✓'; color: black; font-size: 14px; font-weight: bold; }
        .overlay-bottom { display: flex; gap: 5px; justify-content: center; }
        .icon-btn {
            width: 32px; height: 32px; background: rgba(0,0,0,0.8); color: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; cursor: pointer; border: 1px solid rgba(255,255,255,0.2);
            font-size: 14px;
        }
        .icon-btn:hover { background: white; color: black; }
        .icon-btn.delete:hover { background: var(--danger); color: white; border-color: var(--danger); }

        /* ASSET INFO */
        .asset-info { padding: 12px; border-top: 1px solid #222; }
        .asset-name { font-size: 13px; font-weight: 600; color: white; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; margin: 0; }
        .asset-meta { font-size: 11px; color: var(--text-muted); display: flex; justify-content: space-between; margin-top: 4px; }
        .badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 600; text-transform: uppercase; }
        .badge.video { background: rgba(188, 19, 254, 0.2); color: var(--primary-purple); }
        .badge.image { background: rgba(0, 243, 255, 0.1); color: var(--primary-cyan); }

        /* ============ ENHANCED GALLERY/LIBRARY STYLES ============ */
        .library-stats {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px;
        }
        .stat-card {
            background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px;
            padding: 20px; display: flex; align-items: center; gap: 15px;
        }
        .stat-icon {
            width: 45px; height: 45px; border-radius: 10px; display: flex;
            align-items: center; justify-content: center; font-size: 20px;
        }
        .stat-icon.purple { background: rgba(188,19,254,0.15); }
        .stat-icon.cyan { background: rgba(0,243,255,0.15); }
        .stat-icon.pink { background: rgba(255,0,85,0.15); }
        .stat-icon.gold { background: rgba(255,215,0,0.15); }
        .stat-value { font-size: 24px; font-weight: 700; color: white; }
        .stat-label { font-size: 12px; color: var(--text-muted); }

        .library-tabs {
            display: flex; gap: 5px; margin-bottom: 20px; background: rgba(0,0,0,0.3);
            padding: 5px; border-radius: 10px; width: fit-content;
        }
        .library-tab {
            padding: 10px 20px; border-radius: 8px; font-size: 13px; font-weight: 500;
            color: var(--text-muted); cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; gap: 8px;
        }
        .library-tab:hover { color: white; background: rgba(255,255,255,0.05); }
        .library-tab.active { background: var(--primary-cyan); color: black; font-weight: 600; }
        .library-tab .tab-count {
            background: rgba(0,0,0,0.2); padding: 2px 8px; border-radius: 10px; font-size: 11px;
        }
        .library-tab.active .tab-count { background: rgba(0,0,0,0.15); }

        .zone-filter-bar {
            display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;
        }
        .zone-chip {
            padding: 8px 16px; border-radius: 20px; font-size: 12px; font-weight: 500;
            border: 1px solid rgba(255,255,255,0.15); background: transparent;
            color: var(--text-muted); cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; gap: 6px;
        }
        .zone-chip:hover { border-color: rgba(255,255,255,0.3); color: white; }
        .zone-chip.active { background: rgba(255,255,255,0.1); border-color: white; color: white; }
        .zone-chip.hook.active { border-color: var(--primary-pink); color: var(--primary-pink); background: rgba(255,0,85,0.1); }
        .zone-chip.offer.active { border-color: var(--primary-gold); color: var(--primary-gold); background: rgba(255,215,0,0.1); }
        .zone-chip.edu.active { border-color: var(--primary-cyan); color: var(--primary-cyan); background: rgba(0,243,255,0.1); }
        .zone-chip.video.active { border-color: var(--primary-purple); color: var(--primary-purple); background: rgba(188,19,254,0.1); }

        .generation-group {
            margin-bottom: 30px;
        }
        .generation-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .generation-info { display: flex; align-items: center; gap: 15px; }
        .generation-date { font-size: 14px; font-weight: 600; color: white; }
        .generation-product {
            font-size: 12px; color: var(--primary-cyan); background: rgba(0,243,255,0.1);
            padding: 4px 12px; border-radius: 15px;
        }
        .generation-count { font-size: 12px; color: var(--text-muted); }
        .generation-actions { display: flex; gap: 10px; }
        .gen-action-btn {
            padding: 6px 12px; font-size: 11px; border-radius: 6px;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            color: #aaa; cursor: pointer; transition: 0.2s;
        }
        .gen-action-btn:hover { background: rgba(255,255,255,0.1); color: white; }

        .enhanced-asset-card {
            background: var(--card-bg); border-radius: 12px; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; position: relative;
        }
        .enhanced-asset-card:hover { border-color: var(--primary-cyan); transform: translateY(-3px); }
        .enhanced-asset-card.selected { border-color: var(--primary-cyan); box-shadow: 0 0 20px rgba(0,243,255,0.2); }

        .asset-thumb-wrapper { position: relative; aspect-ratio: 4/5; overflow: hidden; }
        .asset-thumb-wrapper img { width: 100%; height: 100%; object-fit: cover; }

        .asset-zone-badge {
            position: absolute; top: 10px; left: 10px; padding: 4px 10px;
            border-radius: 15px; font-size: 10px; font-weight: 600; text-transform: uppercase;
            backdrop-filter: blur(5px);
        }
        .asset-zone-badge.hook { background: rgba(255,0,85,0.8); color: white; }
        .asset-zone-badge.offer { background: rgba(255,215,0,0.9); color: black; }
        .asset-zone-badge.edu { background: rgba(0,243,255,0.8); color: black; }
        .asset-zone-badge.video { background: rgba(188,19,254,0.8); color: white; }

        .asset-score-badge {
            position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7);
            padding: 4px 8px; border-radius: 6px; font-size: 11px; font-weight: 600;
            backdrop-filter: blur(5px); display: flex; align-items: center; gap: 4px;
        }
        .asset-score-badge .score { color: var(--shopify-green); }

        .asset-select-check {
            position: absolute; top: 10px; left: 10px; width: 22px; height: 22px;
            border: 2px solid white; border-radius: 6px; background: rgba(0,0,0,0.5);
            cursor: pointer; opacity: 0; transition: 0.2s; z-index: 5;
            display: flex; align-items: center; justify-content: center;
        }
        .enhanced-asset-card:hover .asset-select-check { opacity: 1; }
        .enhanced-asset-card.selected .asset-select-check {
            opacity: 1; background: var(--primary-cyan); border-color: var(--primary-cyan);
        }
        .enhanced-asset-card.selected .asset-select-check::after {
            content: '✓'; color: black; font-weight: bold; font-size: 12px;
        }

        .enhanced-asset-info { padding: 12px; }
        .asset-title { font-size: 13px; font-weight: 600; color: white; margin-bottom: 6px; }
        .asset-details {
            display: flex; justify-content: space-between; align-items: center;
            font-size: 11px; color: var(--text-muted);
        }
        .asset-type-badge {
            font-size: 9px; padding: 2px 6px; border-radius: 4px; font-weight: 600; text-transform: uppercase;
        }
        .asset-type-badge.image { background: rgba(0,243,255,0.15); color: var(--primary-cyan); }
        .asset-type-badge.video { background: rgba(188,19,254,0.15); color: var(--primary-purple); }

        .asset-hover-actions {
            position: absolute; bottom: 60px; left: 0; right: 0;
            display: flex; justify-content: center; gap: 8px; padding: 10px;
            opacity: 0; transform: translateY(10px); transition: 0.2s;
        }
        .enhanced-asset-card:hover .asset-hover-actions { opacity: 1; transform: translateY(0); }
        .hover-action-btn {
            width: 36px; height: 36px; border-radius: 50%; background: rgba(0,0,0,0.8);
            border: 1px solid rgba(255,255,255,0.2); color: white;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; font-size: 14px; transition: 0.2s; backdrop-filter: blur(5px);
        }
        .hover-action-btn:hover { background: var(--primary-cyan); color: black; border-color: var(--primary-cyan); }
        .hover-action-btn.delete:hover { background: var(--danger); border-color: var(--danger); color: white; }
        .hover-action-btn.campaign:hover { background: var(--primary-purple); border-color: var(--primary-purple); }

        .trash-banner {
            background: rgba(255,71,87,0.1); border: 1px solid rgba(255,71,87,0.3);
            border-radius: 10px; padding: 15px 20px; margin-bottom: 20px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .trash-info { display: flex; align-items: center; gap: 12px; }
        .trash-icon { font-size: 24px; }
        .trash-text h4 { font-size: 14px; color: white; margin-bottom: 2px; }
        .trash-text p { font-size: 12px; color: var(--text-muted); }
        .trash-actions { display: flex; gap: 10px; }
        .restore-btn {
            padding: 8px 16px; background: transparent; border: 1px solid var(--shopify-green);
            color: var(--shopify-green); border-radius: 6px; font-size: 12px; cursor: pointer;
        }
        .restore-btn:hover { background: var(--shopify-green); color: black; }
        .empty-trash-btn {
            padding: 8px 16px; background: transparent; border: 1px solid var(--danger);
            color: var(--danger); border-radius: 6px; font-size: 12px; cursor: pointer;
        }
        .empty-trash-btn:hover { background: var(--danger); color: white; }

        /* ============ SCRIPT EDITOR MODAL ============ */
        .script-editor-modal .confirm-box { max-width: 900px; padding: 0; overflow: hidden; }
        .script-modal-header {
            background: linear-gradient(135deg, rgba(188,19,254,0.2), rgba(0,243,255,0.1));
            padding: 20px 25px; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .script-modal-header h3 { font-size: 18px; display: flex; align-items: center; gap: 10px; }
        .script-modal-body { display: grid; grid-template-columns: 1fr 280px; min-height: 450px; }
        .script-timeline { padding: 20px; border-right: 1px solid rgba(255,255,255,0.1); overflow-y: auto; max-height: 450px; }
        .timeline-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .timeline-header h4 { font-size: 12px; color: var(--primary-cyan); letter-spacing: 1px; }
        .add-segment-btn {
            padding: 5px 12px; background: rgba(0,243,255,0.1); border: 1px solid var(--primary-cyan);
            border-radius: 5px; color: var(--primary-cyan); font-size: 11px; cursor: pointer;
        }
        .add-segment-btn:hover { background: var(--primary-cyan); color: black; }
        .segment-list { display: flex; flex-direction: column; gap: 10px; }
        .segment-item {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px; padding: 12px; transition: 0.2s;
        }
        .segment-item:hover { border-color: var(--primary-purple); }
        .segment-item.active { border-color: var(--primary-cyan); background: rgba(0,243,255,0.05); }
        .segment-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .segment-number {
            background: var(--primary-purple); color: white; width: 22px; height: 22px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 11px; font-weight: 700;
        }
        .segment-duration { font-size: 10px; color: var(--text-muted); background: rgba(255,255,255,0.05); padding: 3px 8px; border-radius: 10px; }
        .segment-actions { display: flex; gap: 5px; }
        .segment-action-btn {
            width: 24px; height: 24px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 5px; color: #888; cursor: pointer; font-size: 10px;
        }
        .segment-action-btn:hover { background: rgba(255,255,255,0.1); color: white; }
        .segment-text {
            width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px; padding: 8px 10px; color: white; font-size: 12px; resize: none; min-height: 50px;
        }
        .segment-text:focus { border-color: var(--primary-cyan); outline: none; }
        .timing-slider { margin-top: 10px; }
        .timing-label { display: flex; justify-content: space-between; font-size: 10px; color: var(--text-muted); margin-bottom: 5px; }
        .timing-slider input[type="range"] {
            width: 100%; height: 4px; -webkit-appearance: none; background: rgba(255,255,255,0.1); border-radius: 2px;
        }
        .timing-slider input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; width: 12px; height: 12px; background: var(--primary-cyan); border-radius: 50%; cursor: pointer;
        }
        .script-settings { padding: 20px; background: rgba(0,0,0,0.2); }
        .settings-section { margin-bottom: 20px; }
        .settings-section h4 { font-size: 11px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }
        .voice-selector { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .voice-option {
            padding: 10px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px; cursor: pointer; text-align: center; transition: 0.2s;
        }
        .voice-option:hover { border-color: rgba(255,255,255,0.3); }
        .voice-option.selected { border-color: var(--primary-cyan); background: rgba(0,243,255,0.1); }
        .voice-avatar { width: 32px; height: 32px; border-radius: 50%; margin: 0 auto 6px; }
        .voice-name { font-size: 11px; font-weight: 600; margin-bottom: 2px; }
        .voice-desc { font-size: 9px; color: var(--text-muted); }
        .voice-preview {
            margin-top: 6px; padding: 3px 8px; background: rgba(255,255,255,0.1); border: none;
            border-radius: 10px; color: white; font-size: 9px; cursor: pointer;
        }
        .voice-preview:hover { background: var(--primary-purple); }
        .music-selector select {
            width: 100%; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px; padding: 10px; color: white; font-size: 12px; margin-bottom: 8px;
        }
        .music-preview { display: flex; align-items: center; gap: 8px; padding: 8px; background: rgba(255,255,255,0.03); border-radius: 6px; }
        .music-play-btn {
            width: 30px; height: 30px; background: var(--primary-purple); border: none;
            border-radius: 50%; color: white; cursor: pointer; font-size: 12px;
        }
        .music-waveform {
            flex: 1; height: 24px;
            background: linear-gradient(90deg, rgba(188,19,254,0.3), rgba(0,243,255,0.3), rgba(188,19,254,0.3));
            border-radius: 3px;
        }
        .script-modal-footer {
            padding: 15px 25px; border-top: 1px solid rgba(255,255,255,0.1);
            display: flex; justify-content: space-between; align-items: center;
        }
        .total-duration { font-size: 12px; color: var(--text-muted); }
        .total-duration span { color: var(--primary-cyan); font-weight: 600; }
        .footer-actions { display: flex; gap: 10px; }
        .script-btn {
            padding: 10px 20px; border-radius: 6px; font-size: 12px; font-weight: 600; cursor: pointer; transition: 0.2s;
        }
        .script-btn.secondary { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: white; }
        .script-btn.primary {
            background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); border: none; color: white;
        }
        .script-btn.primary:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(188,19,254,0.3); }

        /* ============ AVATAR STUDIO PAGE ============ */
        .avatar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .create-avatar-btn {
            padding: 12px 24px; background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan));
            border: none; border-radius: 10px; color: white; font-size: 13px; font-weight: 600;
            cursor: pointer; display: flex; align-items: center; gap: 8px;
        }
        .create-avatar-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(188,19,254,0.3); }
        .avatar-tabs {
            display: flex; gap: 5px; margin-bottom: 20px; background: rgba(0,0,0,0.3);
            padding: 5px; border-radius: 10px; width: fit-content;
        }
        .avatar-tab {
            padding: 10px 18px; border-radius: 8px; font-size: 12px; color: var(--text-muted);
            cursor: pointer; transition: 0.2s;
        }
        .avatar-tab:hover { color: white; background: rgba(255,255,255,0.05); }
        .avatar-tab.active { background: var(--primary-cyan); color: black; font-weight: 600; }
        .avatar-filters { display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap; align-items: center; }
        .avatar-filter-group { display: flex; align-items: center; gap: 6px; }
        .avatar-filter-label { font-size: 11px; color: var(--text-muted); }
        .avatar-filter-select {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px; padding: 8px 12px; color: white; font-size: 12px;
        }
        .avatar-search {
            flex: 1; min-width: 180px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 6px; padding: 8px 12px; color: white; font-size: 12px;
        }
        .avatar-search::placeholder { color: #666; }
        .avatar-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 18px; }
        .avatar-card {
            background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 14px; overflow: hidden; transition: 0.3s; position: relative;
        }
        .avatar-card:hover { border-color: var(--primary-cyan); transform: translateY(-4px); }
        .avatar-card.favorited .favorite-btn { color: var(--primary-gold); }
        .avatar-preview { aspect-ratio: 1; background: linear-gradient(180deg, #2a2a3a, #1a1a2a); position: relative; overflow: hidden; }
        .avatar-image { width: 100%; height: 100%; object-fit: cover; }
        .avatar-animated-badge {
            position: absolute; top: 8px; left: 8px; background: rgba(188,19,254,0.9);
            color: white; padding: 3px 8px; border-radius: 10px; font-size: 9px; font-weight: 600;
        }
        .favorite-btn {
            position: absolute; top: 8px; right: 8px; width: 28px; height: 28px;
            background: rgba(0,0,0,0.5); border: none; border-radius: 50%;
            color: #666; font-size: 14px; cursor: pointer; transition: 0.2s;
        }
        .favorite-btn:hover { color: var(--primary-gold); transform: scale(1.1); }
        .avatar-hover-actions {
            position: absolute; bottom: 0; left: 0; right: 0; padding: 12px;
            background: linear-gradient(transparent, rgba(0,0,0,0.9));
            display: flex; gap: 6px; opacity: 0; transform: translateY(10px); transition: 0.2s;
        }
        .avatar-card:hover .avatar-hover-actions { opacity: 1; transform: translateY(0); }
        .avatar-action {
            flex: 1; padding: 7px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
            border-radius: 5px; color: white; font-size: 10px; cursor: pointer; text-align: center;
        }
        .avatar-action:hover { background: var(--primary-cyan); color: black; border-color: var(--primary-cyan); }
        .avatar-action.primary { background: var(--primary-purple); border-color: var(--primary-purple); }
        .avatar-info { padding: 12px; }
        .avatar-name { font-size: 13px; font-weight: 600; margin-bottom: 3px; }
        .avatar-meta { font-size: 10px; color: var(--text-muted); display: flex; gap: 8px; }
        .upload-avatar-card {
            background: transparent; border: 2px dashed rgba(255,255,255,0.2);
            border-radius: 14px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; min-height: 240px; cursor: pointer; transition: 0.3s;
        }
        .upload-avatar-card:hover { border-color: var(--primary-cyan); background: rgba(0,243,255,0.05); }
        .upload-icon { font-size: 40px; margin-bottom: 12px; opacity: 0.5; }
        .upload-text { font-size: 13px; color: var(--text-muted); margin-bottom: 4px; }
        .upload-subtext { font-size: 10px; color: #666; }

        /* ============ UPGRADE MODAL ============ */
        .upgrade-modal .confirm-box { max-width: 850px; padding: 0; overflow: hidden; }
        .upgrade-header {
            background: linear-gradient(135deg, rgba(188,19,254,0.3), rgba(0,243,255,0.2));
            padding: 30px; text-align: center;
        }
        .upgrade-header h3 { font-size: 24px; margin-bottom: 8px; }
        .upgrade-header p { color: var(--text-muted); font-size: 13px; }
        .billing-toggle {
            display: flex; justify-content: center; gap: 0; margin-top: 20px;
            background: rgba(0,0,0,0.3); padding: 4px; border-radius: 20px; width: fit-content; margin-left: auto; margin-right: auto;
        }
        .billing-option {
            padding: 8px 20px; border-radius: 16px; font-size: 12px; color: var(--text-muted);
            cursor: pointer; transition: 0.2s; position: relative;
        }
        .billing-option.active { background: var(--primary-cyan); color: black; font-weight: 600; }
        .save-badge {
            position: absolute; top: -6px; right: -8px; background: var(--shopify-green);
            color: black; padding: 2px 6px; border-radius: 8px; font-size: 8px; font-weight: 700;
        }
        .plans-container { padding: 30px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .plan-card {
            background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 14px; padding: 25px; position: relative; transition: 0.3s;
        }
        .plan-card:hover { border-color: rgba(255,255,255,0.3); transform: translateY(-3px); }
        .plan-card.popular { border-color: var(--primary-cyan); background: rgba(0,243,255,0.05); }
        .plan-card.current { border-color: var(--shopify-green); background: rgba(150,191,72,0.05); }
        .popular-badge, .current-badge {
            position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
            padding: 4px 12px; border-radius: 12px; font-size: 10px; font-weight: 700;
        }
        .popular-badge { background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); color: white; }
        .current-badge { background: var(--shopify-green); color: black; }
        .plan-name { font-size: 16px; font-weight: 700; margin-bottom: 4px; }
        .plan-desc { font-size: 11px; color: var(--text-muted); margin-bottom: 15px; }
        .plan-price { font-size: 36px; font-weight: 800; margin-bottom: 4px; }
        .plan-price span { font-size: 14px; font-weight: 400; color: var(--text-muted); }
        .plan-billed { font-size: 10px; color: var(--text-muted); margin-bottom: 20px; }
        .plan-features { list-style: none; margin-bottom: 20px; }
        .plan-features li {
            padding: 6px 0; font-size: 12px; color: #ccc; display: flex; align-items: center; gap: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .plan-features li:last-child { border-bottom: none; }
        .feature-check { color: var(--shopify-green); }
        .feature-x { color: #666; }
        .feature-highlight { color: var(--primary-cyan); font-weight: 600; }
        .plan-btn {
            width: 100%; padding: 12px; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; transition: 0.2s;
        }
        .plan-btn.upgrade-btn {
            background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); border: none; color: white;
        }
        .plan-btn.upgrade-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(188,19,254,0.3); }
        .plan-btn.current-plan-btn { background: transparent; border: 1px solid var(--shopify-green); color: var(--shopify-green); }
        .plan-btn.downgrade-btn { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: var(--text-muted); }
        .addons-section { padding: 0 30px 25px; }
        .addons-title { font-size: 14px; font-weight: 600; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .addons-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .addon-card {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px; padding: 15px; display: flex; justify-content: space-between; align-items: center; transition: 0.2s;
        }
        .addon-card:hover { border-color: var(--primary-cyan); }
        .addon-info h4 { font-size: 13px; margin-bottom: 2px; }
        .addon-info p { font-size: 10px; color: var(--text-muted); }
        .addon-price { font-size: 14px; font-weight: 700; color: var(--primary-cyan); }
        .addon-btn {
            padding: 6px 12px; background: rgba(0,243,255,0.1); border: 1px solid var(--primary-cyan);
            border-radius: 5px; color: var(--primary-cyan); font-size: 11px; cursor: pointer; margin-left: 12px;
        }
        .addon-btn:hover { background: var(--primary-cyan); color: black; }

        /* LIGHTBOX ENHANCEMENTS */
        .lightbox-close { position: absolute; top: 30px; right: 30px; font-size: 30px; cursor: pointer; color: white; }
        .lightbox-details { margin-top: 20px; text-align: center; color: white; }

        /* --- GENERATOR STYLES --- */
        .generator-wrapper { display: flex; height: 100%; }
        .inventory-drawer {
            width: 0px; opacity: 0; background: rgba(0,0,0,0.4);
            border-right: 1px solid rgba(255,255,255,0.1); transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); overflow: hidden;
            display: flex; flex-direction: column;
        }
        .inventory-drawer.active { width: 300px; opacity: 1; }
        .sidebar-content { width: 300px; padding: 20px; height: 100%; display: flex; flex-direction: column; }
        .product-list { overflow-y: auto; flex-grow: 1; margin-top: 10px; }
        .p-item {
            padding: 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.05); margin-bottom: 10px;
            cursor: pointer; display: flex; gap: 12px; align-items: center; transition: 0.2s;
        }
        .p-item:hover { background: rgba(255,255,255,0.05); border-color: var(--primary-cyan); }
        .p-item img { width: 40px; height: 40px; border-radius: 4px; background: #333; object-fit: cover; }
        .p-info h4 { font-size: 13px; color: white; font-weight: 500; }
        .p-info span { font-size: 11px; color: #888; }

        /* Generator Grid Layout */
        .dashboard-grid { display: grid; grid-template-columns: 280px 1fr; gap: 30px; max-width: 1200px; margin: 0 auto; }

        /* Brand DNA Panel */
        .brand-panel {
            background: var(--panel-bg); backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 25px;
            height: fit-content;
        }
        .brand-title { font-size: 14px; font-weight: 700; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }
        .brand-field { margin-bottom: 20px; }
        .logo-upload-small {
            border: 1px dashed rgba(255,255,255,0.3); padding: 10px; border-radius: 8px;
            text-align: center; font-size: 11px; color: var(--text-muted); cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 8px; transition: 0.3s;
        }
        .logo-upload-small:hover { border-color: var(--primary-cyan); color: var(--primary-cyan); }
        .color-picker-row { display: flex; gap: 10px; }
        .gen-color-swatch {
            width: 35px; height: 35px; border-radius: 6px; border: 2px solid rgba(255,255,255,0.2); cursor: pointer; position: relative;
        }
        .gen-color-swatch input[type="color"] { position: absolute; opacity: 0; width: 100%; height: 100%; cursor: pointer; }

        /* Main Form Panel */
        .main-form-panel {
            background: var(--panel-bg); backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 243, 255, 0.2); border-radius: 16px; padding: 40px;
            width: 100%; transition: 0.5s;
        }
        .section-title {
            font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px;
            margin: 30px 0 15px 0; padding-bottom: 5px; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .casting-row { display: flex; gap: 15px; }
        .casting-col { flex: 1; }

        /* Connect Bar */
        .connect-bar { display: flex; gap: 10px; }
        .connect-btn {
            background: transparent; border: 1px solid rgba(255,255,255,0.2); color: white;
            padding: 8px 16px; border-radius: 20px; font-weight: 600; font-size: 13px;
            display: flex; align-items: center; gap: 8px; cursor: pointer; transition: 0.3s;
        }
        .connect-btn.shopify { border-color: var(--shopify-green); color: var(--shopify-green); }
        .connect-btn.shopify:hover { background: var(--shopify-green); color: black; box-shadow: 0 0 15px rgba(150, 191, 72, 0.4); }
        .connect-btn.tiktok:hover { background: white; color: black; border-color: white; }
        .connected-badge {
            background: rgba(150, 191, 72, 0.1); color: var(--shopify-green); padding: 8px 16px;
            border-radius: 20px; font-weight: 600; font-size: 13px; display: flex; align-items: center; gap: 8px;
        }

        .upload-zone { border: 2px dashed #444; padding: 20px; text-align: center; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        .upload-zone:hover { border-color: var(--primary-cyan); }
        .smart-filled { animation: flashGreen 1.5s ease-out; }
        @keyframes flashGreen { 0% { border-color: var(--shopify-green); box-shadow: 0 0 15px var(--shopify-green); } 100% { border-color: #444; box-shadow: none; } }

        .launch-btn {
            width: 100%; padding: 16px; background: linear-gradient(90deg, var(--primary-purple), var(--primary-cyan));
            color: white; font-size: 16px; font-weight: 600; border-radius: 8px; border: none; cursor: pointer;
            margin-top: 30px; box-shadow: 0 0 20px rgba(188, 19, 254, 0.4); transition: 0.3s;
        }
        .launch-btn:hover { transform: translateY(-2px); box-shadow: 0 0 30px rgba(188, 19, 254, 0.6); }

        /* OAuth Modal */
        .oauth-modal {
            position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .oauth-box { background: white; color: #333; padding: 30px; border-radius: 10px; text-align: center; width: 400px; }
        .oauth-spinner { width: 30px; height: 30px; border: 3px solid #ddd; border-top: 3px solid #008060; border-radius: 50%; margin: 20px auto; animation: spin 1s infinite linear; }

        /* --- CAMPAIGN STYLES (ENHANCED) --- */
        .campaign-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .campaign-card {
            background: var(--card-bg); border: 1px solid #333; border-radius: 12px; padding: 25px;
            transition: 0.3s; cursor: pointer; position: relative; height: 220px; display: flex; flex-direction: column; overflow: hidden;
        }
        .campaign-card:hover { transform: translateY(-5px); border-color: var(--primary-cyan); }
        
        .camp-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; }
        .camp-icon { width: 40px; height: 40px; background: rgba(255,255,255,0.05); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .camp-menu { font-size: 20px; color: #666; cursor: pointer; }
        .camp-menu:hover { color: white; }

        .camp-title { font-size: 16px; font-weight: 600; color: white; margin-bottom: 5px; }
        .camp-meta { font-size: 12px; color: #888; display: flex; gap: 10px; align-items: center; }

        .camp-stats { margin-top: auto; display: flex; justify-content: space-between; align-items: center; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); }
        .stat-badge { font-size: 11px; background: rgba(255,255,255,0.1); padding: 4px 8px; border-radius: 4px; color: #ccc; }
        
        .status-dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; margin-right: 5px; }
        .status-success { background: var(--success); }
        .status-pending { background: var(--pending); }

        /* PREVIEW IMAGES (Stacked) */
        .preview-stack { display: flex; margin-top: 15px; }
        .preview-img { width: 30px; height: 30px; border-radius: 50%; border: 2px solid var(--card-bg); object-fit: cover; margin-right: -10px; background: #333; }
        .preview-count { width: 30px; height: 30px; border-radius: 50%; background: #333; border: 2px solid var(--card-bg); display: flex; align-items: center; justify-content: center; font-size: 10px; color: #aaa; z-index: 5; }

        /* CREATE NEW CARD */
        .campaign-card.new { border: 2px dashed #444; background: transparent; align-items: center; justify-content: center; text-align: center; }
        .campaign-card.new:hover { border-color: var(--primary-purple); background: rgba(188, 19, 254, 0.05); }
        .plus-icon { font-size: 40px; color: #444; margin-bottom: 10px; transition: 0.3s; }
        .campaign-card.new:hover .plus-icon { color: var(--primary-purple); }

        /* --- RESULTS STYLES --- */
        .full-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .zone-title { margin: 40px 0 20px; font-size: 16px; letter-spacing: 1px; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; font-weight: 600; }
        .ad-image { width: 100%; height: 100%; background-size: cover; background-position: center; }
        .overlay-text { position: absolute; width: 100%; text-align: center; padding: 15px; top: 15%; display: flex; flex-direction: column; align-items: center; }
        .headline { font-family: 'Oswald', sans-serif; font-size: 22px; color: white; text-transform: uppercase; text-shadow: 0 2px 10px rgba(0,0,0,1); }
        .card-actions { position: absolute; bottom: 0; width: 100%; background: rgba(0,0,0,0.9); display: flex; justify-content: space-around; padding: 10px; opacity: 0; transition: 0.3s; }
        .asset-card:hover .card-actions { opacity: 1; }
        .action-tool { color: #ccc; font-size: 10px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 3px; }

        /* --- BRAND KIT STYLES --- */
        .brand-kit-layout { display: grid; grid-template-columns: 1fr 400px; gap: 40px; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .save-btn { background: var(--primary-cyan); color: black; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 700; cursor: pointer; display: flex; align-items: center; gap: 8px; box-shadow: 0 0 20px rgba(0, 243, 255, 0.3); transition: 0.3s; }
        .save-btn:hover { transform: translateY(-2px); box-shadow: 0 0 30px rgba(0, 243, 255, 0.5); }
        
        .settings-panel { background: var(--panel-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 30px; backdrop-filter: blur(10px); }
        .section-label { font-size: 12px; text-transform: uppercase; color: var(--text-muted); letter-spacing: 1px; margin-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        
        .logo-area { display: flex; align-items: center; gap: 20px; margin-bottom: 30px; }
        .current-logo { width: 80px; height: 80px; background: white; border-radius: 12px; display: flex; align-items: center; justify-content: center; border: 1px solid #333; }
        .upload-box { flex: 1; border: 2px dashed #444; border-radius: 12px; padding: 20px; text-align: center; color: #888; font-size: 13px; cursor: pointer; transition: 0.3s; }
        .upload-box:hover { border-color: var(--primary-cyan); color: var(--primary-cyan); background: rgba(0,243,255,0.05); }
        
        .color-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .color-group label { display: block; font-size: 12px; margin-bottom: 8px; color: white; }
        .color-input { display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.3); border: 1px solid #444; padding: 10px; border-radius: 8px; }
        .color-swatch { width: 30px; height: 30px; border-radius: 6px; border: 1px solid #fff; cursor: pointer; position: relative; overflow: hidden; }
        .color-swatch input { position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; cursor: pointer; }
        .hex-code { font-family: monospace; color: #aaa; font-size: 13px; }
        
        .font-group { margin-bottom: 20px; }
        .font-group label { display: block; font-size: 12px; margin-bottom: 8px; color: white; }
        
        .preview-panel { display: flex; flex-direction: column; gap: 20px; }
        .preview-label { font-size: 12px; color: var(--primary-cyan); text-align: center; margin-bottom: 10px; }
        .mock-ad { background-image: url('https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=600'); background-size: cover; background-position: center; border-radius: 16px; aspect-ratio: 4/5; position: relative; border: 1px solid #444; box-shadow: 0 20px 50px rgba(0,0,0,0.5); overflow: hidden; }
        .mock-logo { position: absolute; top: 20px; left: 0; right: 0; text-align: center; }
        .mock-text-layer { position: absolute; bottom: 40px; left: 20px; right: 20px; text-align: center; }
        .mock-headline { font-family: var(--brand-font-head); font-size: 32px; color: white; text-transform: uppercase; text-shadow: 0 2px 10px rgba(0,0,0,0.8); line-height: 1.1; }
        .mock-button { display: inline-block; margin-top: 15px; padding: 10px 25px; background: var(--brand-primary); color: white; border-radius: 30px; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }

        /* --- SETTINGS STYLES --- */
        .settings-layout { display: grid; grid-template-columns: 220px 1fr; gap: 40px; }
        .settings-nav { border-right: 1px solid rgba(255,255,255,0.1); padding-right: 20px; }
        .set-link { display: block; padding: 10px 15px; color: var(--text-muted); font-size: 13px; font-weight: 500; border-radius: 6px; margin-bottom: 5px; cursor: pointer; transition: 0.2s; }
        .set-link.active { background: rgba(0, 243, 255, 0.1); color: var(--primary-cyan); font-weight: 600; }
        .settings-section { display: none; }
        .settings-section.active { display: block; animation: fadeIn 0.3s ease; }
        .set-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 25px; margin-bottom: 25px; }
        .set-title { font-size: 16px; font-weight: 600; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; display: flex; justify-content: space-between; align-items: center; }
        
        /* Billing */
        .billing-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .pricing-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 15px; }
        .price-card { background: rgba(255,255,255,0.05); border: 1px solid #333; border-radius: 10px; padding: 20px; display: flex; flex-direction: column; position: relative; }
        .price-card.featured { border-color: var(--primary-purple); background: rgba(188, 19, 254, 0.1); }
        .price-tag { font-size: 24px; font-weight: 700; margin: 10px 0; color: white; }
        .price-features { list-style: none; margin-top: 15px; flex: 1; padding: 0; }
        .price-features li { font-size: 11px; color: #ccc; margin-bottom: 8px; }
        .plan-btn { width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #555; background: transparent; color: white; cursor: pointer; font-size: 12px; margin-top: 15px; }
        .current-plan-badge { position: absolute; top: -10px; left: 50%; transform: translateX(-50%); background: var(--primary-cyan); color: black; font-size: 9px; padding: 3px 8px; border-radius: 10px; font-weight: 700; }
        
        /* Integrations */
        .active-integration { background: rgba(150, 191, 72, 0.05); border: 1px solid var(--shopify-green); border-radius: 12px; padding: 20px; margin-bottom: 20px; }
        .active-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .sync-options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding-top: 15px; border-top: 1px solid rgba(150,191,72,0.2); }
        .int-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .int-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        
        /* Team */
        .team-member-row { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px; border: 1px solid #333; margin-bottom: 10px; }
        .member-avatar { width: 40px; height: 40px; background: #333; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; color: #fff; }

        /* Toggles */
        .toggle-switch { position: relative; width: 34px; height: 18px; display: inline-block; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #444; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 12px; width: 12px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-cyan); }
        input:checked + .slider:before { transform: translateX(16px); }

        /* --- GENERAL SETTINGS SPECIFIC STYLES --- */

        /* Profile Header & Avatar */
        .profile-header { display: flex; align-items: center; gap: 20px; margin-bottom: 30px; }
        .large-avatar {
            width: 80px; height: 80px; background: linear-gradient(45deg, #bc13fe, #00f3ff);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 24px; color: white; border: 3px solid rgba(255,255,255,0.1); position: relative;
        }
        .edit-avatar-badge {
            position: absolute; bottom: 0; right: 0; background: #333; width: 24px; height: 24px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-size: 12px; border: 2px solid var(--bg-deep); cursor: pointer;
        }
        .edit-avatar-badge:hover { background: var(--primary-cyan); color: black; }

        /* Danger Zone */
        .danger-zone { border: 1px solid rgba(255, 71, 87, 0.3); background: rgba(255, 71, 87, 0.05); }
        .danger-btn { background: transparent; border: 1px solid var(--danger); color: var(--danger); padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: 600; }
        .danger-btn:hover { background: var(--danger); color: white; }

        /* --- BILLING SPECIFIC STYLES --- */

        /* Plan Card */
        .plan-card-inner {
            background: linear-gradient(135deg, rgba(188,19,254,0.15), rgba(0,243,255,0.1));
            border: 1px solid rgba(188,19,254,0.3); border-radius: 8px; padding: 20px;
            display: flex; flex-direction: column; justify-content: space-between; height: 100%;
        }
        .plan-header h3 { font-size: 20px; margin-bottom: 5px; color: white; }
        .plan-header span { font-size: 12px; color: #ddd; }
        .plan-price { font-size: 28px; font-weight: 700; margin: 15px 0; color: white; }
        .plan-price span { font-size: 14px; color: var(--text-muted); font-weight: 400; }

        /* Usage Card */
        .usage-bar-container { margin: 15px 0; }
        .usage-label { display: flex; justify-content: space-between; font-size: 12px; color: #ccc; margin-bottom: 8px; }
        .progress-track { height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary-purple), var(--primary-cyan)); width: 65%; }

        /* Payment Methods */
        .payment-method-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px; background: rgba(0,0,0,0.2); border-radius: 8px; border: 1px solid #333; margin-bottom: 10px;
        }
        .card-details { display: flex; align-items: center; gap: 15px; }
        .card-icon { width: 40px; height: 25px; background: #fff; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #222; font-weight: 700; font-size: 10px; letter-spacing: 1px; }

        /* Invoice Table */
        .invoice-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .invoice-table th { text-align: left; padding: 10px; color: var(--text-muted); font-weight: 500; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .invoice-table td { padding: 15px 10px; border-bottom: 1px solid rgba(255,255,255,0.05); color: #ddd; }
        .status-badge { padding: 4px 10px; border-radius: 12px; font-size: 10px; font-weight: 600; text-transform: uppercase; }
        .status-paid { background: rgba(46, 204, 113, 0.15); color: var(--success); }
        .status-due { background: rgba(255, 71, 87, 0.15); color: var(--danger); }
        .download-icon { color: var(--text-muted); cursor: pointer; font-size: 16px; }
        .download-icon:hover { color: white; }

        /* --- INTEGRATIONS SPECIFIC STYLES --- */
        .int-category { font-size: 12px; color: var(--text-muted); text-transform: uppercase; margin: 30px 0 15px 0; letter-spacing: 1px; font-weight: 600; }

        /* Active Integration Card */
        .active-integration {
            background: rgba(150, 191, 72, 0.05); border: 1px solid var(--shopify-green);
            border-radius: 12px; padding: 20px; margin-bottom: 20px;
        }
        .active-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .active-brand { display: flex; align-items: center; gap: 15px; }
        .active-brand img { width: 40px; }

        .sync-options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding-top: 15px; border-top: 1px solid rgba(150,191,72,0.2); }
        .sync-option { display: flex; align-items: center; justify-content: space-between; font-size: 13px; color: #ddd; }

        /* Available Integration Grid */
        .int-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
        .int-card {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px; padding: 20px; display: flex; flex-direction: column; gap: 15px;
            transition: 0.2s; height: 100%;
        }
        .int-card:hover { background: rgba(255,255,255,0.05); border-color: rgba(255,255,255,0.2); }

        .int-logo { width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px; background: #fff; }
        .int-card h4 { margin: 0; font-size: 14px; color: white; }
        .int-card p { margin: 0; font-size: 11px; color: #aaa; line-height: 1.4; }

        .connect-btn-small {
            width: 100%; padding: 8px; border-radius: 6px; font-size: 12px; font-weight: 600; cursor: pointer;
            background: transparent; border: 1px solid #555; color: white; transition: 0.2s; margin-top: auto;
        }
        .connect-btn-small:hover { background: white; color: black; border-color: white; }

        /* --- TEAM SPECIFIC STYLES --- */
        .team-member-row {
            display: flex; justify-content: space-between; align-items: center; padding: 15px;
            background: rgba(0,0,0,0.3); border-radius: 8px; border: 1px solid #333; margin-bottom: 10px; transition: 0.2s;
        }
        .team-member-row:hover { border-color: #555; }
        .member-info { display: flex; align-items: center; gap: 15px; }
        .member-avatar { width: 40px; height: 40px; background: #333; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; color: #fff; }

        .role-badge {
            font-size: 10px; padding: 3px 8px; border-radius: 4px; text-transform: uppercase; font-weight: 700; margin-left: 10px;
        }
        .role-owner { background: rgba(188, 19, 254, 0.2); color: var(--primary-purple); }
        .role-editor { background: rgba(0, 243, 255, 0.2); color: var(--primary-cyan); }
        .role-viewer { background: rgba(255, 255, 255, 0.1); color: #aaa; }

        .permission-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;
            background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; border: 1px solid #333;
        }
        .perm-item { display: flex; align-items: center; justify-content: space-between; font-size: 13px; color: #ccc; }

        .invite-box {
            border: 1px dashed #444; background: rgba(255,255,255,0.02); padding: 25px; border-radius: 12px; margin-top: 30px;
        }

        /* --- NOTIFICATION SPECIFIC STYLES --- */
        .notif-category {
            font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px;
            margin: 15px 0 10px 0; font-weight: 700;
        }

        .notif-row {
            display: flex; justify-content: space-between; align-items: center; padding: 15px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .notif-row:last-child { border-bottom: none; }

        .notif-info h4 { font-size: 14px; margin: 0 0 4px 0; color: white; font-weight: 500; }
        .notif-info p { margin: 0; font-size: 11px; color: #aaa; }

        .channel-toggles { display: flex; gap: 20px; align-items: center; }

        /* Threshold Slider */
        .range-slider-container { margin-top: 10px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px; }
        input[type=range] { width: 100%; -webkit-appearance: none; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 14px; width: 14px; border-radius: 50%; background: var(--primary-cyan); cursor: pointer; margin-top: -5px; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; cursor: pointer; background: #444; border-radius: 2px; }

        /* MODALS & OVERLAYS */
        .loading-overlay { position: fixed; top: 0; left: 260px; right: 0; bottom: 0; background: var(--bg-deep); z-index: 300; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .spinner { width: 50px; height: 50px; border: 3px solid #333; border-top: 3px solid var(--primary-cyan); border-radius: 50%; animation: spin 1s infinite linear; margin-bottom: 20px; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .hidden { display: none !important; }

        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000;
            display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px);
        }
        .modal-overlay.active { display: flex; }
        .modal-box { background: #1a1a1a; border: 1px solid #333; padding: 30px; border-radius: 16px; width: 400px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .campaign-option { padding: 12px; border: 1px solid #333; border-radius: 8px; margin-bottom: 8px; cursor: pointer; display: flex; align-items: center; gap: 10px; color: #ccc; }
        .campaign-option.active { border-color: var(--primary-cyan); background: rgba(0,243,255,0.1); color: white; }

        /* Lightbox */
        .lightbox { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.95); z-index: 1000; display: none; align-items: center; justify-content: center; flex-direction: column; }
        .lightbox.active { display: flex; }
        .lightbox-img { max-height: 80vh; max-width: 90vw; border-radius: 8px; }

        /* ============ RESULTS PAGE STYLES ============ */
        .results-container { max-width: 1400px; margin: 0 auto; padding: 30px 40px; }

        .results-header {
            background: var(--card-bg); border-radius: 16px; padding: 25px 30px;
            border: 1px solid rgba(255,255,255,0.1); margin-bottom: 30px;
            display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;
        }
        .results-info h1 { font-size: 24px; margin-bottom: 8px; }
        .results-meta { display: flex; gap: 25px; font-size: 13px; color: var(--text-muted); flex-wrap: wrap; }
        .results-meta span { display: flex; align-items: center; gap: 6px; }
        .product-tag { color: var(--primary-cyan); font-weight: 600; }
        .results-actions { display: flex; gap: 12px; flex-wrap: wrap; }

        .save-campaign-btn {
            background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan));
            color: white; border: none; padding: 12px 20px; border-radius: 8px;
            font-weight: 600; font-size: 13px; cursor: pointer; display: flex;
            align-items: center; gap: 8px; transition: 0.3s;
        }
        .save-campaign-btn:hover { transform: translateY(-2px); box-shadow: 0 0 25px rgba(188,19,254,0.4); }

        /* Zone Tabs */
        .zone-tabs { display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        .zone-tab {
            padding: 12px 20px; border-radius: 10px; font-size: 13px; font-weight: 600;
            cursor: pointer; border: 1px solid rgba(255,255,255,0.1); background: var(--card-bg);
            display: flex; align-items: center; gap: 8px; transition: 0.3s;
        }
        .zone-tab:hover { border-color: rgba(255,255,255,0.3); }
        .zone-tab.active { border-color: var(--primary-cyan); background: rgba(0,243,255,0.1); }
        .zone-tab .count { background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 10px; font-size: 11px; }
        .hook-tab.active { border-color: var(--primary-pink); background: rgba(255,0,85,0.1); }
        .offer-tab.active { border-color: var(--primary-gold); background: rgba(255,215,0,0.1); }
        .edu-tab.active { border-color: var(--primary-cyan); background: rgba(0,243,255,0.1); }
        .video-tab.active { border-color: var(--primary-purple); background: rgba(188,19,254,0.1); }

        /* Zone Sections */
        .zone-section { margin-bottom: 50px; }
        .zone-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .zone-title { font-size: 18px; font-weight: 700; display: flex; align-items: center; gap: 10px; }
        .hook-color { color: var(--primary-pink); }
        .offer-color { color: var(--primary-gold); }
        .edu-color { color: var(--primary-cyan); }
        .video-color { color: var(--primary-purple); }

        .zone-actions { display: flex; gap: 10px; }
        .zone-action-btn {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            color: #aaa; padding: 8px 14px; border-radius: 8px; font-size: 12px;
            cursor: pointer; display: flex; align-items: center; gap: 6px; transition: 0.3s;
        }
        .zone-action-btn:hover { background: rgba(255,255,255,0.1); color: white; }

        /* Content Grid */
        .content-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        @media (max-width: 1100px) { .content-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 700px) { .content-grid { grid-template-columns: 1fr; } }

        /* Result Ad Card */
        .result-card {
            background: var(--card-bg); border-radius: 12px; overflow: hidden; position: relative;
            border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; aspect-ratio: 4/5;
        }
        .result-card:hover { transform: translateY(-5px); border-color: var(--primary-cyan); }
        .result-card.selected { border-color: var(--primary-cyan); box-shadow: 0 0 20px rgba(0,243,255,0.3); }
        .result-image { width: 100%; height: 100%; background-size: cover; background-position: center; }

        .result-select {
            position: absolute; top: 12px; left: 12px; width: 24px; height: 24px;
            background: rgba(0,0,0,0.6); border: 2px solid rgba(255,255,255,0.4);
            border-radius: 6px; cursor: pointer; display: flex; align-items: center; justify-content: center;
            opacity: 0; transition: 0.3s; z-index: 5;
        }
        .result-card:hover .result-select { opacity: 1; }
        .result-card.selected .result-select { opacity: 1; background: var(--primary-cyan); border-color: var(--primary-cyan); }
        .result-card.selected .result-select::after { content: '\2713'; color: black; font-weight: bold; font-size: 14px; }

        .score-badge {
            position: absolute; top: 12px; right: 12px; background: rgba(0,0,0,0.7);
            padding: 6px 10px; border-radius: 6px; font-size: 11px; font-weight: 700;
            display: flex; align-items: center; gap: 5px; backdrop-filter: blur(5px);
        }
        .score-high { color: var(--shopify-green); }
        .score-med { color: #ffce00; }

        .overlay-text {
            position: absolute; width: 100%; text-align: center; padding: 15px;
            display: flex; flex-direction: column; align-items: center;
        }
        .headline {
            font-family: 'Oswald', sans-serif; font-size: 22px; color: white;
            text-transform: uppercase; text-shadow: 0 2px 10px rgba(0,0,0,1); line-height: 1.1;
        }
        .subhead {
            font-size: 10px; background: #8F9E8B; color: white; padding: 3px 10px;
            border-radius: 4px; margin-top: 8px; font-weight: 600;
        }

        .pointer-list {
            text-align: left; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px);
            padding: 15px; border-radius: 8px; border-left: 3px solid var(--primary-cyan);
            margin-top: 10px; width: 90%;
        }
        .pointer-item { font-size: 12px; margin-bottom: 6px; display: flex; align-items: center; gap: 8px; }
        .pointer-dot { width: 6px; height: 6px; background: var(--primary-cyan); border-radius: 50%; flex-shrink: 0; }

        .info-block {
            background: rgba(255,255,255,0.95); color: #222; padding: 15px; border-radius: 8px;
            font-size: 12px; line-height: 1.5; text-align: left; width: 90%;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }
        .info-title { font-weight: 700; text-transform: uppercase; color: #8F9E8B; margin-bottom: 6px; font-size: 10px; }

        .result-actions {
            position: absolute; bottom: 0; left: 0; right: 0;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(10px);
            padding: 12px 15px; display: flex; justify-content: space-around; align-items: center;
            border-top: 1px solid rgba(255,255,255,0.1);
            opacity: 0; transform: translateY(10px); transition: 0.3s;
        }
        .result-card:hover .result-actions { opacity: 1; transform: translateY(0); }

        .result-tool {
            display: flex; flex-direction: column; align-items: center; cursor: pointer;
            color: #aaa; font-size: 10px; gap: 4px; transition: 0.2s; padding: 5px 10px; border-radius: 6px;
        }
        .result-tool:hover { color: var(--primary-cyan); background: rgba(0,243,255,0.1); }
        .result-tool-icon { font-size: 18px; }

        /* Video Grid */
        .video-grid {
            display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px;
            scrollbar-width: thin; scrollbar-color: var(--primary-purple) #222;
        }
        .video-grid::-webkit-scrollbar { height: 8px; }
        .video-grid::-webkit-scrollbar-track { background: #222; border-radius: 4px; }
        .video-grid::-webkit-scrollbar-thumb { background: var(--primary-purple); border-radius: 4px; }

        .video-result-card {
            min-width: 200px; aspect-ratio: 9/16; background: #000; border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1); position: relative; overflow: hidden;
            cursor: pointer; background-size: cover; background-position: center; flex-shrink: 0;
            transition: 0.3s;
        }
        .video-result-card:hover { border-color: var(--primary-purple); transform: translateY(-5px); }

        .play-overlay {
            position: absolute; top:0; left:0; right:0; bottom:0;
            background: linear-gradient(transparent 50%, rgba(0,0,0,0.8));
            display: flex; align-items: center; justify-content: center; transition: 0.3s;
        }
        .play-icon {
            width: 50px; height: 50px; background: rgba(255,255,255,0.2);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 20px; backdrop-filter: blur(5px); transition: 0.3s;
        }
        .video-result-card:hover .play-icon { background: var(--primary-purple); transform: scale(1.1); }

        .video-info {
            position: absolute; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.9);
            padding: 12px 15px; border-top: 1px solid rgba(255,255,255,0.1);
        }
        .video-label { font-size: 12px; font-weight: 600; margin-bottom: 4px; }
        .video-duration { font-size: 10px; color: #888; }

        /* Results Bulk Bar */
        .results-bulk-bar {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan));
            color: white; padding: 15px 30px; border-radius: 50px;
            display: flex; align-items: center; gap: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5), 0 0 30px rgba(188,19,254,0.3);
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 100;
        }
        .results-bulk-bar.active { transform: translateX(-50%) translateY(0); }
        .results-bulk-count { font-weight: 700; font-size: 14px; padding-right: 20px; border-right: 1px solid rgba(255,255,255,0.3); }
        .results-bulk-btn {
            background: rgba(255,255,255,0.2); border: none; color: white;
            font-weight: 600; font-size: 13px; cursor: pointer; padding: 8px 16px;
            border-radius: 20px; display: flex; align-items: center; gap: 6px; transition: 0.2s;
        }
        .results-bulk-btn:hover { background: rgba(255,255,255,0.3); }

        /* ============ CAMPAIGN MODAL STYLES ============ */
        .campaign-modal-content { max-width: 700px; width: 95%; }

        .campaign-tabs {
            display: flex; gap: 0; border-bottom: 1px solid rgba(255,255,255,0.1); margin-bottom: 25px;
        }
        .campaign-tab {
            padding: 12px 20px; font-size: 13px; font-weight: 600; color: #888;
            cursor: pointer; border-bottom: 2px solid transparent; transition: 0.3s;
        }
        .campaign-tab:hover { color: white; }
        .campaign-tab.active { color: var(--primary-cyan); border-bottom-color: var(--primary-cyan); }

        .campaign-tab-content { display: none; }
        .campaign-tab-content.active { display: block; }

        .folders-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px; }
        .folder-card {
            padding: 15px; background: rgba(255,255,255,0.03); border: 1px solid #333;
            border-radius: 10px; cursor: pointer; transition: 0.3s; display: flex; gap: 12px; align-items: center;
        }
        .folder-card:hover { border-color: var(--primary-cyan); background: rgba(0,243,255,0.05); }
        .folder-card.selected { border-color: var(--primary-cyan); background: rgba(0,243,255,0.1); }
        .folder-icon { width: 45px; height: 45px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .folder-info h4 { font-size: 14px; margin-bottom: 3px; }
        .folder-info p { font-size: 11px; color: #888; }
        .folder-check { margin-left: auto; width: 22px; height: 22px; border: 2px solid #444; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .folder-card.selected .folder-check { background: var(--primary-cyan); border-color: var(--primary-cyan); }
        .folder-card.selected .folder-check::after { content: '\2713'; color: black; font-size: 12px; font-weight: bold; }

        .create-folder-card {
            padding: 15px; background: rgba(188,19,254,0.05); border: 2px dashed rgba(188,19,254,0.3);
            border-radius: 10px; cursor: pointer; transition: 0.3s; display: flex; gap: 12px;
            align-items: center; grid-column: span 2;
        }
        .create-folder-card:hover { border-color: var(--primary-purple); background: rgba(188,19,254,0.1); }
        .create-icon { width: 45px; height: 45px; background: rgba(188,19,254,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 24px; color: var(--primary-purple); }

        .color-picker { display: flex; gap: 10px; flex-wrap: wrap; }
        .color-option { width: 36px; height: 36px; border-radius: 8px; cursor: pointer; border: 2px solid transparent; transition: 0.2s; display: flex; align-items: center; justify-content: center; }
        .color-option:hover { transform: scale(1.1); }
        .color-option.selected { border-color: white; }
        .color-option.selected::after { content: '\2713'; color: white; font-weight: bold; text-shadow: 0 1px 3px rgba(0,0,0,0.5); }

        .icon-picker { display: flex; gap: 10px; flex-wrap: wrap; }
        .icon-option { width: 45px; height: 45px; background: rgba(255,255,255,0.05); border: 1px solid #333; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 20px; transition: 0.2s; }
        .icon-option:hover { border-color: var(--primary-cyan); background: rgba(0,243,255,0.1); }
        .icon-option.selected { border-color: var(--primary-cyan); background: rgba(0,243,255,0.15); }

        .tags-container { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; background: rgba(0,0,0,0.3); border: 1px solid #333; border-radius: 8px; min-height: 50px; }
        .campaign-tag { background: rgba(0,243,255,0.15); border: 1px solid var(--primary-cyan); padding: 5px 10px; border-radius: 15px; font-size: 12px; display: flex; align-items: center; gap: 6px; }
        .tag-remove { cursor: pointer; opacity: 0.7; }
        .tag-remove:hover { opacity: 1; }
        .tag-input { background: transparent; border: none; color: white; font-size: 13px; outline: none; flex: 1; min-width: 100px; }

        .org-options { display: flex; flex-direction: column; gap: 12px; }
        .org-option { display: flex; justify-content: space-between; align-items: center; padding: 12px 15px; background: rgba(255,255,255,0.03); border: 1px solid #333; border-radius: 8px; }
        .org-option-info { display: flex; align-items: center; gap: 12px; }
        .org-option-info span { font-size: 20px; }
        .org-option-info div h4 { font-size: 13px; margin-bottom: 2px; }
        .org-option-info div p { font-size: 11px; color: #888; }

        .campaign-toggle { width: 46px; height: 26px; background: #333; border-radius: 13px; position: relative; cursor: pointer; transition: 0.3s; }
        .campaign-toggle.active { background: var(--primary-cyan); }
        .campaign-toggle::after { content: ''; position: absolute; width: 20px; height: 20px; background: white; border-radius: 50%; top: 3px; left: 3px; transition: 0.3s; }
        .campaign-toggle.active::after { left: 23px; }

        .asset-selection { margin-top: 20px; }
        .asset-selection-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .asset-selection-header h4 { font-size: 14px; }
        .select-all-btn { background: rgba(255,255,255,0.1); border: 1px solid #444; color: #aaa; padding: 6px 12px; border-radius: 6px; font-size: 11px; cursor: pointer; }
        .select-all-btn:hover { color: white; border-color: var(--primary-cyan); }

        .asset-zones { display: flex; flex-direction: column; gap: 15px; }
        .asset-zone { padding: 15px; background: rgba(255,255,255,0.02); border: 1px solid #333; border-radius: 10px; }
        .asset-zone-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .asset-zone-title { font-size: 13px; font-weight: 600; display: flex; align-items: center; gap: 8px; }
        .zone-toggle-btn { background: rgba(255,255,255,0.1); border: none; color: #aaa; padding: 4px 10px; border-radius: 4px; font-size: 11px; cursor: pointer; }
        .zone-toggle-btn:hover { color: white; }

        .asset-thumbs { display: flex; gap: 10px; flex-wrap: wrap; }
        .asset-thumb { width: 60px; height: 75px; background-size: cover; background-position: center; border-radius: 6px; border: 2px solid transparent; cursor: pointer; position: relative; opacity: 0.5; transition: 0.2s; }
        .asset-thumb.selected { border-color: var(--primary-cyan); opacity: 1; }
        .asset-thumb-check { position: absolute; top: 4px; right: 4px; width: 16px; height: 16px; background: var(--primary-cyan); border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 10px; color: black; }
        .asset-thumb.selected .asset-thumb-check { display: flex; }
        .video-thumb { aspect-ratio: 9/16; width: 45px; height: auto; }

        .campaign-summary { background: linear-gradient(135deg, rgba(188,19,254,0.1), rgba(0,243,255,0.1)); border: 1px solid rgba(0,243,255,0.3); border-radius: 12px; padding: 20px; margin-top: 20px; }
        .summary-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .summary-icon { width: 50px; height: 50px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        .summary-info h4 { font-size: 16px; margin-bottom: 3px; }
        .summary-info p { font-size: 12px; color: #888; }
        .summary-stats { display: flex; gap: 20px; }
        .summary-stat { text-align: center; }
        .summary-stat .num { font-size: 20px; font-weight: 700; color: var(--primary-cyan); }
        .summary-stat .label { font-size: 10px; color: #888; text-transform: uppercase; }

        .campaign-modal-footer { padding: 20px 25px; border-top: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: flex-end; gap: 12px; }

        /* ============ CAMPAIGN DETAIL VIEW STYLES ============ */
        .campaign-detail-header {
            background: var(--card-bg); border-radius: 16px; padding: 25px 30px;
            border: 1px solid rgba(255,255,255,0.1); margin-bottom: 30px;
        }
        .campaign-detail-top { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; flex-wrap: wrap; gap: 20px; }
        .campaign-detail-info { display: flex; gap: 20px; align-items: center; }
        .campaign-detail-icon { width: 70px; height: 70px; border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 32px; }
        .campaign-detail-text h1 { font-size: 26px; margin-bottom: 5px; }
        .campaign-detail-text p { color: #888; font-size: 13px; }
        .campaign-detail-actions { display: flex; gap: 10px; flex-wrap: wrap; }

        .campaign-stats-row { display: flex; gap: 30px; flex-wrap: wrap; }
        .campaign-stat-item { text-align: center; }
        .campaign-stat-item .value { font-size: 24px; font-weight: 700; color: var(--primary-cyan); }
        .campaign-stat-item .label { font-size: 11px; color: #888; text-transform: uppercase; }

        .campaign-tags { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); }
        .campaign-tag-pill { background: rgba(0,243,255,0.1); border: 1px solid rgba(0,243,255,0.3); padding: 6px 12px; border-radius: 20px; font-size: 12px; color: var(--primary-cyan); }

        .campaign-content-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; }
        @media (max-width: 1200px) { .campaign-content-grid { grid-template-columns: repeat(3, 1fr); } }
        @media (max-width: 900px) { .campaign-content-grid { grid-template-columns: repeat(2, 1fr); } }

        .campaign-asset-card {
            background: var(--card-bg); border-radius: 10px; overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; cursor: pointer;
        }
        .campaign-asset-card:hover { border-color: var(--primary-cyan); transform: translateY(-3px); }
        .campaign-asset-thumb { width: 100%; aspect-ratio: 1; background-size: cover; background-position: center; position: relative; }
        .campaign-asset-overlay {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(transparent 60%, rgba(0,0,0,0.8));
            opacity: 0; transition: 0.3s; display: flex; align-items: flex-end; justify-content: center; padding: 10px;
        }
        .campaign-asset-card:hover .campaign-asset-overlay { opacity: 1; }
        .campaign-asset-actions { display: flex; gap: 10px; }
        .campaign-asset-btn { width: 32px; height: 32px; background: rgba(255,255,255,0.2); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px; cursor: pointer; backdrop-filter: blur(5px); }
        .campaign-asset-btn:hover { background: var(--primary-cyan); }
        .campaign-asset-info { padding: 12px; }
        .campaign-asset-name { font-size: 12px; font-weight: 600; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .campaign-asset-meta { font-size: 10px; color: #888; }

        .campaign-video-thumb { aspect-ratio: 9/16; }
        .campaign-video-thumb::after { content: '▶'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 24px; color: white; text-shadow: 0 2px 10px rgba(0,0,0,0.8); }

        .view-toggle-btns { display: flex; gap: 5px; background: rgba(255,255,255,0.05); padding: 4px; border-radius: 8px; }
        .view-toggle-btn { padding: 8px 16px; border-radius: 6px; border: none; background: transparent; color: #888; font-size: 12px; cursor: pointer; transition: 0.2s; }
        .view-toggle-btn.active { background: var(--primary-cyan); color: black; }
        .view-toggle-btn:hover:not(.active) { color: white; }

        /* Generating Overlay */
        .generating-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(5,5,16,0.95); backdrop-filter: blur(10px); display: none; justify-content: center; align-items: center; z-index: 2000; flex-direction: column; gap: 30px; }
        .generating-overlay.active { display: flex; }
        .gen-spinner { width: 80px; height: 80px; border: 3px solid rgba(255,255,255,0.1); border-top-color: var(--primary-cyan); border-right-color: var(--primary-purple); border-radius: 50%; animation: genSpin 1s linear infinite; }
        @keyframes genSpin { to { transform: rotate(360deg); } }
        .gen-text { text-align: center; }
        .gen-text h2 { font-size: 24px; margin-bottom: 10px; }
        .gen-text p { color: #888; font-size: 14px; }
        .gen-progress { width: 300px; height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden; }
        .gen-progress-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--primary-purple), var(--primary-cyan)); animation: genProgress 8s ease-in-out forwards; }
        @keyframes genProgress { 0% { width: 0%; } 50% { width: 60%; } 100% { width: 95%; } }

        /* ============ ANALYTICS PAGE ============ */
        .analytics-page { display: flex; flex-direction: column; gap: 25px; }
        .analytics-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .date-range-picker { display: flex; align-items: center; gap: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; padding: 10px 15px; }
        .date-range-picker select { background: transparent; border: none; color: white; font-size: 13px; cursor: pointer; }
        .date-range-picker span { color: var(--text-muted); font-size: 13px; }

        .analytics-stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
        .analytics-stat-card { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 25px; position: relative; overflow: hidden; }
        .analytics-stat-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, var(--primary-purple), var(--primary-cyan)); }
        .analytics-stat-card.green::before { background: var(--shopify-green); }
        .analytics-stat-card.gold::before { background: var(--primary-gold); }
        .analytics-stat-card.pink::before { background: var(--primary-pink); }
        .stat-icon { width: 45px; height: 45px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; margin-bottom: 15px; }
        .stat-icon.purple { background: rgba(188,19,254,0.2); }
        .stat-icon.green { background: rgba(150,191,72,0.2); }
        .stat-icon.gold { background: rgba(255,215,0,0.2); }
        .stat-icon.pink { background: rgba(255,0,85,0.2); }
        .stat-value { font-size: 32px; font-weight: 800; margin-bottom: 5px; }
        .stat-label { font-size: 13px; color: var(--text-muted); margin-bottom: 10px; }
        .stat-trend { font-size: 12px; display: flex; align-items: center; gap: 5px; }
        .stat-trend.up { color: var(--shopify-green); }
        .stat-trend.down { color: var(--danger); }

        .analytics-charts-row { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .analytics-chart-card { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 25px; }
        .chart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .chart-header h3 { font-size: 16px; }
        .chart-tabs { display: flex; gap: 5px; background: rgba(0,0,0,0.3); padding: 4px; border-radius: 8px; }
        .chart-tab { padding: 6px 12px; font-size: 11px; border-radius: 6px; cursor: pointer; color: var(--text-muted); transition: 0.2s; border: none; background: transparent; }
        .chart-tab.active { background: var(--primary-cyan); color: black; }
        .chart-area { height: 250px; background: linear-gradient(180deg, rgba(0,243,255,0.1) 0%, transparent 100%); border-radius: 12px; display: flex; align-items: flex-end; padding: 20px; gap: 8px; }
        .chart-bar { flex: 1; background: linear-gradient(180deg, var(--primary-cyan), var(--primary-purple)); border-radius: 4px 4px 0 0; min-height: 20px; transition: 0.3s; }
        .chart-bar:hover { opacity: 0.8; }
        .chart-labels { display: flex; justify-content: space-between; margin-top: 10px; padding: 0 10px; }
        .chart-labels span { font-size: 10px; color: var(--text-muted); }

        .zone-performance { display: flex; flex-direction: column; gap: 15px; }
        .zone-perf-item { display: flex; align-items: center; gap: 15px; }
        .zone-perf-icon { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 18px; }
        .zone-perf-icon.hook { background: rgba(255,107,107,0.2); }
        .zone-perf-icon.offer { background: rgba(255,217,61,0.2); }
        .zone-perf-icon.edu { background: rgba(107,203,119,0.2); }
        .zone-perf-icon.video { background: rgba(77,150,255,0.2); }
        .zone-perf-info { flex: 1; }
        .zone-perf-name { font-size: 14px; font-weight: 600; margin-bottom: 5px; }
        .zone-bar-track { height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden; }
        .zone-bar-fill { height: 100%; border-radius: 4px; transition: 0.5s; }
        .zone-bar-fill.hook { background: #ff6b6b; }
        .zone-bar-fill.offer { background: #ffd93d; }
        .zone-bar-fill.edu { background: #6bcb77; }
        .zone-bar-fill.video { background: #4d96ff; }
        .zone-perf-stat { text-align: right; }
        .zone-perf-count { font-size: 18px; font-weight: 700; }
        .zone-perf-percent { font-size: 11px; color: var(--text-muted); }

        .analytics-bottom-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .export-trends { display: flex; flex-direction: column; gap: 12px; }
        .export-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 15px; background: rgba(255,255,255,0.03); border-radius: 10px; transition: 0.2s; }
        .export-item:hover { background: rgba(255,255,255,0.06); }
        .export-item-left { display: flex; align-items: center; gap: 12px; }
        .export-icon { width: 36px; height: 36px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; background: rgba(0,243,255,0.1); }
        .export-name { font-size: 13px; font-weight: 500; }
        .export-count { font-size: 16px; font-weight: 700; color: var(--primary-cyan); }

        .credits-visual { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 20px; }
        .credits-circle { width: 180px; height: 180px; border-radius: 50%; background: conic-gradient(var(--primary-cyan) 0deg 234deg, rgba(255,255,255,0.1) 234deg 360deg); display: flex; align-items: center; justify-content: center; }
        .credits-circle-inner { width: 140px; height: 140px; border-radius: 50%; background: var(--card-bg); display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .credits-used { font-size: 36px; font-weight: 800; }
        .credits-total { font-size: 13px; color: var(--text-muted); }
        .credits-legend { display: flex; gap: 30px; margin-top: 25px; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 12px; }
        .legend-dot { width: 10px; height: 10px; border-radius: 50%; }
        .legend-dot.used { background: var(--primary-cyan); }
        .legend-dot.remaining { background: rgba(255,255,255,0.2); }

        /* ============ TEMPLATES LIBRARY PAGE ============ */
        .templates-page { display: flex; flex-direction: column; gap: 25px; }
        .templates-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .templates-search { display: flex; gap: 15px; align-items: center; }
        .search-input-large { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; padding: 12px 20px; color: white; font-size: 14px; width: 300px; }
        .search-input-large::placeholder { color: #666; }
        .filter-dropdown { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; padding: 12px 20px; color: white; font-size: 14px; }

        .category-tabs { display: flex; gap: 10px; flex-wrap: wrap; padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .category-tab { padding: 10px 20px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 25px; font-size: 13px; color: var(--text-muted); cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 8px; }
        .category-tab:hover { border-color: var(--primary-cyan); color: white; }
        .category-tab.active { background: var(--primary-cyan); border-color: var(--primary-cyan); color: black; font-weight: 600; }
        .category-count { background: rgba(0,0,0,0.2); padding: 2px 8px; border-radius: 12px; font-size: 11px; }

        .templates-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .template-card { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; overflow: hidden; transition: 0.3s; position: relative; }
        .template-card:hover { border-color: var(--primary-cyan); transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
        .template-preview { aspect-ratio: 16/10; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); position: relative; overflow: hidden; }
        .template-preview img { width: 100%; height: 100%; object-fit: cover; opacity: 0.9; }
        .template-badge { position: absolute; top: 12px; left: 12px; padding: 5px 12px; border-radius: 20px; font-size: 10px; font-weight: 700; text-transform: uppercase; }
        .template-badge.holiday { background: var(--danger); color: white; }
        .template-badge.seasonal { background: var(--primary-gold); color: black; }
        .template-badge.trending { background: var(--primary-purple); color: white; }
        .template-badge.custom { background: var(--shopify-green); color: black; }
        .template-hover-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 10px; opacity: 0; transition: 0.3s; }
        .template-card:hover .template-hover-overlay { opacity: 1; }
        .template-action-btn { padding: 10px 25px; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .template-action-btn.primary { background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); border: none; color: white; }
        .template-action-btn.secondary { background: transparent; border: 1px solid rgba(255,255,255,0.3); color: white; }
        .template-info { padding: 18px; }
        .template-name { font-size: 15px; font-weight: 600; margin-bottom: 6px; }
        .template-meta { display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: var(--text-muted); }
        .template-zones { display: flex; gap: 5px; }
        .template-zone-dot { width: 8px; height: 8px; border-radius: 50%; }
        .template-zone-dot.hook { background: #ff6b6b; }
        .template-zone-dot.offer { background: #ffd93d; }
        .template-zone-dot.edu { background: #6bcb77; }
        .template-zone-dot.video { background: #4d96ff; }

        .my-templates-section { margin-top: 30px; padding-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .section-header h2 { font-size: 20px; display: flex; align-items: center; gap: 10px; }
        .add-template-btn { padding: 10px 20px; background: rgba(0,243,255,0.1); border: 1px solid var(--primary-cyan); border-radius: 8px; color: var(--primary-cyan); font-size: 13px; cursor: pointer; transition: 0.2s; }
        .add-template-btn:hover { background: var(--primary-cyan); color: black; }

        /* ============ HISTORY/ACTIVITY PAGE ============ */
        .history-page { display: flex; flex-direction: column; gap: 25px; }
        .history-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .history-filters { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; }
        .filter-btn { display: flex; align-items: center; gap: 8px; padding: 10px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: var(--text-muted); font-size: 13px; cursor: pointer; transition: 0.2s; }
        .filter-btn:hover { border-color: var(--primary-cyan); color: white; }
        .filter-btn.active { background: var(--primary-cyan); color: black; border-color: var(--primary-cyan); }
        .export-csv-btn { padding: 10px 20px; background: transparent; border: 1px solid var(--shopify-green); border-radius: 8px; color: var(--shopify-green); font-size: 13px; cursor: pointer; display: flex; align-items: center; gap: 8px; transition: 0.2s; }
        .export-csv-btn:hover { background: var(--shopify-green); color: black; }

        .history-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; }
        .history-stat-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; padding: 20px; text-align: center; }
        .history-stat-value { font-size: 28px; font-weight: 700; color: var(--primary-cyan); margin-bottom: 5px; }
        .history-stat-label { font-size: 12px; color: var(--text-muted); }

        .timeline-container { background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; overflow: hidden; }
        .timeline-header { padding: 20px 25px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: space-between; align-items: center; }
        .timeline-header h3 { font-size: 16px; }
        .timeline-view-toggle { display: flex; gap: 5px; background: rgba(0,0,0,0.3); padding: 4px; border-radius: 8px; }
        .view-btn { padding: 6px 12px; font-size: 12px; border: none; background: transparent; color: var(--text-muted); border-radius: 6px; cursor: pointer; }
        .view-btn.active { background: var(--primary-purple); color: white; }
        .timeline-content { padding: 20px 25px; max-height: 600px; overflow-y: auto; }
        .timeline-date-group { margin-bottom: 25px; }
        .timeline-date { font-size: 13px; color: var(--text-muted); margin-bottom: 15px; padding-bottom: 8px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .timeline-item { display: flex; gap: 15px; padding: 15px; background: rgba(255,255,255,0.02); border-radius: 12px; margin-bottom: 10px; transition: 0.2s; position: relative; align-items: center; }
        .timeline-item:hover { background: rgba(255,255,255,0.05); }
        .timeline-item.deleted { opacity: 0.5; }
        .timeline-thumb { width: 60px; height: 60px; border-radius: 10px; background: #222; overflow: hidden; flex-shrink: 0; }
        .timeline-thumb img { width: 100%; height: 100%; object-fit: cover; }
        .timeline-info { flex: 1; }
        .timeline-title { font-size: 14px; font-weight: 600; margin-bottom: 5px; display: flex; align-items: center; gap: 10px; }
        .timeline-title .status-badge { font-size: 10px; padding: 2px 8px; border-radius: 10px; font-weight: 500; }
        .status-badge.completed { background: rgba(46,204,113,0.2); color: var(--success); }
        .status-badge.deleted { background: rgba(255,71,87,0.2); color: var(--danger); }
        .timeline-details { font-size: 12px; color: var(--text-muted); display: flex; gap: 15px; flex-wrap: wrap; }
        .timeline-detail { display: flex; align-items: center; gap: 5px; }
        .timeline-actions { display: flex; gap: 8px; align-items: center; }
        .timeline-action { padding: 8px 14px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: white; font-size: 11px; cursor: pointer; transition: 0.2s; }
        .timeline-action:hover { background: var(--primary-cyan); color: black; border-color: var(--primary-cyan); }
        .timeline-action.restore { border-color: var(--shopify-green); color: var(--shopify-green); }
        .timeline-action.restore:hover { background: var(--shopify-green); color: black; }
        .timeline-time { font-size: 11px; color: #666; white-space: nowrap; }

        .deleted-section { margin-top: 20px; padding: 20px 25px; background: rgba(255,71,87,0.05); border-top: 1px solid rgba(255,71,87,0.2); }
        .deleted-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .deleted-header h4 { font-size: 14px; color: var(--danger); display: flex; align-items: center; gap: 8px; }
        .empty-trash-btn { padding: 6px 14px; background: transparent; border: 1px solid var(--danger); border-radius: 6px; color: var(--danger); font-size: 11px; cursor: pointer; }
        .empty-trash-btn:hover { background: var(--danger); color: white; }

        .pagination { display: flex; justify-content: center; align-items: center; gap: 5px; margin-top: 20px; padding: 20px 25px; border-top: 1px solid rgba(255,255,255,0.1); }
        .page-btn { min-width: 36px; height: 36px; padding: 0 10px; border-radius: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: var(--text-muted); font-size: 13px; cursor: pointer; transition: 0.2s; }
        .page-btn:hover { border-color: var(--primary-cyan); color: white; }
        .page-btn.active { background: var(--primary-cyan); color: black; border-color: var(--primary-cyan); }

        /* ============ CALENDAR DATE PICKER ============ */
        .calendar-picker-container { position: relative; display: inline-block; }
        .calendar-picker-btn { display: flex; align-items: center; gap: 10px; padding: 10px 16px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white; font-size: 13px; cursor: pointer; transition: 0.2s; }
        .calendar-picker-btn:hover { border-color: var(--primary-cyan); }
        .calendar-picker-btn.active { border-color: var(--primary-cyan); background: rgba(0,243,255,0.1); }

        .calendar-dropdown { position: absolute; top: 100%; left: 0; margin-top: 8px; background: #1a1a2a; border: 1px solid rgba(255,255,255,0.15); border-radius: 12px; padding: 15px; z-index: 1000; min-width: 300px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); display: none; }
        .calendar-dropdown.active { display: block; }

        .calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .calendar-nav-btn { width: 32px; height: 32px; border-radius: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: white; cursor: pointer; transition: 0.2s; }
        .calendar-nav-btn:hover { background: var(--primary-cyan); color: black; }
        .calendar-month-year { font-size: 14px; font-weight: 600; }

        .calendar-weekdays { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; margin-bottom: 8px; }
        .calendar-weekday { text-align: center; font-size: 11px; color: var(--text-muted); padding: 8px 0; }

        .calendar-days { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
        .calendar-day { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; font-size: 13px; border-radius: 8px; cursor: pointer; transition: 0.2s; border: 1px solid transparent; }
        .calendar-day:hover { background: rgba(255,255,255,0.1); }
        .calendar-day.other-month { color: #444; }
        .calendar-day.today { border-color: var(--primary-cyan); color: var(--primary-cyan); }
        .calendar-day.selected { background: var(--primary-cyan); color: black; font-weight: 600; }
        .calendar-day.in-range { background: rgba(0,243,255,0.2); }
        .calendar-day.has-activity { position: relative; }
        .calendar-day.has-activity::after { content: ''; position: absolute; bottom: 4px; left: 50%; transform: translateX(-50%); width: 4px; height: 4px; border-radius: 50%; background: var(--primary-purple); }

        .calendar-presets { margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); display: flex; flex-wrap: wrap; gap: 8px; }
        .calendar-preset { padding: 6px 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; color: var(--text-muted); font-size: 11px; cursor: pointer; transition: 0.2s; }
        .calendar-preset:hover { border-color: var(--primary-cyan); color: white; }
        .calendar-preset.active { background: var(--primary-cyan); color: black; border-color: var(--primary-cyan); }

        .calendar-actions { margin-top: 15px; display: flex; gap: 10px; justify-content: flex-end; }
        .calendar-apply-btn { padding: 8px 20px; background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); border: none; border-radius: 6px; color: white; font-size: 12px; font-weight: 600; cursor: pointer; }
        .calendar-clear-btn { padding: 8px 20px; background: transparent; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 12px; cursor: pointer; }

        /* ========================================
           AUTHENTICATION STYLES
        ======================================== */
        .auth-view {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-deep);
            background-image:
                radial-gradient(circle at 20% 30%, rgba(188, 19, 254, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 243, 255, 0.08) 0%, transparent 50%);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .auth-container {
            width: 100%;
            max-width: 420px;
            padding: 20px;
        }

        .auth-card {
            background: rgba(20, 20, 35, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .auth-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 35px;
        }

        .auth-logo-icon {
            width: 48px;
            height: 48px;
        }

        .auth-logo-text {
            font-size: 24px;
            font-weight: 800;
            letter-spacing: 1px;
        }

        .auth-logo-text .solo { color: #ffffff; }
        .auth-logo-text .genix {
            background: linear-gradient(90deg, var(--primary-cyan), var(--primary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .auth-title {
            font-size: 26px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
            color: white;
        }

        .auth-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-field {
            margin-bottom: 20px;
        }

        .auth-field label {
            display: block;
            font-size: 12px;
            font-weight: 500;
            color: var(--text-muted);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .auth-field input {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 14px 16px;
            color: white;
            font-size: 15px;
            transition: all 0.3s;
        }

        .auth-field input:focus {
            outline: none;
            border-color: var(--primary-cyan);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.15);
        }

        .auth-field input::placeholder {
            color: #555;
        }

        .auth-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            font-size: 13px;
        }

        .auth-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            color: var(--text-muted);
        }

        .auth-checkbox input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: var(--primary-cyan);
            cursor: pointer;
        }

        .auth-checkbox.terms {
            margin-bottom: 20px;
            font-size: 12px;
        }

        .auth-link {
            color: var(--primary-cyan);
            text-decoration: none;
            transition: 0.2s;
        }

        .auth-link:hover {
            text-decoration: underline;
        }

        .auth-btn {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            border: none;
        }

        .auth-btn.primary {
            background: linear-gradient(135deg, var(--primary-purple), var(--primary-cyan));
            color: white;
        }

        .auth-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(188, 19, 254, 0.3);
        }

        .auth-btn.primary:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .auth-btn.oauth {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            color: white;
            flex: 1;
        }

        .auth-btn.oauth:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .auth-divider {
            display: flex;
            align-items: center;
            margin: 25px 0;
            color: var(--text-muted);
            font-size: 12px;
        }

        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
        }

        .auth-divider span {
            padding: 0 15px;
        }

        .auth-oauth {
            display: flex;
            gap: 12px;
        }

        .auth-footer {
            text-align: center;
            margin-top: 25px;
            font-size: 14px;
            color: var(--text-muted);
        }

        .auth-spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: authSpin 0.8s linear infinite;
            display: inline-block;
        }

        @keyframes authSpin {
            to { transform: rotate(360deg); }
        }

        /* Auth responsive */
        @media (max-width: 480px) {
            .auth-card {
                padding: 30px 25px;
            }
            .auth-oauth {
                flex-direction: column;
            }
            .auth-title {
                font-size: 22px;
            }
        }

    </style>
</head>
<body>

    <!-- Global SVG Definitions for Icon Gradients and Glow Effects -->
    <svg style="position:absolute;width:0;height:0;">
        <defs>
            <linearGradient id="iconGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#00f3ff"/>
                <stop offset="100%" style="stop-color:#bc13fe"/>
            </linearGradient>
            <filter id="iconGlow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="1.5" result="coloredBlur"/>
                <feMerge>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                </feMerge>
            </filter>
        </defs>
    </svg>

    <!-- ========================================
         AUTHENTICATION VIEWS
    ======================================== -->

    <!-- Login View -->
    <div id="auth-login" class="auth-view" style="display: flex;">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-logo">
                    <svg class="auth-logo-icon" viewBox="0 0 100 100">
                        <defs>
                            <linearGradient id="authLogoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00f3ff"/>
                                <stop offset="100%" style="stop-color:#bc13fe"/>
                            </linearGradient>
                        </defs>
                        <path d="M65 20C55 20 47 25 42 32C37 25 29 20 19 22C19 22 25 45 42 50C25 55 19 78 19 78C29 80 37 75 42 68C47 75 55 80 65 78C65 78 59 55 42 50C59 45 65 20 65 20Z" fill="none" stroke="url(#authLogoGrad)" stroke-width="3" stroke-linecap="round"/>
                        <circle cx="30" cy="35" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="35" r="3" fill="#bc13fe"/>
                        <circle cx="30" cy="65" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="65" r="3" fill="#bc13fe"/>
                    </svg>
                    <div class="auth-logo-text"><span class="solo">SOLO</span><span class="genix">GENIX</span></div>
                </div>

                <h1 class="auth-title">Welcome back</h1>
                <p class="auth-subtitle">Sign in to your account to continue</p>

                <form id="loginForm" onsubmit="handleLoginSubmit(event)">
                    <div class="auth-field">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" placeholder="you@example.com" required>
                    </div>
                    <div class="auth-field">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password" required>
                    </div>
                    <div class="auth-options">
                        <label class="auth-checkbox">
                            <input type="checkbox" id="rememberMe">
                            <span>Remember me</span>
                        </label>
                        <a href="javascript:void(0)" class="auth-link" onclick="showAuthView('forgot')">Forgot password?</a>
                    </div>
                    <button type="submit" class="auth-btn primary">Sign In</button>
                </form>

                <div class="auth-divider">
                    <span>or continue with</span>
                </div>

                <div class="auth-oauth">
                    <button class="auth-btn oauth google" onclick="signInWithGoogle()">
                        <svg viewBox="0 0 24 24" width="20" height="20">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Google
                    </button>
                </div>

                <p class="auth-footer">
                    Don't have an account? <a href="javascript:void(0)" class="auth-link" onclick="showAuthView('signup')">Sign up</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Signup View -->
    <div id="auth-signup" class="auth-view" style="display: none;">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-logo">
                    <svg class="auth-logo-icon" viewBox="0 0 100 100">
                        <path d="M65 20C55 20 47 25 42 32C37 25 29 20 19 22C19 22 25 45 42 50C25 55 19 78 19 78C29 80 37 75 42 68C47 75 55 80 65 78C65 78 59 55 42 50C59 45 65 20 65 20Z" fill="none" stroke="url(#authLogoGrad)" stroke-width="3" stroke-linecap="round"/>
                        <circle cx="30" cy="35" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="35" r="3" fill="#bc13fe"/>
                        <circle cx="30" cy="65" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="65" r="3" fill="#bc13fe"/>
                    </svg>
                    <div class="auth-logo-text"><span class="solo">SOLO</span><span class="genix">GENIX</span></div>
                </div>

                <h1 class="auth-title">Create your account</h1>
                <p class="auth-subtitle">Start generating AI-powered ads today</p>

                <form id="signupForm" onsubmit="handleSignupSubmit(event)">
                    <div class="auth-field">
                        <label for="signupName">Full Name</label>
                        <input type="text" id="signupName" placeholder="John Doe" required>
                    </div>
                    <div class="auth-field">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" placeholder="you@example.com" required>
                    </div>
                    <div class="auth-field">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" placeholder="At least 6 characters" required minlength="6">
                    </div>
                    <div class="auth-field">
                        <label for="signupConfirmPassword">Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" placeholder="Confirm your password" required>
                    </div>
                    <label class="auth-checkbox terms">
                        <input type="checkbox" id="agreeTerms" required>
                        <span>I agree to the <a href="#" class="auth-link">Terms of Service</a> and <a href="#" class="auth-link">Privacy Policy</a></span>
                    </label>
                    <button type="submit" class="auth-btn primary">Create Account</button>
                </form>

                <div class="auth-divider">
                    <span>or continue with</span>
                </div>

                <div class="auth-oauth">
                    <button class="auth-btn oauth google" onclick="signInWithGoogle()">
                        <svg viewBox="0 0 24 24" width="20" height="20">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Google
                    </button>
                </div>

                <p class="auth-footer">
                    Already have an account? <a href="javascript:void(0)" class="auth-link" onclick="showAuthView('login')">Sign in</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Forgot Password View -->
    <div id="auth-forgot" class="auth-view" style="display: none;">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-logo">
                    <svg class="auth-logo-icon" viewBox="0 0 100 100">
                        <path d="M65 20C55 20 47 25 42 32C37 25 29 20 19 22C19 22 25 45 42 50C25 55 19 78 19 78C29 80 37 75 42 68C47 75 55 80 65 78C65 78 59 55 42 50C59 45 65 20 65 20Z" fill="none" stroke="url(#authLogoGrad)" stroke-width="3" stroke-linecap="round"/>
                        <circle cx="30" cy="35" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="35" r="3" fill="#bc13fe"/>
                        <circle cx="30" cy="65" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="65" r="3" fill="#bc13fe"/>
                    </svg>
                    <div class="auth-logo-text"><span class="solo">SOLO</span><span class="genix">GENIX</span></div>
                </div>

                <h1 class="auth-title">Reset your password</h1>
                <p class="auth-subtitle">Enter your email and we'll send you a reset link</p>

                <form id="forgotForm" onsubmit="handleForgotSubmit(event)">
                    <div class="auth-field">
                        <label for="forgotEmail">Email</label>
                        <input type="email" id="forgotEmail" placeholder="you@example.com" required>
                    </div>
                    <button type="submit" class="auth-btn primary">Send Reset Link</button>
                </form>

                <p class="auth-footer">
                    Remember your password? <a href="javascript:void(0)" class="auth-link" onclick="showAuthView('login')">Sign in</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Reset Password View -->
    <div id="auth-reset" class="auth-view" style="display: none;">
        <div class="auth-container">
            <div class="auth-card">
                <div class="auth-logo">
                    <svg class="auth-logo-icon" viewBox="0 0 100 100">
                        <path d="M65 20C55 20 47 25 42 32C37 25 29 20 19 22C19 22 25 45 42 50C25 55 19 78 19 78C29 80 37 75 42 68C47 75 55 80 65 78C65 78 59 55 42 50C59 45 65 20 65 20Z" fill="none" stroke="url(#authLogoGrad)" stroke-width="3" stroke-linecap="round"/>
                        <circle cx="30" cy="35" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="35" r="3" fill="#bc13fe"/>
                        <circle cx="30" cy="65" r="3" fill="#00f3ff"/>
                        <circle cx="54" cy="65" r="3" fill="#bc13fe"/>
                    </svg>
                    <div class="auth-logo-text"><span class="solo">SOLO</span><span class="genix">GENIX</span></div>
                </div>

                <h1 class="auth-title">Set new password</h1>
                <p class="auth-subtitle">Create a strong password for your account</p>

                <form id="resetForm" onsubmit="handleResetSubmit(event)">
                    <div class="auth-field">
                        <label for="resetPassword">New Password</label>
                        <input type="password" id="resetPassword" placeholder="At least 6 characters" required minlength="6">
                    </div>
                    <div class="auth-field">
                        <label for="resetConfirmPassword">Confirm Password</label>
                        <input type="password" id="resetConfirmPassword" placeholder="Confirm your password" required>
                    </div>
                    <button type="submit" class="auth-btn primary">Reset Password</button>
                </form>

                <p class="auth-footer">
                    <a href="javascript:void(0)" class="auth-link" onclick="showAuthView('login')">Back to sign in</a>
                </p>
            </div>
        </div>
    </div>

    <div class="sidebar" style="display: none;">
        <div class="logo">
            <svg class="logo-icon" viewBox="0 0 100 100">
                <defs>
                    <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#00f3ff"/>
                        <stop offset="100%" style="stop-color:#bc13fe"/>
                    </linearGradient>
                </defs>
                <path d="M65 20C55 20 47 25 42 32C37 25 29 20 19 22C19 22 25 45 42 50C25 55 19 78 19 78C29 80 37 75 42 68C47 75 55 80 65 78C65 78 59 55 42 50C59 45 65 20 65 20Z" fill="none" stroke="url(#logoGrad)" stroke-width="3" stroke-linecap="round"/>
                <circle cx="30" cy="35" r="3" fill="#00f3ff"/>
                <circle cx="54" cy="35" r="3" fill="#bc13fe"/>
                <circle cx="30" cy="65" r="3" fill="#00f3ff"/>
                <circle cx="54" cy="65" r="3" fill="#bc13fe"/>
                <path d="M35 42 L49 42 M35 50 L49 50 M35 58 L49 58" stroke="url(#logoGrad)" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <div class="logo-text"><span class="solo">SOLO</span><span class="genix">GENIX</span></div>
        </div>
        <button class="create-new-btn" onclick="navigateTo('generator')"><span>+</span> New Campaign</button>

        <!-- Dashboard - Hexagon Command Center -->
        <div class="nav-item active" id="nav-dashboard" onclick="navigateTo('dashboard')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <polygon points="12,2 22,8 22,16 12,22 2,16 2,8"/>
                <line x1="12" y1="2" x2="12" y2="22"/>
                <line x1="2" y1="8" x2="22" y2="16"/>
                <line x1="22" y1="8" x2="2" y2="16"/>
            </svg>
            Dashboard
        </div>

        <!-- Campaigns - Rocket -->
        <div class="nav-item" id="nav-campaigns" onclick="navigateTo('campaigns')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/>
                <path d="M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/>
                <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/>
                <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/>
            </svg>
            Campaigns
        </div>

        <!-- Gallery - Grid with Lightning -->
        <div class="nav-item" id="nav-gallery" onclick="navigateTo('gallery')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <rect x="3" y="3" width="7" height="7"/>
                <rect x="14" y="3" width="7" height="7"/>
                <rect x="3" y="14" width="7" height="7"/>
                <polygon points="17.5,14 15,18 18,18 15.5,22 19,17 16,17" fill="url(#iconGradient)" stroke="none"/>
            </svg>
            Gallery
        </div>

        <!-- Brand Kit - DNA Helix -->
        <div class="nav-item" id="nav-brand" onclick="navigateTo('brand')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <path d="M2 12h5"/>
                <path d="M17 12h5"/>
                <path d="M7 4v16"/>
                <path d="M17 4v16"/>
                <path d="M7 8c5 0 5 4 10 4"/>
                <path d="M7 16c5 0 5-4 10-4"/>
                <circle cx="7" cy="4" r="1" fill="url(#iconGradient)"/>
                <circle cx="17" cy="4" r="1" fill="url(#iconGradient)"/>
                <circle cx="7" cy="20" r="1" fill="url(#iconGradient)"/>
                <circle cx="17" cy="20" r="1" fill="url(#iconGradient)"/>
            </svg>
            Brand Kit
        </div>

        <!-- Avatar Studio - AI Face -->
        <div class="nav-item" id="nav-avatars" onclick="navigateTo('avatars')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="10" r="3"/>
                <path d="M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"/>
                <circle cx="8" cy="9" r="1" fill="url(#iconGradient)"/>
                <circle cx="16" cy="9" r="1" fill="url(#iconGradient)"/>
                <path d="M2 12h2"/>
                <path d="M20 12h2"/>
                <path d="M12 2v2"/>
            </svg>
            Avatar Studio
        </div>

        <!-- Templates - Stacked Layers -->
        <div class="nav-item" id="nav-templates" onclick="navigateTo('templates')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <polygon points="12,2 2,7 12,12 22,7"/>
                <polyline points="2,17 12,22 22,17"/>
                <polyline points="2,12 12,17 22,12"/>
            </svg>
            Templates
        </div>

        <!-- Analytics - Pulse Signal -->
        <div class="nav-item" id="nav-analytics" onclick="navigateTo('analytics')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
            </svg>
            Analytics
        </div>

        <!-- History - Time Portal -->
        <div class="nav-item" id="nav-history" onclick="navigateTo('history')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2" fill="url(#iconGradient)"/>
                <path d="M12 6v2"/>
                <path d="M12 16v2"/>
                <path d="M6 12h2"/>
                <path d="M16 12h2"/>
            </svg>
            History
        </div>

        <!-- Settings - Atomic Orbital -->
        <div class="nav-item" id="nav-settings" onclick="navigateTo('settings')">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="url(#iconGradient)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#iconGlow)">
                <circle cx="12" cy="12" r="2" fill="url(#iconGradient)"/>
                <ellipse cx="12" cy="12" rx="10" ry="4"/>
                <ellipse cx="12" cy="12" rx="10" ry="4" transform="rotate(60 12 12)"/>
                <ellipse cx="12" cy="12" rx="10" ry="4" transform="rotate(120 12 12)"/>
            </svg>
            Settings
        </div>

        <div class="legal-links">
            <a href="#">Terms</a> • <a href="#">Privacy</a>
        </div>

        <div class="user-profile" onclick="toggleUserMenu()">
            <div class="avatar" style="display:flex; align-items:center; justify-content:center; font-weight:700; font-size:14px;">CP</div>
            <div style="font-size:13px; font-weight:600;"><span class="user-name">Christopher P.</span><br><span class="user-plan" style="font-size:11px; color:#888;">Creator Plan</span></div>
            <div style="margin-left:auto; color:#666;">▲</div>
        </div>

        <div id="userMenu" class="user-menu-popover">
            <div class="menu-link" onclick="navigateTo('settings'); switchSetting('general', document.querySelector('.set-link')); toggleUserMenu()"><span>👤</span> My Profile</div>
            <div class="menu-link" onclick="openModal('upgradeModal'); toggleUserMenu()"><span>⚡</span> Upgrade Plan</div>
            <div class="menu-link" onclick="alert('Opening Help Center...')"><span>❓</span> Help & Support</div>
            <div style="height:1px; background:#333; margin:5px 0;"></div>
            <div class="menu-link logout" onclick="signOut()"><span>🚪</span> Log Out</div>
        </div>
    </div>

    <div class="main-content" style="display: none;">

        <div id="view-dashboard" class="view-section active">
            <div class="header">
                <div class="page-title">
                    <h1>Hello, Christopher 👋</h1>
                    <p>You have <b>324 credits</b> remaining.</p>
                </div>
                <div class="top-actions">
                    <div class="global-search">
                        <div class="search-input-wrapper">
                            <span class="search-icon">🔍</span>
                            <input type="text" class="search-input" id="globalSearchInput" placeholder="Search..." oninput="handleSearch(this.value)" onfocus="handleSearch(this.value)">
                            <span class="search-shortcut">⌘K</span>
                        </div>
                        <div id="searchDropdown" class="search-dropdown">
                            <div class="search-category">Campaigns</div>
                            <div class="search-result" onclick="navigateTo('campaigns'); document.getElementById('searchDropdown').classList.remove('active');">
                                <div class="result-icon campaign">📂</div>
                                <div class="result-info">
                                    <div class="result-title">Black Friday Sale</div>
                                    <div class="result-meta">15 assets • Nov 24</div>
                                </div>
                                <div class="result-type">Campaign</div>
                            </div>
                            <div class="search-result" onclick="navigateTo('campaigns'); document.getElementById('searchDropdown').classList.remove('active');">
                                <div class="result-icon campaign">📂</div>
                                <div class="result-info">
                                    <div class="result-title">Spring Launch</div>
                                    <div class="result-meta">10 assets • Oct 12</div>
                                </div>
                                <div class="result-type">Campaign</div>
                            </div>
                            <div class="search-category">Assets</div>
                            <div class="search-result" onclick="navigateTo('gallery'); document.getElementById('searchDropdown').classList.remove('active');">
                                <div class="result-icon asset">🖼️</div>
                                <div class="result-info">
                                    <div class="result-title">Shea Hook</div>
                                    <div class="result-meta">Image • 1080x1350</div>
                                </div>
                                <div class="result-type">Image</div>
                            </div>
                        </div>
                    </div>
                    <div class="status-pill shopify"><span>🛍️</span> Shopify Connected</div>
                    <div class="notification-bell" onclick="showToast('info', 'No Notifications', 'You have no new notifications.')">
                        <span style="font-size:20px;">🔔</span>
                        <div class="notif-dot"></div>
                    </div>
                </div>
            </div>
            
            <div class="hero-card">
                <div><h2 style="font-size:20px; margin-bottom:5px;">Create New Assets</h2><p style="color:#aaa; font-size:14px; max-width:400px;">Generate high-converting ads in seconds.</p></div>
                <button class="primary-btn" onclick="navigateTo('generator')">⚡ Start Generator</button>
            </div>
            <h3 style="font-size:16px; margin-bottom:20px;">Recent Creations</h3>
            <div class="asset-grid">
                <div class="asset-card"><img src="https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?w=400" class="asset-img"><div class="asset-overlay"><div style="font-size:12px; font-weight:600; color:white;">Shea Hook</div></div></div>
                <div class="asset-card"><img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400" class="asset-img"><div class="asset-overlay"><div style="font-size:12px; font-weight:600; color:white;">Promo</div></div></div>
                <div class="asset-card"><img src="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400" class="asset-img"><div class="asset-overlay"><div style="font-size:12px; font-weight:600; color:white;">Edu Fact</div></div></div>
                <div class="asset-card"><img src="https://images.unsplash.com/photo-1512413914633-b5043f4041ea?w=400" class="asset-img"><div class="asset-overlay"><div style="font-size:12px; font-weight:600; color:white;">Video Intro</div></div></div>
            </div>
        </div>

        <div id="view-campaigns" class="view-section">
            <!-- Campaign Grid View -->
            <div id="campaigns-grid-view">
                <div class="header">
                    <div class="page-title">
                        <h1>My Campaigns</h1>
                        <p>Manage and access your content batches.</p>
                    </div>
                    <div style="display:flex; gap:10px;">
                        <button class="primary-btn" onclick="navigateTo('generator')">+ New Campaign</button>
                        <input type="text" placeholder="Search..." style="background:rgba(255,255,255,0.1); border:none; padding:10px; border-radius:8px; color:white;">
                        <select style="background:rgba(255,255,255,0.1); border:none; padding:10px; border-radius:8px; color:white;">
                            <option>Sort: Newest</option>
                            <option>Sort: A-Z</option>
                        </select>
                    </div>
                </div>

                <div class="campaign-grid">
                    <div class="campaign-card new" onclick="navigateTo('generator')">
                        <div class="plus-icon">+</div>
                        <div style="font-weight:600; color:white;">Create New Campaign</div>
                        <div style="font-size:12px; color:#888; margin-top:5px;">Start a new batch of assets</div>
                    </div>

                    <div class="campaign-card" onclick="openCampaignDetail('shea-butter')">
                        <div class="camp-header">
                            <div class="camp-icon">🛍️</div>
                            <div class="camp-menu" onclick="event.stopPropagation();">⋮</div>
                        </div>
                        <div class="camp-title">Black Friday - Shea Butter</div>
                        <div class="camp-meta">
                            <div class="status-dot status-success"></div>
                            <span>Completed • Nov 24</span>
                        </div>
                        <div class="preview-stack">
                            <img src="https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?w=100" class="preview-img">
                            <img src="https://images.unsplash.com/photo-1556228552-523de509228a?w=100" class="preview-img">
                            <img src="https://images.unsplash.com/photo-1571781565036-d3f7595ca3f7?w=100" class="preview-img">
                            <div class="preview-count">+12</div>
                        </div>
                        <div class="camp-stats">
                            <div class="stat-badge">15 Assets</div>
                            <div class="stat-badge">492MB</div>
                        </div>
                    </div>

                    <div class="campaign-card" onclick="openCampaignDetail('serum-launch')">
                        <div class="camp-header">
                            <div class="camp-icon">🎥</div>
                            <div class="camp-menu" onclick="event.stopPropagation();">⋮</div>
                        </div>
                        <div class="camp-title">New Serum Launch</div>
                        <div class="camp-meta">
                            <div class="status-dot status-success"></div>
                            <span>Completed • Oct 12</span>
                        </div>
                        <div class="preview-stack">
                            <img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=100" class="preview-img">
                            <img src="https://images.unsplash.com/photo-1512413914633-b5043f4041ea?w=100" class="preview-img">
                            <div class="preview-count">+8</div>
                        </div>
                        <div class="camp-stats">
                            <div class="stat-badge">10 Videos</div>
                            <div class="stat-badge">1.2GB</div>
                        </div>
                    </div>

                    <div class="campaign-card" style="border-color:#f1c40f;">
                        <div class="camp-header">
                            <div class="camp-icon">⚡</div>
                            <div class="camp-menu" onclick="event.stopPropagation();">⋮</div>
                        </div>
                        <div class="camp-title">Holiday Promo Test</div>
                        <div class="camp-meta">
                            <div class="status-dot status-pending"></div>
                            <span style="color:var(--pending);">Generating...</span>
                        </div>
                        <div style="margin-top:20px;">
                            <div style="font-size:11px; color:#aaa; margin-bottom:5px;">Processing (45%)</div>
                            <div style="height:6px; background:#333; border-radius:3px; overflow:hidden;">
                                <div style="width:45%; height:100%; background:var(--pending);"></div>
                            </div>
                        </div>
                        <div class="camp-stats">
                            <div class="stat-badge">-- Assets</div>
                            <div class="stat-badge">-- MB</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Campaign Detail View -->
            <div id="campaigns-detail-view" style="display:none;">
                <!-- Header -->
                <div class="campaign-detail-header">
                    <div class="campaign-detail-top">
                        <div class="campaign-detail-info">
                            <div class="campaign-detail-icon" id="detailCampaignIcon" style="background:rgba(0,243,255,0.2);">🛍️</div>
                            <div class="campaign-detail-text">
                                <h1 id="detailCampaignName">Black Friday - Shea Butter</h1>
                                <p>Created Nov 24, 2024 • Last updated 2 days ago</p>
                            </div>
                        </div>
                        <div class="campaign-detail-actions">
                            <button class="secondary-btn" onclick="closeCampaignDetail()"><span>←</span> Back</button>
                            <button class="secondary-btn"><span>✏️</span> Edit</button>
                            <button class="secondary-btn"><span>📤</span> Export All</button>
                            <button class="primary-btn" onclick="showToast('success', 'Downloaded', 'All assets downloaded')"><span>⬇️</span> Download All</button>
                        </div>
                    </div>
                    <div class="campaign-stats-row">
                        <div class="campaign-stat-item"><div class="value">15</div><div class="label">Total Assets</div></div>
                        <div class="campaign-stat-item"><div class="value">9</div><div class="label">Images</div></div>
                        <div class="campaign-stat-item"><div class="value">5</div><div class="label">Videos</div></div>
                        <div class="campaign-stat-item"><div class="value">492MB</div><div class="label">Total Size</div></div>
                        <div class="campaign-stat-item"><div class="value">87</div><div class="label">Avg. Score</div></div>
                    </div>
                    <div class="campaign-tags">
                        <div class="campaign-tag-pill">skincare</div>
                        <div class="campaign-tag-pill">shea butter</div>
                        <div class="campaign-tag-pill">black friday</div>
                        <div class="campaign-tag-pill">organic</div>
                    </div>
                </div>

                <!-- Zone Tabs & View Toggle -->
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; gap:15px;">
                    <div class="zone-tabs" style="margin-bottom:0;">
                        <div class="zone-tab active" onclick="filterCampaignAssets('all', this)"><span>📁</span> All <span class="count">15</span></div>
                        <div class="zone-tab hook-tab" onclick="filterCampaignAssets('hooks', this)"><span>🛑</span> Hooks <span class="count">3</span></div>
                        <div class="zone-tab offer-tab" onclick="filterCampaignAssets('offers', this)"><span>💰</span> Offers <span class="count">3</span></div>
                        <div class="zone-tab edu-tab" onclick="filterCampaignAssets('edu', this)"><span>🧠</span> Educational <span class="count">3</span></div>
                        <div class="zone-tab video-tab" onclick="filterCampaignAssets('videos', this)"><span>🎥</span> Videos <span class="count">5</span></div>
                    </div>
                    <div class="view-toggle-btns">
                        <button class="view-toggle-btn active">Grid</button>
                        <button class="view-toggle-btn">List</button>
                    </div>
                </div>

                <!-- Zone: Hooks -->
                <div class="zone-section campaign-zone" id="campaign-zone-hooks">
                    <div class="zone-header">
                        <div class="zone-title hook-color"><span>🛑</span> HOOKS <span style="font-size:12px; color:#888; font-weight:400;">(3 assets)</span></div>
                    </div>
                    <div class="campaign-content-grid">
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn" onclick="openLightbox(event, 'https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=800')">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">hook_ultimate_luxury.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 245KB • Score: 92</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1556228552-523de509228a?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">hook_raw_unrefined.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 198KB • Score: 88</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1571781565036-d3f7595ca3f7?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">hook_glow_up.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 176KB • Score: 76</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Zone: Offers -->
                <div class="zone-section campaign-zone" id="campaign-zone-offers">
                    <div class="zone-header">
                        <div class="zone-title offer-color"><span>💰</span> OFFERS <span style="font-size:12px; color:#888; font-weight:400;">(3 assets)</span></div>
                    </div>
                    <div class="campaign-content-grid">
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">offer_50_off.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 267KB • Score: 94</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">offer_bogo.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 234KB • Score: 89</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1556228720-1957be83f315?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">offer_bundle_save.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 189KB • Score: 81</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Zone: Educational -->
                <div class="zone-section campaign-zone" id="campaign-zone-edu">
                    <div class="zone-header">
                        <div class="zone-title edu-color"><span>🧠</span> EDUCATIONAL <span style="font-size:12px; color:#888; font-weight:400;">(3 assets)</span></div>
                    </div>
                    <div class="campaign-content-grid">
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">edu_why_it_works.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 312KB • Score: 91</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1615397349754-cfa2066a298e?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">edu_did_you_know.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 278KB • Score: 87</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb" style="background-image:url('https://images.unsplash.com/photo-1570194065650-d99fb4b8ccb0?q=80&w=400');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">👁</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                        <div class="campaign-asset-btn">📋</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">edu_organic.jpg</div>
                                <div class="campaign-asset-meta">1080x1350 • 201KB • Score: 79</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Zone: Videos -->
                <div class="zone-section campaign-zone" id="campaign-zone-videos">
                    <div class="zone-header">
                        <div class="zone-title video-color"><span>🎥</span> VIDEOS <span style="font-size:12px; color:#888; font-weight:400;">(5 assets)</span></div>
                    </div>
                    <div class="campaign-content-grid">
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb campaign-video-thumb" style="background-image:url('https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=300');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">▶️</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">avatar_hook.mp4</div>
                                <div class="campaign-asset-meta">1080x1920 • 0:15 • 12.4MB</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb campaign-video-thumb" style="background-image:url('https://images.unsplash.com/photo-1616401784845-180882ba9ba8?w=300');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">▶️</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">avatar_alt.mp4</div>
                                <div class="campaign-asset-meta">1080x1920 • 0:12 • 9.8MB</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb campaign-video-thumb" style="background-image:url('https://images.unsplash.com/photo-1556228552-523de509228a?w=300');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">▶️</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">broll_product_1.mp4</div>
                                <div class="campaign-asset-meta">1080x1920 • 0:08 • 6.2MB</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb campaign-video-thumb" style="background-image:url('https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?w=300');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">▶️</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">broll_product_2.mp4</div>
                                <div class="campaign-asset-meta">1080x1920 • 0:10 • 8.1MB</div>
                            </div>
                        </div>
                        <div class="campaign-asset-card">
                            <div class="campaign-asset-thumb campaign-video-thumb" style="background-image:url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=300');">
                                <div class="campaign-asset-overlay">
                                    <div class="campaign-asset-actions">
                                        <div class="campaign-asset-btn">▶️</div>
                                        <div class="campaign-asset-btn">⬇️</div>
                                    </div>
                                </div>
                            </div>
                            <div class="campaign-asset-info">
                                <div class="campaign-asset-name">kinetic_text.mp4</div>
                                <div class="campaign-asset-meta">1080x1920 • 0:06 • 4.5MB</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-gallery" class="view-section">
            <div class="header">
                <div class="page-title">
                    <h1>Content Library</h1>
                    <p>All your generated assets in one place. Auto-saved after each generation.</p>
                </div>
                <div style="display:flex; gap:10px;">
                    <button class="primary-btn" style="background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.2); color:white;" onclick="showToast('info', 'Coming Soon', 'Manual upload feature coming soon')">
                        <span>☁️</span> Upload
                    </button>
                    <button class="primary-btn" onclick="navigateTo('generator')">
                        <span>⚡</span> Generate New
                    </button>
                </div>
            </div>

            <!-- Stats Overview -->
            <div class="library-stats">
                <div class="stat-card">
                    <div class="stat-icon purple">📊</div>
                    <div>
                        <div class="stat-value">47</div>
                        <div class="stat-label">Total Assets</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon cyan">🖼️</div>
                    <div>
                        <div class="stat-value">38</div>
                        <div class="stat-label">Images</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon pink">🎥</div>
                    <div>
                        <div class="stat-value">9</div>
                        <div class="stat-label">Videos</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon gold">💾</div>
                    <div>
                        <div class="stat-value">2.4 GB</div>
                        <div class="stat-label">Storage Used</div>
                    </div>
                </div>
            </div>

            <!-- Library Tabs -->
            <div class="library-tabs">
                <div class="library-tab active" onclick="switchLibraryTab('all', this)">
                    <span>📁</span> All Assets <span class="tab-count">47</span>
                </div>
                <div class="library-tab" onclick="switchLibraryTab('recent', this)">
                    <span>🕐</span> Recent
                </div>
                <div class="library-tab" onclick="switchLibraryTab('trash', this)">
                    <span>🗑️</span> Recently Deleted <span class="tab-count">3</span>
                </div>
            </div>

            <!-- All Assets Tab Content -->
            <div id="library-tab-all" class="library-tab-content">
                <!-- Zone Filter Chips -->
                <div class="zone-filter-bar">
                    <div class="zone-chip active" onclick="filterLibraryByZone('all', this)">All Types</div>
                    <div class="zone-chip hook" onclick="filterLibraryByZone('hook', this)">🛑 Hooks</div>
                    <div class="zone-chip offer" onclick="filterLibraryByZone('offer', this)">💰 Offers</div>
                    <div class="zone-chip edu" onclick="filterLibraryByZone('edu', this)">🧠 Educational</div>
                    <div class="zone-chip video" onclick="filterLibraryByZone('video', this)">🎥 Videos</div>
                </div>

                <!-- Search & Filters -->
                <div class="filter-bar">
                    <div class="search-box">
                        <span>🔍</span>
                        <input type="text" placeholder="Search by name, product, or date...">
                    </div>
                    <select class="filter-select">
                        <option>All Products</option>
                        <option>Raw Shea Butter</option>
                        <option>Hydra-Glow Serum</option>
                        <option>Cosmic Face Serum</option>
                    </select>
                    <select class="filter-select">
                        <option>All Time</option>
                        <option>Today</option>
                        <option>This Week</option>
                        <option>This Month</option>
                    </select>
                    <!-- Calendar Date Picker for Gallery -->
                    <div class="calendar-picker-container">
                        <button class="calendar-picker-btn" onclick="toggleCalendar('galleryCalendar')">
                            <span>📆</span> <span id="galleryDateLabel">Pick Date</span>
                        </button>
                        <div class="calendar-dropdown" id="galleryCalendar">
                            <div class="calendar-header">
                                <button class="calendar-nav-btn" onclick="changeCalendarMonth(-1, 'gallery')">←</button>
                                <span class="calendar-month-year" id="galleryCalendarTitle">December 2024</span>
                                <button class="calendar-nav-btn" onclick="changeCalendarMonth(1, 'gallery')">→</button>
                            </div>
                            <div class="calendar-weekdays">
                                <div class="calendar-weekday">Su</div>
                                <div class="calendar-weekday">Mo</div>
                                <div class="calendar-weekday">Tu</div>
                                <div class="calendar-weekday">We</div>
                                <div class="calendar-weekday">Th</div>
                                <div class="calendar-weekday">Fr</div>
                                <div class="calendar-weekday">Sa</div>
                            </div>
                            <div class="calendar-days" id="galleryCalendarDays"></div>
                            <div class="calendar-presets">
                                <button class="calendar-preset" onclick="selectCalendarPreset('today', 'gallery')">Today</button>
                                <button class="calendar-preset" onclick="selectCalendarPreset('yesterday', 'gallery')">Yesterday</button>
                                <button class="calendar-preset" onclick="selectCalendarPreset('week', 'gallery')">This Week</button>
                                <button class="calendar-preset" onclick="selectCalendarPreset('month', 'gallery')">This Month</button>
                            </div>
                            <div class="calendar-actions">
                                <button class="calendar-clear-btn" onclick="clearCalendarSelection('gallery')">Clear</button>
                                <button class="calendar-apply-btn" onclick="applyCalendarSelection('gallery')">Apply</button>
                            </div>
                        </div>
                    </div>
                    <select class="filter-select">
                        <option>Newest First</option>
                        <option>Oldest First</option>
                        <option>AI Score (High-Low)</option>
                        <option>Name (A-Z)</option>
                    </select>
                    <div class="view-toggle">
                        <div class="toggle-btn active" title="Grid View">▦</div>
                        <div class="toggle-btn" title="Timeline View">≡</div>
                    </div>
                </div>

                <!-- Bulk Actions Bar -->
                <div class="bulk-actions" id="galleryBulkBar">
                    <span class="bulk-count"><span id="librarySelectedCount">0</span> Items Selected</span>
                    <div style="margin-left: auto; display: flex; gap: 15px;">
                        <span class="action-link" onclick="openModal('campaignModal')">📁 Add to Campaign</span>
                        <span class="action-link">⬇ Download</span>
                        <span class="action-link" style="color:var(--danger)" onclick="openModal('deleteModal')">🗑 Delete</span>
                        <span class="action-link" onclick="clearLibrarySelection()">Cancel</span>
                    </div>
                </div>

                <!-- Generation Group: Today -->
                <div class="generation-group">
                    <div class="generation-header">
                        <div class="generation-info">
                            <div class="generation-date">Today, Dec 20</div>
                            <div class="generation-product">Raw Shea Butter</div>
                            <div class="generation-count">14 assets</div>
                        </div>
                        <div class="generation-actions">
                            <button class="gen-action-btn" onclick="openModal('campaignModal')">📁 Add All to Campaign</button>
                            <button class="gen-action-btn">⬇ Download All</button>
                        </div>
                    </div>
                    <div class="gallery-grid">
                        <div class="enhanced-asset-card" data-zone="hook" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge hook">Hook</div>
                                <div class="asset-score-badge"><span class="score">92</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" onclick="event.stopPropagation(); openLightbox(event, 'https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=800')" title="Preview">👁</div>
                                    <div class="hover-action-btn" onclick="event.stopPropagation(); openModal('editTextModal')" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" onclick="event.stopPropagation(); openModal('campaignModal')" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" onclick="event.stopPropagation(); showToast('success', 'Downloaded', 'Image saved')" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" onclick="event.stopPropagation(); showToast('info', 'Moved to Trash', 'Asset moved to Recently Deleted')" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">The Ultimate Skin Luxury</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 1.2 MB</span>
                                </div>
                            </div>
                        </div>

                        <div class="enhanced-asset-card" data-zone="hook" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1556228552-523de509228a?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge hook">Hook</div>
                                <div class="asset-score-badge"><span class="score">88</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Preview">👁</div>
                                    <div class="hover-action-btn" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">Raw & Unrefined</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 1.4 MB</span>
                                </div>
                            </div>
                        </div>

                        <div class="enhanced-asset-card" data-zone="offer" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge offer">Offer</div>
                                <div class="asset-score-badge"><span class="score">94</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Preview">👁</div>
                                    <div class="hover-action-btn" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">50% OFF Limited Time</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 2.1 MB</span>
                                </div>
                            </div>
                        </div>

                        <div class="enhanced-asset-card" data-zone="edu" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge edu">Edu</div>
                                <div class="asset-score-badge"><span class="score">91</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Preview">👁</div>
                                    <div class="hover-action-btn" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">Why It Works - 3 Benefits</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 1.8 MB</span>
                                </div>
                            </div>
                        </div>

                        <div class="enhanced-asset-card" data-zone="video" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1512413914633-b5043f4041ea?w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge video">Video</div>
                                <div class="asset-score-badge"><span class="score">89</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" onclick="event.stopPropagation(); openVideoPlayer('AI Avatar Hook', 'https://images.unsplash.com/photo-1512413914633-b5043f4041ea?w=400')" title="Play">▶</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">AI Avatar (Hook)</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge video">Video</span>
                                    <span>0:15 • 14.5 MB</span>
                                </div>
                            </div>
                        </div>

                        <div class="enhanced-asset-card" data-zone="video" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1616401784845-180882ba9ba8?w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge video">Video</div>
                                <div class="asset-score-badge"><span class="score">85</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Play">▶</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">Product B-Roll 1</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge video">Video</span>
                                    <span>0:08 • 8.4 MB</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Generation Group: Yesterday -->
                <div class="generation-group">
                    <div class="generation-header">
                        <div class="generation-info">
                            <div class="generation-date">Yesterday, Dec 19</div>
                            <div class="generation-product">Hydra-Glow Serum</div>
                            <div class="generation-count">14 assets</div>
                        </div>
                        <div class="generation-actions">
                            <button class="gen-action-btn">📁 Add All to Campaign</button>
                            <button class="gen-action-btn">⬇ Download All</button>
                        </div>
                    </div>
                    <div class="gallery-grid">
                        <div class="enhanced-asset-card" data-zone="hook" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1571781565036-d3f7595ca3f7?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge hook">Hook</div>
                                <div class="asset-score-badge"><span class="score">86</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Preview">👁</div>
                                    <div class="hover-action-btn" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">Glow Up Naturally</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 1.1 MB</span>
                                </div>
                            </div>
                        </div>

                        <div class="enhanced-asset-card" data-zone="offer" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge offer">Offer</div>
                                <div class="asset-score-badge"><span class="score">90</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Preview">👁</div>
                                    <div class="hover-action-btn" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">Buy 1 Get 1 Free</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 1.9 MB</span>
                                </div>
                            </div>
                        </div>

                        <div class="enhanced-asset-card" data-zone="edu" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1615397349754-cfa2066a298e?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge edu">Edu</div>
                                <div class="asset-score-badge"><span class="score">87</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Preview">👁</div>
                                    <div class="hover-action-btn" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">Did You Know? Vitamins</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 1.6 MB</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Generation Group: Last Week -->
                <div class="generation-group">
                    <div class="generation-header">
                        <div class="generation-info">
                            <div class="generation-date">Dec 15, 2025</div>
                            <div class="generation-product">Cosmic Face Serum</div>
                            <div class="generation-count">14 assets</div>
                        </div>
                        <div class="generation-actions">
                            <button class="gen-action-btn">📁 Add All to Campaign</button>
                            <button class="gen-action-btn">⬇ Download All</button>
                        </div>
                    </div>
                    <div class="gallery-grid">
                        <div class="enhanced-asset-card" data-zone="hook" onclick="toggleLibrarySelect(this)">
                            <div class="asset-thumb-wrapper">
                                <img src="https://images.unsplash.com/photo-1570194065650-d99fb4b8ccb0?q=80&w=400">
                                <div class="asset-select-check"></div>
                                <div class="asset-zone-badge hook">Hook</div>
                                <div class="asset-score-badge"><span class="score">79</span> Score</div>
                                <div class="asset-hover-actions">
                                    <div class="hover-action-btn" title="Preview">👁</div>
                                    <div class="hover-action-btn" title="Edit">✏️</div>
                                    <div class="hover-action-btn campaign" title="Add to Campaign">📁</div>
                                    <div class="hover-action-btn" title="Download">⬇</div>
                                    <div class="hover-action-btn delete" title="Delete">🗑</div>
                                </div>
                            </div>
                            <div class="enhanced-asset-info">
                                <div class="asset-title">100% Organic Promise</div>
                                <div class="asset-details">
                                    <span class="asset-type-badge image">Image</span>
                                    <span>1080x1350 • 1.3 MB</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recently Deleted Tab Content -->
            <div id="library-tab-trash" class="library-tab-content" style="display:none;">
                <div class="trash-banner">
                    <div class="trash-info">
                        <div class="trash-icon">🗑️</div>
                        <div class="trash-text">
                            <h4>Recently Deleted</h4>
                            <p>Items here will be permanently deleted after 30 days</p>
                        </div>
                    </div>
                    <div class="trash-actions">
                        <button class="restore-btn" onclick="showToast('success', 'Restored', 'All items restored to library')">↩ Restore All</button>
                        <button class="empty-trash-btn" onclick="openModal('emptyTrashModal')">Empty Trash</button>
                    </div>
                </div>

                <div class="gallery-grid">
                    <div class="enhanced-asset-card" data-zone="hook">
                        <div class="asset-thumb-wrapper" style="opacity:0.6;">
                            <img src="https://images.unsplash.com/photo-1556228720-1957be83f315?q=80&w=400">
                            <div class="asset-zone-badge hook">Hook</div>
                        </div>
                        <div class="enhanced-asset-info">
                            <div class="asset-title" style="color:#888;">Deleted Hook Asset</div>
                            <div class="asset-details">
                                <span style="color:var(--danger); font-size:10px;">Deleted 2 days ago</span>
                                <button style="background:var(--shopify-green); color:black; border:none; padding:4px 10px; border-radius:4px; font-size:10px; cursor:pointer;">Restore</button>
                            </div>
                        </div>
                    </div>

                    <div class="enhanced-asset-card" data-zone="offer">
                        <div class="asset-thumb-wrapper" style="opacity:0.6;">
                            <img src="https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=400">
                            <div class="asset-zone-badge video">Video</div>
                        </div>
                        <div class="enhanced-asset-info">
                            <div class="asset-title" style="color:#888;">Deleted Video Asset</div>
                            <div class="asset-details">
                                <span style="color:var(--danger); font-size:10px;">Deleted 5 days ago</span>
                                <button style="background:var(--shopify-green); color:black; border:none; padding:4px 10px; border-radius:4px; font-size:10px; cursor:pointer;">Restore</button>
                            </div>
                        </div>
                    </div>

                    <div class="enhanced-asset-card" data-zone="edu">
                        <div class="asset-thumb-wrapper" style="opacity:0.6;">
                            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400">
                            <div class="asset-zone-badge edu">Edu</div>
                        </div>
                        <div class="enhanced-asset-info">
                            <div class="asset-title" style="color:#888;">Deleted Edu Asset</div>
                            <div class="asset-details">
                                <span style="color:var(--danger); font-size:10px;">Deleted 7 days ago</span>
                                <button style="background:var(--shopify-green); color:black; border:none; padding:4px 10px; border-radius:4px; font-size:10px; cursor:pointer;">Restore</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-generator" class="view-section" style="padding:0;">
            <div class="generator-wrapper">
                <div id="inventorySidebar" class="inventory-drawer">
                    <div class="sidebar-content">
                        <h3 style="color:white; margin-bottom:15px;">🛍️ Your Inventory</h3>
                        <div class="product-list">
                            <div class="p-item" onclick="fillForm('Cosmic Face Serum', 'Hydrates dry skin.', '50', 'ml')">
                                <img src="https://source.unsplash.com/random/100x100/?cosmetic">
                                <div class="p-info"><h4>Cosmic Serum</h4><span>50ml • 142 left</span></div>
                            </div>
                            <div class="p-item" onclick="fillForm('Nebula Lamp', 'Galaxy vibes.', '10', 'in')">
                                <img src="https://source.unsplash.com/random/100x100/?lamp">
                                <div class="p-info"><h4>Nebula Lamp</h4><span>10in • 56 left</span></div>
                            </div>
                            <div class="p-item" onclick="fillForm('Orbit Watch', 'Fitness tracking.', '', '')">
                                <img src="https://source.unsplash.com/random/100x100/?watch">
                                <div class="p-info"><h4>Orbit Watch</h4><span>One Size • 89 left</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="flex:1; padding:40px; overflow-y:auto;">
                    <div class="header">
                        <div class="page-title">
                            <h1>Initialize Campaign</h1>
                            <p id="mode-text">Manually enter details below or connect store.</p>
                        </div>
                        <div id="connectContainer" class="connect-bar">
                            <button class="connect-btn shopify" onclick="startShopifyConnect()">
                                <span style="font-size:16px">🛍️</span> Connect Shopify
                            </button>
                            <button class="connect-btn tiktok" onclick="alert('TikTok Shop Integration coming soon!')">
                                <span style="font-size:16px">🎵</span> Connect TikTok Shop
                            </button>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="brand-panel">
                            <div class="brand-title">🎨 Brand DNA</div>

                            <div class="brand-field">
                                <label>Brand Logo</label>
                                <div class="logo-upload-small">
                                    <span style="font-size:16px;">📁</span> Upload .PNG / .SVG
                                </div>
                            </div>

                            <div class="brand-field">
                                <label>Brand Colors</label>
                                <div class="color-picker-row">
                                    <div>
                                        <div class="gen-color-swatch" style="background:#ff0055;"><input type="color" value="#ff0055"></div>
                                        <span style="font-size:10px; color:#888;">Primary</span>
                                    </div>
                                    <div>
                                        <div class="gen-color-swatch" style="background:#00f3ff;"><input type="color" value="#00f3ff"></div>
                                        <span style="font-size:10px; color:#888;">Accent</span>
                                    </div>
                                </div>
                            </div>

                            <div class="brand-field">
                                <label>Brand Font</label>
                                <select>
                                    <option>Inter (Default)</option>
                                    <option>Oswald (Bold)</option>
                                    <option>Playfair (Luxury)</option>
                                    <option>+ Custom Font</option>
                                </select>
                            </div>
                        </div>

                        <div class="main-form-panel" id="mainForm">
                            <div class="section-title">1. Product Data</div>

                            <div class="form-group">
                                <label>Product Name</label>
                                <input type="text" id="pName" placeholder="Enter product name...">
                            </div>

                            <div class="form-group">
                                <label>Description (Script Basis)</label>
                                <textarea id="pDesc" rows="2" placeholder="What does it do?"></textarea>
                            </div>

                            <div class="form-group">
                                <label>Specs (Optional)</label>
                                <div style="display:flex; gap:10px;">
                                    <input type="text" id="pVal" placeholder="Value" style="flex:2">
                                    <select id="pUnit" style="flex:1">
                                        <option>oz</option><option>ml</option><option>in</option><option>cm</option>
                                    </select>
                                </div>
                            </div>

                            <div class="section-title">2. Creative Direction & Casting</div>

                            <div class="form-group">
                                <label>Campaign Vibe</label>
                                <select>
                                    <option>🔥 High Energy / Hype</option>
                                    <option>💎 Luxury / Minimalist</option>
                                    <option>🧠 Educational / Trust</option>
                                    <option>😂 Humorous / Witty</option>
                                    <option>❤️ Emotional / Story</option>
                                </select>
                            </div>

                            <div class="casting-row">
                                <div class="casting-col">
                                    <div class="form-group">
                                        <label>Avatar Gender (Optional)</label>
                                        <select>
                                            <option>Any (AI Selects)</option>
                                            <option>Female</option>
                                            <option>Male</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="casting-col">
                                    <div class="form-group">
                                        <label>Avatar Ethnicity (Optional)</label>
                                        <select>
                                            <option>Any (AI Selects)</option>
                                            <option>Black / African American</option>
                                            <option>East Asian</option>
                                            <option>Hispanic / Latino</option>
                                            <option>Middle Eastern</option>
                                            <option>South Asian / Indian</option>
                                            <option>White / Caucasian</option>
                                            <option>Multi-racial</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="section-title">3. Visual Assets</div>
                            <div class="form-group" id="uploadGroup">
                                <div class="upload-zone">
                                    <div style="font-size:24px;">☁️</div>
                                    <div style="font-size:13px; color:#aaa;">Drag & Drop Photos Here</div>
                                </div>
                            </div>

                            <button class="launch-btn" onclick="launchCampaign()">🚀 LAUNCH CAMPAIGN</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- OAuth Modal -->
        <div id="oauthModal" class="oauth-modal hidden">
            <div class="oauth-box">
                <img src="https://cdn.shopify.com/s/assets/external/favicon-96-1674641025.png" width="40" style="margin-bottom:10px;">
                <h3>Connecting to Shopify...</h3>
                <div class="oauth-spinner"></div>
            </div>
        </div>

        <div id="view-brand" class="view-section">
            <div class="page-header">
                <div class="page-title">
                    <h1>Brand Identity</h1>
                    <p>Set your visual DNA. The AI will apply these rules to every generated asset.</p>
                </div>
                <button class="save-btn" onclick="alert('Brand Kit Saved!')"><span>💾</span> Save Changes</button>
            </div>
            <div class="brand-kit-layout">
                <div class="settings-panel">
                    <div class="section-label">1. Brand Logo</div>
                    <div class="logo-area">
                        <div class="current-logo"><span style="font-size:24px;">🌿</span></div>
                        <div class="upload-box">
                            <div style="font-size:20px; margin-bottom:5px;">📂</div>
                            <div>Click to upload .PNG or .SVG</div>
                            <div style="font-size:10px; margin-top:5px; color:#555;">Transparent background recommended</div>
                        </div>
                    </div>

                    <div class="section-label">2. Color Palette</div>
                    <div class="color-grid">
                        <div class="color-group">
                            <label>Primary Brand Color</label>
                            <div class="color-input">
                                <div class="color-swatch" style="background:#8F9E8B;"><input type="color" value="#8F9E8B" onchange="updatePreviewColor(this.value)"></div>
                                <span class="hex-code">#8F9E8B</span>
                            </div>
                        </div>
                        <div class="color-group">
                            <label>Accent / Button Color</label>
                            <div class="color-input">
                                <div class="color-swatch" style="background:#E8E4D3;"><input type="color" value="#E8E4D3"></div>
                                <span class="hex-code">#E8E4D3</span>
                            </div>
                        </div>
                    </div>

                    <div class="section-label">3. Typography</div>
                    <div class="font-group">
                        <label>Headline Font (Impact)</label>
                        <select onchange="updatePreviewFont(this.value)">
                            <option value="'Oswald', sans-serif">Oswald (Bold & Tall)</option>
                            <option value="'Playfair Display', serif">Playfair Display (Luxury Serif)</option>
                            <option value="'Inter', sans-serif">Inter (Clean Modern)</option>
                        </select>
                    </div>
                    <div class="font-group">
                        <label>Body Font (Readability)</label>
                        <select>
                            <option>Inter (Default)</option>
                            <option>Roboto</option>
                            <option>Open Sans</option>
                        </select>
                    </div>

                    <div class="section-label">4. Brand Voice (AI Tone)</div>
                    <select>
                        <option>💎 Luxury / Minimalist</option>
                        <option>🔥 High Energy / Hype</option>
                        <option>🌿 Organic / Natural</option>
                        <option>🏥 Clinical / Trustworthy</option>
                    </select>
                </div>

                <div class="preview-panel">
                    <div class="preview-label">Live Ad Preview</div>
                    <div class="mock-ad">
                        <div class="mock-logo">
                            <div style="background:white; padding:5px 10px; border-radius:4px; display:inline-block; font-weight:bold; letter-spacing:1px; font-family:'Playfair Display'; font-size:14px;">BELLE</div>
                        </div>
                        <div class="mock-text-layer">
                            <div class="mock-headline" id="previewHeadline">THE ULTIMATE<br>LUXURY</div>
                            <div class="mock-button" id="previewButton">SHOP NOW</div>
                        </div>
                    </div>
                    <div style="background:rgba(0, 243, 255, 0.1); border:1px solid var(--primary-cyan); padding:15px; border-radius:8px; font-size:12px; color:var(--primary-cyan); text-align:center;">
                        💡 Tip: This preview shows how your colors and fonts will appear on a generated "Hook" image.
                    </div>
                </div>
            </div>
        </div>

        <!-- RESULTS VIEW -->
        <div id="view-results" class="view-section" style="display:none;">
            <div class="results-container">
                <!-- Results Header -->
                <div class="results-header">
                    <div class="results-info">
                        <h1>Campaign Results</h1>
                        <div class="results-meta">
                            <span>Product: <span class="product-tag" id="resultsProductName">Raw Shea Butter</span></span>
                            <span>Generated: <span style="color:white;">Just now</span></span>
                            <span>Assets: <span style="color:white;">14 items</span></span>
                        </div>
                    </div>
                    <div class="results-actions">
                        <button class="secondary-btn" onclick="navigateTo('generator')">
                            <span>←</span> Back to Generator
                        </button>
                        <button class="secondary-btn" onclick="openModal('regenerateModal')">
                            <span>🔄</span> Regenerate All
                        </button>
                        <button class="save-campaign-btn" onclick="openModal('campaignModal')">
                            <span>📁</span> Save to Campaign
                        </button>
                        <button class="primary-btn" onclick="showToast('success', 'Download Started', 'Preparing 14-asset bundle...')">
                            <span>⬇</span> Download Bundle (14)
                        </button>
                    </div>
                </div>

                <!-- Zone Tabs -->
                <div class="zone-tabs">
                    <div class="zone-tab hook-tab active" onclick="scrollToResultZone('hooks', this)">
                        <span>🛑</span> Hooks <span class="count">3</span>
                    </div>
                    <div class="zone-tab offer-tab" onclick="scrollToResultZone('offers', this)">
                        <span>💰</span> Offers <span class="count">3</span>
                    </div>
                    <div class="zone-tab edu-tab" onclick="scrollToResultZone('edu', this)">
                        <span>🧠</span> Educational <span class="count">3</span>
                    </div>
                    <div class="zone-tab video-tab" onclick="scrollToResultZone('videos', this)">
                        <span>🎥</span> Videos <span class="count">5</span>
                    </div>
                </div>

                <!-- ZONE 1: HOOKS -->
                <div class="zone-section" id="result-zone-hooks">
                    <div class="zone-header">
                        <div class="zone-title hook-color">
                            <span>🛑</span> ZONE 1: HOOKS
                            <span style="font-size:12px; color:#888; font-weight:400; margin-left:10px;">(Stop Scrolling)</span>
                        </div>
                        <div class="zone-actions">
                            <button class="zone-action-btn" onclick="selectAllInResultZone('hooks')"><span>☐</span> Select All</button>
                            <button class="zone-action-btn" onclick="openModal('regenerateModal')"><span>🔄</span> Regenerate Zone</button>
                        </div>
                    </div>
                    <div class="content-grid">
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-high">92</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=800');">
                                <div class="overlay-text" style="top:15%;">
                                    <div class="headline">The Ultimate<br>Skin Luxury</div>
                                    <div class="subhead">PURE, ORGANIC SHEA</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation(); openModal('editTextModal')"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation(); openModal('regenerateModal')"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation(); showToast('success', 'Downloaded', 'Image saved to Gallery')"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation(); showToast('info', 'Copied', 'Image copied to clipboard')"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-high">88</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1556228552-523de509228a?q=80&w=800');">
                                <div class="overlay-text" style="bottom:25%;">
                                    <div class="headline">Raw &<br>Unrefined</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-med">76</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1571781565036-d3f7595ca3f7?q=80&w=800');">
                                <div class="overlay-text" style="top:40%;">
                                    <div class="headline" style="color:#333; text-shadow:none;">Glow Up</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ZONE 2: OFFERS -->
                <div class="zone-section" id="result-zone-offers">
                    <div class="zone-header">
                        <div class="zone-title offer-color">
                            <span>💰</span> ZONE 2: OFFERS
                            <span style="font-size:12px; color:#888; font-weight:400; margin-left:10px;">(Sales & Promos)</span>
                        </div>
                        <div class="zone-actions">
                            <button class="zone-action-btn" onclick="selectAllInResultZone('offers')"><span>☐</span> Select All</button>
                            <button class="zone-action-btn"><span>🔄</span> Regenerate Zone</button>
                        </div>
                    </div>
                    <div class="content-grid">
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-high">94</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=800');">
                                <div class="overlay-text" style="top:10%;">
                                    <div class="headline">50% OFF</div>
                                    <div class="subhead">LIMITED TIME DEAL</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-high">89</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?q=80&w=800');">
                                <div class="overlay-text" style="bottom:15%;">
                                    <div class="headline">Buy 1 Get 1</div>
                                    <div class="subhead">FREE SHIPPING</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-med">81</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1556228720-1957be83f315?q=80&w=800');">
                                <div class="overlay-text" style="top:30%;">
                                    <div class="headline">Bundle & Save</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ZONE 3: EDUCATIONAL -->
                <div class="zone-section" id="result-zone-edu">
                    <div class="zone-header">
                        <div class="zone-title edu-color">
                            <span>🧠</span> ZONE 3: EDUCATIONAL
                            <span style="font-size:12px; color:#888; font-weight:400; margin-left:10px;">(Facts & Value)</span>
                        </div>
                        <div class="zone-actions">
                            <button class="zone-action-btn"><span>☐</span> Select All</button>
                            <button class="zone-action-btn"><span>🔄</span> Regenerate Zone</button>
                        </div>
                    </div>
                    <div class="content-grid">
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-high">91</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?q=80&w=800');">
                                <div class="overlay-text" style="top:10%; align-items:flex-start;">
                                    <div class="subhead" style="margin-bottom:8px;">WHY IT WORKS</div>
                                    <div class="pointer-list">
                                        <div class="pointer-item"><div class="pointer-dot"></div>Rich Vitamin E</div>
                                        <div class="pointer-item"><div class="pointer-dot"></div>Non-Greasy Formula</div>
                                        <div class="pointer-item"><div class="pointer-dot"></div>24hr Hydration</div>
                                    </div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-high">87</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1615397349754-cfa2066a298e?q=80&w=800');">
                                <div class="overlay-text" style="bottom:15%;">
                                    <div class="info-block">
                                        <div class="info-title">DID YOU KNOW?</div>
                                        Unrefined shea butter retains 90% more vitamins than processed alternatives, giving your skin a natural barrier.
                                    </div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                        <div class="result-card" onclick="toggleResultSelect(this)">
                            <div class="result-select"></div>
                            <div class="score-badge"><span class="score-med">79</span> Score</div>
                            <div class="result-image" style="background-image: url('https://images.unsplash.com/photo-1570194065650-d99fb4b8ccb0?q=80&w=800');">
                                <div class="overlay-text" style="top:40%;">
                                    <div class="headline" style="font-size:20px;">100% Organic</div>
                                    <div class="subhead">NO CHEMICALS</div>
                                </div>
                            </div>
                            <div class="result-actions">
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">✏️</span>Edit Text</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">🔄</span>Revise</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">⬇️</span>Save</div>
                                <div class="result-tool" onclick="event.stopPropagation();"><span class="result-tool-icon">📋</span>Copy</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ZONE 4: VIDEOS -->
                <div class="zone-section" id="result-zone-videos">
                    <div class="zone-header">
                        <div class="zone-title video-color">
                            <span>🎥</span> ZONE 4: MOTION
                            <span style="font-size:12px; color:#888; font-weight:400; margin-left:10px;">(5 Videos)</span>
                        </div>
                        <div class="zone-actions">
                            <button class="zone-action-btn" onclick="openModal('scriptEditorModal')"><span>📝</span> Edit Script</button>
                            <button class="zone-action-btn"><span>☐</span> Select All</button>
                            <button class="zone-action-btn"><span>🔄</span> Regenerate Zone</button>
                        </div>
                    </div>
                    <div class="video-grid">
                        <div class="video-result-card" style="background-image:url('https://images.unsplash.com/photo-1512413914633-b5043f4041ea?w=400');" onclick="openVideoPlayer('AI Avatar (Hook)', 'https://images.unsplash.com/photo-1512413914633-b5043f4041ea?w=400')">
                            <div class="play-overlay"><div class="play-icon">▶</div></div>
                            <div class="video-info">
                                <div class="video-label">AI Avatar (Hook)</div>
                                <div class="video-duration">0:15 • 1080x1920</div>
                            </div>
                        </div>
                        <div class="video-result-card" style="background-image:url('https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400');" onclick="openVideoPlayer('AI Avatar (Alt)', 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400')">
                            <div class="play-overlay"><div class="play-icon">▶</div></div>
                            <div class="video-info">
                                <div class="video-label">AI Avatar (Alt)</div>
                                <div class="video-duration">0:12 • 1080x1920</div>
                            </div>
                        </div>
                        <div class="video-result-card" style="background-image:url('https://images.unsplash.com/photo-1616401784845-180882ba9ba8?w=400');" onclick="openVideoPlayer('Product B-Roll 1', 'https://images.unsplash.com/photo-1616401784845-180882ba9ba8?w=400')">
                            <div class="play-overlay"><div class="play-icon">▶</div></div>
                            <div class="video-info">
                                <div class="video-label">Product B-Roll 1</div>
                                <div class="video-duration">0:08 • 1080x1920</div>
                            </div>
                        </div>
                        <div class="video-result-card" style="background-image:url('https://images.unsplash.com/photo-1556228552-523de509228a?w=400');" onclick="openVideoPlayer('Product B-Roll 2', 'https://images.unsplash.com/photo-1556228552-523de509228a?w=400')">
                            <div class="play-overlay"><div class="play-icon">▶</div></div>
                            <div class="video-info">
                                <div class="video-label">Product B-Roll 2</div>
                                <div class="video-duration">0:10 • 1080x1920</div>
                            </div>
                        </div>
                        <div class="video-result-card" style="background-image:url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=400');" onclick="openVideoPlayer('Kinetic Text', 'https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=400')">
                            <div class="play-overlay"><div class="play-icon">▶</div></div>
                            <div class="video-info">
                                <div class="video-label">Kinetic Text</div>
                                <div class="video-duration">0:06 • 1080x1920</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Bulk Action Bar -->
            <div class="results-bulk-bar" id="resultsBulkBar">
                <span class="results-bulk-count"><span id="resultsSelectedCount">0</span> Selected</span>
                <button class="results-bulk-btn" onclick="openModal('campaignModal')"><span>📁</span> Add to Campaign</button>
                <button class="results-bulk-btn" onclick="showToast('success', 'Downloaded', 'Assets saved to Gallery')"><span>⬇️</span> Download</button>
                <button class="results-bulk-btn" onclick="showToast('info', 'Copied', 'Assets copied to clipboard')"><span>📋</span> Copy All</button>
                <button class="results-bulk-btn" onclick="openModal('regenerateModal')"><span>🔄</span> Regenerate</button>
                <button style="background:transparent; border:none; color:rgba(255,255,255,0.6); font-size:18px; cursor:pointer; margin-left:10px;" onclick="clearResultSelection()">×</button>
            </div>
        </div>

        <div id="view-settings" class="view-section">
            <div class="header"><div class="page-title"><h1>Settings</h1></div></div>
            <div class="settings-layout">
                <div class="settings-nav">
                    <div class="set-link active" onclick="switchSetting('general', this)">👤 General</div>
                    <div class="set-link" onclick="switchSetting('billing', this)">💳 Billing</div>
                    <div class="set-link" onclick="switchSetting('team', this)">👥 Team</div>
                    <div class="set-link" onclick="switchSetting('integrations', this)">🔗 Integrations</div>
                    <div class="set-link" onclick="switchSetting('notifications', this)">🔔 Notifications</div>
                </div>
                <div class="settings-content">
                    <div id="set-general" class="settings-section active">
                        <div class="set-card">
                            <div class="set-title">Profile Identity</div>
                            <div class="profile-header">
                                <div class="large-avatar">
                                    CP
                                    <div class="edit-avatar-badge">✎</div>
                                </div>
                                <div>
                                    <h3 style="font-size:16px; margin-bottom:5px; color:white;">Christopher Pierre</h3>
                                    <p style="font-size:12px; color:#aaa;">Account Owner • Creator Plan</p>
                                </div>
                            </div>
                            <div class="input-row">
                                <div><label>First Name</label><input type="text" value="Christopher"></div>
                                <div><label>Last Name</label><input type="text" value="Pierre"></div>
                            </div>
                            <div class="form-group"><label>Email Address</label><input type="email" value="chris@example.com"></div>
                        </div>

                        <div class="set-card">
                            <div class="set-title">Security & Login</div>
                            <div class="input-row">
                                <div><label>New Password</label><input type="password" placeholder="********"></div>
                                <div><label>Confirm Password</label><input type="password" placeholder="********"></div>
                            </div>
                            <div style="display:flex; justify-content:space-between; align-items:center; padding-top:15px; border-top:1px solid rgba(255,255,255,0.1);">
                                <div>
                                    <div style="font-size:13px; font-weight:600; color:white;">Two-Factor Authentication</div>
                                    <div style="font-size:11px; color:#aaa;">Secure your account with 2FA.</div>
                                </div>
                                <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                            </div>
                            <button class="primary-btn" style="margin-top:20px; padding:8px 16px; font-size:12px;">Update Security</button>
                        </div>

                        <div class="set-card">
                            <div class="set-title">Preferences</div>
                            <div class="input-row">
                                <div><label>Timezone</label><select><option>(GMT-05:00) Eastern Time</option><option>(GMT-08:00) Pacific Time</option></select></div>
                                <div><label>Language</label><select><option>English (US)</option><option>Spanish</option><option>French</option></select></div>
                            </div>
                        </div>

                        <div class="set-card danger-zone">
                            <div class="set-title" style="color:var(--danger); border-color:rgba(255,71,87,0.3);">Danger Zone</div>
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <div style="font-size:12px; color:#ddd;">Permanently delete your account and all generated assets. This cannot be undone.</div>
                                <button class="danger-btn" onclick="openModal('deleteAccountModal')">Delete Account</button>
                            </div>
                        </div>
                    </div>
                    <div id="set-billing" class="settings-section">

                        <div class="billing-grid">
                            <div class="set-card" style="margin:0; padding:0; border:none; background:transparent;">
                                <div class="plan-card-inner">
                                    <div class="plan-header">
                                        <h3>Creator Plan</h3>
                                        <span>Active • Renews Dec 24, 2025</span>
                                    </div>
                                    <div class="plan-price">$49 <span>/ month</span></div>
                                    <div style="display:flex; gap:10px;">
                                        <button class="primary-btn" style="flex:1; font-size:12px;" onclick="openModal('upgradeModal')">Change Plan</button>
                                        <button class="primary-btn" style="flex:1; font-size:12px; background:transparent; border:1px solid rgba(255,255,255,0.3); color:white;">Cancel</button>
                                    </div>
                                </div>
                            </div>

                            <div class="set-card" style="margin:0;">
                                <div class="set-title" style="border:none; padding:0; margin-bottom:15px;">
                                    Credit Usage <span style="font-size:12px; color:var(--text-muted); font-weight:400;">Resets in 12 days</span>
                                </div>

                                <div class="usage-bar-container">
                                    <div class="usage-label"><span>Generation Credits</span><span>324 / 500</span></div>
                                    <div class="progress-track"><div class="progress-fill"></div></div>
                                </div>
                                <div class="usage-bar-container">
                                    <div class="usage-label"><span>Storage</span><span>4.2GB / 10GB</span></div>
                                    <div class="progress-track"><div class="progress-fill" style="width:42%; background:#2ecc71;"></div></div>
                                </div>
                                <button class="primary-btn" style="width:100%; font-size:12px; margin-top:10px; background:rgba(255,255,255,0.1); color:white; border:1px solid rgba(255,255,255,0.1);" onclick="openModal('creditModal')">+ Buy Add-ons</button>
                            </div>
                        </div>

                        <div class="set-card">
                            <div class="set-title">Payment Methods <span style="font-size:12px; color:var(--primary-cyan); cursor:pointer;">+ Add New</span></div>

                            <div class="payment-method-row">
                                <div class="card-details">
                                    <div class="card-icon">VISA</div>
                                    <div>
                                        <div style="font-size:13px; color:white; font-weight:600;">Visa ending in 4242 <span style="font-size:10px; background:#333; padding:2px 6px; border-radius:4px; margin-left:5px;">DEFAULT</span></div>
                                        <div style="font-size:11px; color:#aaa;">Expiry 12/2028</div>
                                    </div>
                                </div>
                                <div style="font-size:20px; cursor:pointer; color:#aaa;">⋮</div>
                            </div>
                        </div>

                        <div class="set-card">
                            <div class="set-title">Billing Details <span style="font-size:12px; color:var(--primary-cyan); cursor:pointer;">Edit</span></div>
                            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:20px;">
                                <div><label>Company Name</label><input type="text" value="Belle Beauty Inc." readonly></div>
                                <div><label>Tax ID (Optional)</label><input type="text" value="US-987654321" readonly></div>
                                <div style="grid-column: 1 / -1;"><label>Billing Address</label><input type="text" value="123 Creator Blvd, Miami, FL 33132" readonly></div>
                            </div>
                        </div>

                        <div class="set-card">
                            <div class="set-title">Invoice History</div>
                            <table class="invoice-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Invoice</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Nov 24, 2025</td>
                                        <td>$49.00</td>
                                        <td><span class="status-badge status-paid">Paid</span></td>
                                        <td><span class="download-icon">⬇ PDF</span></td>
                                    </tr>
                                    <tr>
                                        <td>Oct 24, 2025</td>
                                        <td>$49.00</td>
                                        <td><span class="status-badge status-paid">Paid</span></td>
                                        <td><span class="download-icon">⬇ PDF</span></td>
                                    </tr>
                                    <tr>
                                        <td>Sep 24, 2025</td>
                                        <td>$49.00</td>
                                        <td><span class="status-badge status-paid">Paid</span></td>
                                        <td><span class="download-icon">⬇ PDF</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>
                    <div id="set-team" class="settings-section">
                        <div class="set-card">
                            <div class="set-title">Active Team Members</div>
                            <div style="margin-bottom:20px; font-size:13px; color:#aaa;">
                                You are using <span style="color:var(--primary-cyan); font-weight:bold;">1 / 2 Seats</span>.
                            </div>

                            <div class="team-member-row">
                                <div class="member-info">
                                    <div class="member-avatar">CP</div>
                                    <div>
                                        <div style="font-size:14px; font-weight:600; color:white;">Christopher Pierre <span class="role-badge role-owner">OWNER</span></div>
                                        <div style="font-size:11px; color:#aaa;">chris@example.com • Last active: Now</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="invite-box">
                            <h3 style="font-size:16px; font-weight:600; margin-bottom:15px; display:flex; align-items:center; gap:10px;">
                                <span>➕</span> Invite Employee
                            </h3>

                            <div style="display:grid; grid-template-columns: 2fr 1fr; gap:20px; margin-bottom:20px;">
                                <div>
                                    <label>Email Address</label>
                                    <input type="email" placeholder="colleague@company.com">
                                </div>
                                <div>
                                    <label>Role Preset</label>
                                    <select onchange="updatePermissions(this.value)">
                                        <option value="editor">Editor (Recommended)</option>
                                        <option value="admin">Admin</option>
                                        <option value="viewer">Viewer (Read-Only)</option>
                                        <option value="custom">Custom...</option>
                                    </select>
                                </div>
                            </div>

                            <div style="background:rgba(0,0,0,0.3); padding:15px; border-radius:8px; border:1px solid #333;">
                                <div style="font-size:12px; color:var(--primary-cyan); margin-bottom:10px; font-weight:600;">ACCESS PERMISSIONS:</div>

                                <div class="permission-grid">
                                    <div class="perm-item">
                                        <span>Create & Edit Campaigns</span>
                                        <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="perm-item">
                                        <span>Download Gallery Assets</span>
                                        <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                    <div class="perm-item">
                                        <span>Modify Brand Kit (Logo/Colors)</span>
                                        <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    </div>
                                    <div class="perm-item">
                                        <span>Delete Assets</span>
                                        <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    </div>
                                    <div class="perm-item">
                                        <span>View Billing/Invoices</span>
                                        <label class="toggle-switch"><input type="checkbox" disabled><span class="slider" style="opacity:0.5;"></span></label>
                                    </div>
                                    <div class="perm-item">
                                        <span>Manage Integrations</span>
                                        <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    </div>
                                </div>
                            </div>

                            <button class="primary-btn" style="margin-top:20px; width:100%;" onclick="alert('Invitation Sent to Employee!')">Send Invitation</button>
                        </div>
                    </div>
                    <div id="set-integrations" class="settings-section">

                        <div class="int-category">🟢 Active Connections</div>

                        <div class="active-integration">
                            <div class="active-header">
                                <div class="active-brand">
                                    <img src="https://cdn.shopify.com/s/assets/external/favicon-96-1674641025.png">
                                    <div>
                                        <div style="font-size:14px; font-weight:700; color:white;">Shopify</div>
                                        <div style="font-size:11px; color:#ddd;">Connected to: <b>Belle Pure Beauty</b></div>
                                    </div>
                                </div>
                                <div style="display:flex; gap:10px;">
                                    <button class="primary-btn" style="font-size:11px; padding:6px 12px; background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.1);">↻ Re-Sync</button>
                                    <button class="primary-btn" style="font-size:11px; padding:6px 12px; background:rgba(255,71,87,0.1); color:var(--danger); border:1px solid var(--danger);" onclick="openModal('disconnectModal')">Disconnect</button>
                                </div>
                            </div>
                            <div class="sync-options">
                                <div class="sync-option">
                                    <span>Sync Inventory Levels</span>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                                <div class="sync-option">
                                    <span>Sync Product Prices</span>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                                <div class="sync-option">
                                    <span>Auto-Import New Products</span>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                </div>
                            </div>
                        </div>

                        <div class="int-category">🛍️ E-Commerce</div>
                        <div class="int-grid">
                            <div class="int-card">
                                <div style="display:flex; align-items:center; gap:10px;">
                                    <div class="int-logo" style="background:#000; color:white;">🎵</div>
                                    <div><h4>TikTok Shop</h4><p>Social Commerce</p></div>
                                </div>
                                <p>Sync products directly to your TikTok Shop seller account.</p>
                                <button class="connect-btn-small">Connect</button>
                            </div>
                        </div>

                        <div class="set-card" style="margin-top:30px;">
                            <div class="set-title">Developer Access</div>
                            <div style="display:flex; justify-content:space-between; align-items:center;">
                                <div>
                                    <div style="font-size:13px; font-weight:600; color:white;">API Key</div>
                                    <div style="font-size:11px; color:#aaa;">For custom integrations (Zapier, etc.)</div>
                                </div>
                                <div style="background:rgba(0,0,0,0.5); padding:8px 15px; border-radius:6px; font-family:monospace; font-size:12px; color:#ddd; border:1px solid #333;">
                                    sk_live_51M... <span style="margin-left:10px; cursor:pointer; color:var(--primary-cyan);">Copy</span>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div id="set-notifications" class="settings-section">

                        <!-- Notification Categories -->
                        <div class="set-card">
                            <div class="set-title">
                                <div>Notification Categories <div style="font-size:11px; color:#aaa; font-weight:400; margin-top:2px;">Choose which events you want to be notified about.</div></div>
                            </div>

                            <div style="display:flex; justify-content:space-between; margin-bottom:10px; padding-bottom:10px; border-bottom:1px solid rgba(255,255,255,0.1);">
                                <div style="font-size:11px; color:#666; font-weight:700;">EVENT TYPE</div>
                                <div style="display:flex; gap:20px;">
                                    <div style="font-size:11px; color:#666; font-weight:700; width:40px; text-align:center;">EMAIL</div>
                                    <div style="font-size:11px; color:#666; font-weight:700; width:40px; text-align:center;">PUSH</div>
                                    <div style="font-size:11px; color:#666; font-weight:700; width:40px; text-align:center;">IN-APP</div>
                                </div>
                            </div>

                            <!-- Generation Activity -->
                            <div class="notif-category">⚡ Generation Activity</div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Generation Completed</h4><p>When your AI-generated assets are ready to view and download.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Generation Failed</h4><p>If the AI encounters an error during content creation.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Queue Position Updates</h4><p>Updates on your position in the generation queue during peak times.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row" style="display:block;">
                                <div style="display:flex; justify-content:space-between; align-items:center;">
                                    <div class="notif-info"><h4>Low Credit Warning</h4><p>Alert when your credit balance drops below a threshold.</p></div>
                                    <div class="channel-toggles">
                                        <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                        <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                        <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                </div>
                                <div class="range-slider-container">
                                    <div style="display:flex; justify-content:space-between; font-size:11px; color:#aaa; margin-bottom:5px;">
                                        <span>Notify when credits fall below: <span id="creditVal" style="color:var(--primary-cyan); font-weight:600;">50</span> Credits</span>
                                    </div>
                                    <input type="range" min="10" max="200" value="50" oninput="document.getElementById('creditVal').innerText = this.value">
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Credits Depleted</h4><p>Immediate alert when you run out of generation credits.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>

                            <!-- Campaign Notifications -->
                            <div class="notif-category" style="margin-top:25px;">📁 Campaign Activity</div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Campaign Created</h4><p>Confirmation when a new campaign is successfully created.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Campaign Exported</h4><p>When campaign assets are exported or downloaded as a package.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Assets Added to Campaign</h4><p>When new assets are added to an existing campaign folder.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Campaign Shared With You</h4><p>When a team member shares a campaign with you.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>

                            <!-- Billing & Subscription -->
                            <div class="notif-category" style="margin-top:25px;">💳 Billing & Subscription</div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Invoice Ready</h4><p>When your monthly subscription receipt is available.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" disabled><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Payment Successful</h4><p>Confirmation when a payment is processed successfully.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Payment Failed</h4><p>Alert if a payment cannot be processed - action required.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row" style="display:block;">
                                <div style="display:flex; justify-content:space-between; align-items:center;">
                                    <div class="notif-info"><h4>Subscription Renewal Reminder</h4><p>Advance notice before your subscription renews.</p></div>
                                    <div class="channel-toggles">
                                        <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                        <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                        <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    </div>
                                </div>
                                <div style="margin-top:10px; margin-left:0;">
                                    <label style="font-size:11px; color:#aaa; display:block; margin-bottom:5px;">Remind me:</label>
                                    <select style="background:rgba(0,0,0,0.3); border:1px solid rgba(255,255,255,0.1); border-radius:6px; padding:8px 12px; color:white; font-size:12px;">
                                        <option>3 days before</option>
                                        <option selected>7 days before</option>
                                        <option>14 days before</option>
                                        <option>30 days before</option>
                                    </select>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Plan Changes</h4><p>Confirmation when your subscription plan is upgraded or changed.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>

                            <!-- Security -->
                            <div class="notif-category" style="margin-top:25px;">🔒 Security</div>
                            <div class="notif-row">
                                <div class="notif-info">
                                    <h4>New Device Login <span style="font-size:9px; background:var(--primary-cyan); color:black; padding:2px 6px; border-radius:4px; margin-left:8px;">REQUIRED</span></h4>
                                    <p>Security alert when your account is accessed from an unrecognized device.</p>
                                </div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked disabled><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked disabled><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked disabled><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info">
                                    <h4>Password Changed <span style="font-size:9px; background:var(--primary-cyan); color:black; padding:2px 6px; border-radius:4px; margin-left:8px;">REQUIRED</span></h4>
                                    <p>Confirmation when your password is updated.</p>
                                </div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked disabled><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked disabled><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked disabled><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Two-Factor Authentication</h4><p>Updates related to 2FA settings and backup codes.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Suspicious Activity</h4><p>Alert for unusual account activity or potential security threats.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>

                            <!-- Team Activity -->
                            <div class="notif-category" style="margin-top:25px;">👥 Team Activity</div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Team Member Joined</h4><p>When a new member joins your workspace.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Team Member Removed</h4><p>When a member leaves or is removed from your workspace.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Assets Shared With You</h4><p>When a team member shares specific assets with you.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Comments on Your Content</h4><p>When someone comments on assets you created.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>@Mentions</h4><p>When you're mentioned in a comment or note.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>

                            <!-- Product Updates -->
                            <div class="notif-category" style="margin-top:25px;">📣 Product Updates</div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>New Features Announced</h4><p>Be the first to know about new SoloGenix features and capabilities.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Tips & Best Practices</h4><p>Helpful tips to get the most out of your AI-generated content.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Platform Maintenance</h4><p>Scheduled downtime and maintenance windows.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Weekly Performance Summary</h4><p>Weekly recap of your generation activity and content performance.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                </div>
                            </div>

                            <!-- Marketing -->
                            <div class="notif-category" style="margin-top:25px;">🎁 Marketing & Offers</div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Promotional Offers</h4><p>Special discounts, credit bonuses, and limited-time deals.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Newsletter</h4><p>Monthly newsletter with industry trends and success stories.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox" checked><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" disabled><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" disabled><span class="slider"></span></label>
                                </div>
                            </div>
                            <div class="notif-row">
                                <div class="notif-info"><h4>Partner Offers</h4><p>Exclusive deals from our trusted partners and integrations.</p></div>
                                <div class="channel-toggles">
                                    <label class="toggle-switch"><input type="checkbox"><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" disabled><span class="slider"></span></label>
                                    <label class="toggle-switch"><input type="checkbox" disabled><span class="slider"></span></label>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="set-card" style="background:rgba(188,19,254,0.05); border-color:rgba(188,19,254,0.2);">
                            <div class="set-title" style="border:none; padding-bottom:0;">
                                <div>Quick Actions</div>
                            </div>
                            <div style="display:flex; gap:15px; flex-wrap:wrap; margin-top:15px;">
                                <button class="primary-btn" style="background:transparent; border:1px solid rgba(255,255,255,0.2); color:white; font-size:12px;" onclick="toggleAllNotifications(true)">
                                    <span>✅</span> Enable All
                                </button>
                                <button class="primary-btn" style="background:transparent; border:1px solid rgba(255,255,255,0.2); color:white; font-size:12px;" onclick="toggleAllNotifications(false)">
                                    <span>🔕</span> Disable All Non-Essential
                                </button>
                                <button class="primary-btn" style="background:transparent; border:1px solid rgba(255,255,255,0.2); color:white; font-size:12px;" onclick="resetNotificationDefaults()">
                                    <span>↺</span> Reset to Defaults
                                </button>
                                <button class="primary-btn" style="background:transparent; border:1px solid rgba(255,255,255,0.2); color:white; font-size:12px;" onclick="testNotification()">
                                    <span>🔔</span> Send Test Notification
                                </button>
                            </div>
                        </div>

                        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:20px;">
                            <p style="font-size:11px; color:#666;">Last updated: December 21, 2024 at 2:34 PM</p>
                            <button class="primary-btn" onclick="saveNotificationPreferences()">Save Preferences</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- Avatar Studio Page -->
        <div id="view-avatars" class="view-section">
            <div class="header">
                <div class="page-title">
                    <h1>Avatar Studio</h1>
                    <p>Choose or create AI avatars for your video content</p>
                </div>
                <button class="create-avatar-btn" onclick="showToast('info', 'Coming Soon', 'Custom avatar upload coming soon')">
                    <span style="font-size:16px;">✨</span> Create Custom Avatar
                </button>
            </div>

            <div class="avatar-tabs">
                <div class="avatar-tab active" onclick="switchAvatarTab('all', this)">All Avatars</div>
                <div class="avatar-tab" onclick="switchAvatarTab('favorites', this)">My Favorites</div>
                <div class="avatar-tab" onclick="switchAvatarTab('uploads', this)">My Uploads</div>
                <div class="avatar-tab" onclick="switchAvatarTab('recent', this)">Recently Used</div>
            </div>

            <div class="avatar-filters">
                <div class="avatar-filter-group">
                    <span class="avatar-filter-label">Gender:</span>
                    <select class="avatar-filter-select">
                        <option>All</option>
                        <option>Female</option>
                        <option>Male</option>
                        <option>Non-Binary</option>
                    </select>
                </div>
                <div class="avatar-filter-group">
                    <span class="avatar-filter-label">Ethnicity:</span>
                    <select class="avatar-filter-select">
                        <option>All</option>
                        <option>Black / African American</option>
                        <option>East Asian</option>
                        <option>Hispanic / Latino</option>
                        <option>Middle Eastern</option>
                        <option>South Asian</option>
                        <option>White / Caucasian</option>
                        <option>Multi-racial</option>
                    </select>
                </div>
                <div class="avatar-filter-group">
                    <span class="avatar-filter-label">Age:</span>
                    <select class="avatar-filter-select">
                        <option>All Ages</option>
                        <option>18-25</option>
                        <option>26-35</option>
                        <option>36-45</option>
                        <option>46+</option>
                    </select>
                </div>
                <div class="avatar-filter-group">
                    <span class="avatar-filter-label">Style:</span>
                    <select class="avatar-filter-select">
                        <option>All Styles</option>
                        <option>Professional</option>
                        <option>Casual</option>
                        <option>Influencer</option>
                        <option>Corporate</option>
                    </select>
                </div>
                <input type="text" class="avatar-search" placeholder="Search avatars...">
            </div>

            <div class="avatar-grid">
                <!-- Upload Card -->
                <div class="upload-avatar-card" onclick="showToast('info', 'Coming Soon', 'Custom avatar upload coming soon')">
                    <div class="upload-icon">☁️</div>
                    <div class="upload-text">Upload Your Own</div>
                    <div class="upload-subtext">JPG, PNG or MP4</div>
                </div>

                <!-- Avatar Cards -->
                <div class="avatar-card favorited">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">★</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action" onclick="showToast('info', 'Preview', 'Playing avatar preview...')">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('Maya')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">Maya</div>
                        <div class="avatar-meta"><span>Female</span><span>•</span><span>25-30</span><span>•</span><span>Influencer</span></div>
                    </div>
                </div>

                <div class="avatar-card">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">☆</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('Marcus')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">Marcus</div>
                        <div class="avatar-meta"><span>Male</span><span>•</span><span>30-35</span><span>•</span><span>Professional</span></div>
                    </div>
                </div>

                <div class="avatar-card">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">☆</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('Sofia')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">Sofia</div>
                        <div class="avatar-meta"><span>Female</span><span>•</span><span>26-30</span><span>•</span><span>Casual</span></div>
                    </div>
                </div>

                <div class="avatar-card">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">☆</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('James')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">James</div>
                        <div class="avatar-meta"><span>Male</span><span>•</span><span>35-40</span><span>•</span><span>Corporate</span></div>
                    </div>
                </div>

                <div class="avatar-card favorited">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">★</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('Aisha')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">Aisha</div>
                        <div class="avatar-meta"><span>Female</span><span>•</span><span>22-26</span><span>•</span><span>Influencer</span></div>
                    </div>
                </div>

                <div class="avatar-card">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">☆</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('David')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">David</div>
                        <div class="avatar-meta"><span>Male</span><span>•</span><span>28-32</span><span>•</span><span>Casual</span></div>
                    </div>
                </div>

                <div class="avatar-card">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">☆</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('Emma')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">Emma</div>
                        <div class="avatar-meta"><span>Female</span><span>•</span><span>24-28</span><span>•</span><span>Professional</span></div>
                    </div>
                </div>

                <div class="avatar-card">
                    <div class="avatar-preview">
                        <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400" class="avatar-image">
                        <div class="avatar-animated-badge">Animated</div>
                        <button class="favorite-btn" onclick="event.stopPropagation(); toggleAvatarFavorite(this)">☆</button>
                        <div class="avatar-hover-actions">
                            <button class="avatar-action">Preview</button>
                            <button class="avatar-action primary" onclick="selectAvatar('Chris')">Select</button>
                        </div>
                    </div>
                    <div class="avatar-info">
                        <div class="avatar-name">Chris</div>
                        <div class="avatar-meta"><span>Male</span><span>•</span><span>26-30</span><span>•</span><span>Influencer</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============ ANALYTICS PAGE ============ -->
        <div id="view-analytics" class="view-section">
            <div class="header">
                <div class="page-title">
                    <h1>Analytics Dashboard</h1>
                    <p>Track your content performance and usage</p>
                </div>
                <div class="date-range-picker">
                    <span>Date Range:</span>
                    <select id="analyticsDateRange" onchange="updateAnalyticsRange()">
                        <option>This Month</option>
                        <option>Last 7 Days</option>
                        <option>Last 30 Days</option>
                        <option>Last 90 Days</option>
                        <option>This Year</option>
                    </select>
                </div>
            </div>

            <div class="analytics-page">
                <!-- Stats Row -->
                <div class="analytics-stats-row">
                    <div class="analytics-stat-card">
                        <div class="stat-icon purple">🎨</div>
                        <div class="stat-value">847</div>
                        <div class="stat-label">Total Assets Generated</div>
                        <div class="stat-trend up"><span>↑</span> 23% vs last month</div>
                    </div>
                    <div class="analytics-stat-card green">
                        <div class="stat-icon green">💳</div>
                        <div class="stat-value">324</div>
                        <div class="stat-label">Credits Used This Month</div>
                        <div class="stat-trend"><span style="color:var(--text-muted);">176 remaining</span></div>
                    </div>
                    <div class="analytics-stat-card gold">
                        <div class="stat-icon gold">⬇️</div>
                        <div class="stat-value">412</div>
                        <div class="stat-label">Total Downloads</div>
                        <div class="stat-trend up"><span>↑</span> 18% vs last month</div>
                    </div>
                    <div class="analytics-stat-card pink">
                        <div class="stat-icon pink">📁</div>
                        <div class="stat-value">23</div>
                        <div class="stat-label">Active Campaigns</div>
                        <div class="stat-trend up"><span>↑</span> 5 new this month</div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="analytics-charts-row">
                    <div class="analytics-chart-card">
                        <div class="chart-header">
                            <h3>Generation Activity</h3>
                            <div class="chart-tabs">
                                <button class="chart-tab active" onclick="switchChartTab('daily', this)">Daily</button>
                                <button class="chart-tab" onclick="switchChartTab('weekly', this)">Weekly</button>
                                <button class="chart-tab" onclick="switchChartTab('monthly', this)">Monthly</button>
                            </div>
                        </div>
                        <div class="chart-area">
                            <div class="chart-bar" style="height: 45%;"></div>
                            <div class="chart-bar" style="height: 65%;"></div>
                            <div class="chart-bar" style="height: 40%;"></div>
                            <div class="chart-bar" style="height: 85%;"></div>
                            <div class="chart-bar" style="height: 70%;"></div>
                            <div class="chart-bar" style="height: 55%;"></div>
                            <div class="chart-bar" style="height: 90%;"></div>
                            <div class="chart-bar" style="height: 75%;"></div>
                            <div class="chart-bar" style="height: 60%;"></div>
                            <div class="chart-bar" style="height: 80%;"></div>
                            <div class="chart-bar" style="height: 50%;"></div>
                            <div class="chart-bar" style="height: 95%;"></div>
                        </div>
                        <div class="chart-labels">
                            <span>Dec 1</span><span>Dec 5</span><span>Dec 10</span><span>Dec 15</span><span>Dec 20</span>
                        </div>
                    </div>

                    <div class="analytics-chart-card">
                        <div class="chart-header"><h3>Zone Performance</h3></div>
                        <div class="zone-performance">
                            <div class="zone-perf-item">
                                <div class="zone-perf-icon hook">🛑</div>
                                <div class="zone-perf-info">
                                    <div class="zone-perf-name">Hooks</div>
                                    <div class="zone-bar-track"><div class="zone-bar-fill hook" style="width: 85%;"></div></div>
                                </div>
                                <div class="zone-perf-stat"><div class="zone-perf-count">312</div><div class="zone-perf-percent">37%</div></div>
                            </div>
                            <div class="zone-perf-item">
                                <div class="zone-perf-icon offer">💰</div>
                                <div class="zone-perf-info">
                                    <div class="zone-perf-name">Offers</div>
                                    <div class="zone-bar-track"><div class="zone-bar-fill offer" style="width: 65%;"></div></div>
                                </div>
                                <div class="zone-perf-stat"><div class="zone-perf-count">238</div><div class="zone-perf-percent">28%</div></div>
                            </div>
                            <div class="zone-perf-item">
                                <div class="zone-perf-icon edu">📚</div>
                                <div class="zone-perf-info">
                                    <div class="zone-perf-name">Educational</div>
                                    <div class="zone-bar-track"><div class="zone-bar-fill edu" style="width: 45%;"></div></div>
                                </div>
                                <div class="zone-perf-stat"><div class="zone-perf-count">165</div><div class="zone-perf-percent">19%</div></div>
                            </div>
                            <div class="zone-perf-item">
                                <div class="zone-perf-icon video">🎥</div>
                                <div class="zone-perf-info">
                                    <div class="zone-perf-name">Videos</div>
                                    <div class="zone-bar-track"><div class="zone-bar-fill video" style="width: 35%;"></div></div>
                                </div>
                                <div class="zone-perf-stat"><div class="zone-perf-count">132</div><div class="zone-perf-percent">16%</div></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom Row -->
                <div class="analytics-bottom-row">
                    <div class="analytics-chart-card">
                        <div class="chart-header"><h3>Download & Export Trends</h3></div>
                        <div class="export-trends">
                            <div class="export-item">
                                <div class="export-item-left"><div class="export-icon">📥</div><div class="export-name">Direct Downloads</div></div>
                                <div class="export-count">287</div>
                            </div>
                            <div class="export-item">
                                <div class="export-item-left"><div class="export-icon">📁</div><div class="export-name">Saved to Campaigns</div></div>
                                <div class="export-count">156</div>
                            </div>
                            <div class="export-item">
                                <div class="export-item-left"><div class="export-icon">🔗</div><div class="export-name">Shared Links</div></div>
                                <div class="export-count">89</div>
                            </div>
                            <div class="export-item">
                                <div class="export-item-left"><div class="export-icon">📤</div><div class="export-name">Exported to Shopify</div></div>
                                <div class="export-count">45</div>
                            </div>
                        </div>
                    </div>

                    <div class="analytics-chart-card">
                        <div class="chart-header"><h3>Credits Usage</h3></div>
                        <div class="credits-visual">
                            <div class="credits-circle">
                                <div class="credits-circle-inner">
                                    <div class="credits-used">324</div>
                                    <div class="credits-total">of 500 used</div>
                                </div>
                            </div>
                            <div class="credits-legend">
                                <div class="legend-item"><div class="legend-dot used"></div><span>Used (65%)</span></div>
                                <div class="legend-item"><div class="legend-dot remaining"></div><span>Remaining (35%)</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============ TEMPLATES LIBRARY PAGE ============ -->
        <div id="view-templates" class="view-section">
            <div class="header">
                <div class="page-title">
                    <h1>Templates Library</h1>
                    <p>Pre-built templates for every occasion</p>
                </div>
                <div class="templates-search">
                    <input type="text" class="search-input-large" placeholder="Search templates..." oninput="searchTemplates(this.value)">
                    <select class="filter-dropdown" onchange="filterTemplatesByZone(this.value)">
                        <option value="all">All Zones</option>
                        <option value="hooks">Hooks Only</option>
                        <option value="offers">Offers Only</option>
                        <option value="educational">Educational</option>
                        <option value="videos">Videos</option>
                    </select>
                </div>
            </div>

            <div class="templates-page">
                <div class="category-tabs">
                    <div class="category-tab active" onclick="filterTemplateCategory('all', this)">All Templates <span class="category-count">48</span></div>
                    <div class="category-tab" onclick="filterTemplateCategory('christmas', this)">🎄 Christmas <span class="category-count">8</span></div>
                    <div class="category-tab" onclick="filterTemplateCategory('blackfriday', this)">🖤 Black Friday <span class="category-count">12</span></div>
                    <div class="category-tab" onclick="filterTemplateCategory('valentines', this)">💝 Valentine's Day <span class="category-count">6</span></div>
                    <div class="category-tab" onclick="filterTemplateCategory('mothersday', this)">💐 Mother's Day <span class="category-count">5</span></div>
                    <div class="category-tab" onclick="filterTemplateCategory('bhm', this)">✊ Black History Month <span class="category-count">4</span></div>
                    <div class="category-tab" onclick="filterTemplateCategory('spring', this)">🌸 Spring Sale <span class="category-count">7</span></div>
                    <div class="category-tab" onclick="filterTemplateCategory('summer', this)">☀️ Summer <span class="category-count">6</span></div>
                </div>

                <div class="templates-grid">
                    <div class="template-card" data-category="christmas">
                        <div class="template-preview">
                            <img src="https://images.unsplash.com/photo-1512389142860-9c449e58a814?w=400" alt="Christmas Template">
                            <div class="template-badge holiday">Holiday</div>
                            <div class="template-hover-overlay">
                                <button class="template-action-btn primary" onclick="useTemplate('Christmas Glow Sale')">Use Template</button>
                                <button class="template-action-btn secondary" onclick="previewTemplate('Christmas Glow Sale')">Preview</button>
                            </div>
                        </div>
                        <div class="template-info">
                            <div class="template-name">Christmas Glow Sale</div>
                            <div class="template-meta">
                                <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot offer"></div><div class="template-zone-dot edu"></div></div>
                                <span>12 assets</span>
                            </div>
                        </div>
                    </div>

                    <div class="template-card" data-category="blackfriday">
                        <div class="template-preview">
                            <img src="https://images.unsplash.com/photo-1607083206869-4c7672e72a8a?w=400" alt="Black Friday Template">
                            <div class="template-badge trending">Trending</div>
                            <div class="template-hover-overlay">
                                <button class="template-action-btn primary" onclick="useTemplate('Black Friday Blowout')">Use Template</button>
                                <button class="template-action-btn secondary" onclick="previewTemplate('Black Friday Blowout')">Preview</button>
                            </div>
                        </div>
                        <div class="template-info">
                            <div class="template-name">Black Friday Blowout</div>
                            <div class="template-meta">
                                <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot offer"></div><div class="template-zone-dot video"></div></div>
                                <span>18 assets</span>
                            </div>
                        </div>
                    </div>

                    <div class="template-card" data-category="valentines">
                        <div class="template-preview">
                            <img src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?w=400" alt="Valentine's Template">
                            <div class="template-badge holiday">Holiday</div>
                            <div class="template-hover-overlay">
                                <button class="template-action-btn primary" onclick="useTemplate('Valentine Love Sale')">Use Template</button>
                                <button class="template-action-btn secondary" onclick="previewTemplate('Valentine Love Sale')">Preview</button>
                            </div>
                        </div>
                        <div class="template-info">
                            <div class="template-name">Valentine's Love Sale</div>
                            <div class="template-meta">
                                <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot offer"></div></div>
                                <span>8 assets</span>
                            </div>
                        </div>
                    </div>

                    <div class="template-card" data-category="mothersday">
                        <div class="template-preview">
                            <img src="https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=400" alt="Mother's Day Template">
                            <div class="template-badge seasonal">Seasonal</div>
                            <div class="template-hover-overlay">
                                <button class="template-action-btn primary" onclick="useTemplate('Mothers Day Special')">Use Template</button>
                                <button class="template-action-btn secondary" onclick="previewTemplate('Mothers Day Special')">Preview</button>
                            </div>
                        </div>
                        <div class="template-info">
                            <div class="template-name">Mother's Day Special</div>
                            <div class="template-meta">
                                <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot edu"></div></div>
                                <span>10 assets</span>
                            </div>
                        </div>
                    </div>

                    <div class="template-card" data-category="bhm">
                        <div class="template-preview">
                            <img src="https://images.unsplash.com/photo-1594734699592-5d75b3e0f8ba?w=400" alt="Black History Template">
                            <div class="template-badge seasonal">Seasonal</div>
                            <div class="template-hover-overlay">
                                <button class="template-action-btn primary" onclick="useTemplate('BHM Celebration')">Use Template</button>
                                <button class="template-action-btn secondary" onclick="previewTemplate('BHM Celebration')">Preview</button>
                            </div>
                        </div>
                        <div class="template-info">
                            <div class="template-name">Black History Celebration</div>
                            <div class="template-meta">
                                <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot edu"></div><div class="template-zone-dot video"></div></div>
                                <span>14 assets</span>
                            </div>
                        </div>
                    </div>

                    <div class="template-card" data-category="flash">
                        <div class="template-preview">
                            <img src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=400" alt="Flash Sale Template">
                            <div class="template-badge trending">Trending</div>
                            <div class="template-hover-overlay">
                                <button class="template-action-btn primary" onclick="useTemplate('24-Hour Flash Sale')">Use Template</button>
                                <button class="template-action-btn secondary" onclick="previewTemplate('24-Hour Flash Sale')">Preview</button>
                            </div>
                        </div>
                        <div class="template-info">
                            <div class="template-name">24-Hour Flash Sale</div>
                            <div class="template-meta">
                                <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot offer"></div></div>
                                <span>6 assets</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Templates Section -->
                <div class="my-templates-section">
                    <div class="section-header">
                        <h2><span>⭐</span> My Saved Templates</h2>
                        <button class="add-template-btn" onclick="saveCurrentAsTemplate()">+ Save Current as Template</button>
                    </div>
                    <div class="templates-grid">
                        <div class="template-card" data-category="custom">
                            <div class="template-preview">
                                <img src="https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?w=400" alt="Custom Template">
                                <div class="template-badge custom">Custom</div>
                                <div class="template-hover-overlay">
                                    <button class="template-action-btn primary" onclick="useTemplate('My Shea Butter Campaign')">Use Template</button>
                                    <button class="template-action-btn secondary" onclick="editTemplate('My Shea Butter Campaign')">Edit</button>
                                </div>
                            </div>
                            <div class="template-info">
                                <div class="template-name">My Shea Butter Campaign</div>
                                <div class="template-meta">
                                    <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot offer"></div><div class="template-zone-dot edu"></div><div class="template-zone-dot video"></div></div>
                                    <span>Created Dec 15</span>
                                </div>
                            </div>
                        </div>

                        <div class="template-card" data-category="custom">
                            <div class="template-preview">
                                <img src="https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400" alt="Custom Template">
                                <div class="template-badge custom">Custom</div>
                                <div class="template-hover-overlay">
                                    <button class="template-action-btn primary" onclick="useTemplate('Summer Skincare Launch')">Use Template</button>
                                    <button class="template-action-btn secondary" onclick="editTemplate('Summer Skincare Launch')">Edit</button>
                                </div>
                            </div>
                            <div class="template-info">
                                <div class="template-name">Summer Skincare Launch</div>
                                <div class="template-meta">
                                    <div class="template-zones"><div class="template-zone-dot hook"></div><div class="template-zone-dot offer"></div></div>
                                    <span>Created Nov 28</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============ HISTORY/ACTIVITY PAGE ============ -->
        <div id="view-history" class="view-section">
            <div class="header">
                <div class="page-title">
                    <h1>Generation History</h1>
                    <p>Complete timeline of all your content generations</p>
                </div>
                <button class="export-csv-btn" onclick="exportHistoryCSV()"><span>📊</span> Export as CSV</button>
            </div>

            <div class="history-page">
                <div class="history-filters">
                    <button class="filter-btn active" onclick="setHistoryFilter('all', this)"><span>📅</span> All Time</button>
                    <button class="filter-btn" onclick="setHistoryFilter('today', this)"><span>📅</span> Today</button>
                    <button class="filter-btn" onclick="setHistoryFilter('week', this)"><span>📅</span> This Week</button>
                    <button class="filter-btn" onclick="setHistoryFilter('month', this)"><span>📅</span> This Month</button>

                    <!-- Calendar Date Picker -->
                    <div class="calendar-picker-container">
                        <button class="calendar-picker-btn" onclick="toggleCalendar('historyCalendar')">
                            <span>📆</span> <span id="historyDateLabel">Pick Date</span>
                        </button>
                        <div class="calendar-dropdown" id="historyCalendar">
                            <div class="calendar-header">
                                <button class="calendar-nav-btn" onclick="changeCalendarMonth(-1, 'history')">←</button>
                                <span class="calendar-month-year" id="historyCalendarTitle">December 2024</span>
                                <button class="calendar-nav-btn" onclick="changeCalendarMonth(1, 'history')">→</button>
                            </div>
                            <div class="calendar-weekdays">
                                <div class="calendar-weekday">Su</div>
                                <div class="calendar-weekday">Mo</div>
                                <div class="calendar-weekday">Tu</div>
                                <div class="calendar-weekday">We</div>
                                <div class="calendar-weekday">Th</div>
                                <div class="calendar-weekday">Fr</div>
                                <div class="calendar-weekday">Sa</div>
                            </div>
                            <div class="calendar-days" id="historyCalendarDays"></div>
                            <div class="calendar-presets">
                                <button class="calendar-preset" onclick="selectCalendarPreset('today', 'history')">Today</button>
                                <button class="calendar-preset" onclick="selectCalendarPreset('yesterday', 'history')">Yesterday</button>
                                <button class="calendar-preset" onclick="selectCalendarPreset('week', 'history')">This Week</button>
                                <button class="calendar-preset" onclick="selectCalendarPreset('month', 'history')">This Month</button>
                            </div>
                            <div class="calendar-actions">
                                <button class="calendar-clear-btn" onclick="clearCalendarSelection('history')">Clear</button>
                                <button class="calendar-apply-btn" onclick="applyCalendarSelection('history')">Apply</button>
                            </div>
                        </div>
                    </div>

                    <select class="filter-dropdown" style="margin-left:auto;" onchange="filterHistoryByProduct(this.value)">
                        <option value="all">All Products</option>
                        <option value="shea">Raw Shea Butter</option>
                        <option value="serum">Organic Serum</option>
                        <option value="vitamin">Vitamin C Cream</option>
                    </select>
                    <select class="filter-dropdown" onchange="filterHistoryByType(this.value)">
                        <option value="all">All Types</option>
                        <option value="images">Images Only</option>
                        <option value="videos">Videos Only</option>
                    </select>
                </div>

                <div class="history-stats">
                    <div class="history-stat-card">
                        <div class="history-stat-value">1,247</div>
                        <div class="history-stat-label">Total Generations</div>
                    </div>
                    <div class="history-stat-card">
                        <div class="history-stat-value">892</div>
                        <div class="history-stat-label">Images Created</div>
                    </div>
                    <div class="history-stat-card">
                        <div class="history-stat-value">355</div>
                        <div class="history-stat-label">Videos Created</div>
                    </div>
                    <div class="history-stat-card">
                        <div class="history-stat-value">23</div>
                        <div class="history-stat-label">Deleted Items</div>
                    </div>
                </div>

                <div class="timeline-container">
                    <div class="timeline-header">
                        <h3>Activity Timeline</h3>
                        <div class="timeline-view-toggle">
                            <button class="view-btn active" onclick="switchTimelineView('timeline', this)">Timeline</button>
                            <button class="view-btn" onclick="switchTimelineView('grid', this)">Grid</button>
                            <button class="view-btn" onclick="switchTimelineView('table', this)">Table</button>
                        </div>
                    </div>

                    <div class="timeline-content">
                        <!-- Today -->
                        <div class="timeline-date-group">
                            <div class="timeline-date">Today - December 21, 2024</div>

                            <div class="timeline-item">
                                <div class="timeline-thumb"><img src="https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?w=100" alt=""></div>
                                <div class="timeline-info">
                                    <div class="timeline-title">Raw Shea Butter Campaign <span class="status-badge completed">Completed</span></div>
                                    <div class="timeline-details">
                                        <div class="timeline-detail"><span>🎨</span> 14 assets</div>
                                        <div class="timeline-detail"><span>🛑</span> 3 Hooks</div>
                                        <div class="timeline-detail"><span>💰</span> 3 Offers</div>
                                        <div class="timeline-detail"><span>📚</span> 3 Edu</div>
                                        <div class="timeline-detail"><span>🎥</span> 5 Videos</div>
                                    </div>
                                </div>
                                <div class="timeline-actions">
                                    <button class="timeline-action" onclick="regenerateFromHistory('Raw Shea Butter Campaign')">Regenerate</button>
                                    <button class="timeline-action" onclick="viewHistoryItem('Raw Shea Butter Campaign')">View</button>
                                </div>
                                <div class="timeline-time">2:34 PM</div>
                            </div>

                            <div class="timeline-item">
                                <div class="timeline-thumb"><img src="https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=100" alt=""></div>
                                <div class="timeline-info">
                                    <div class="timeline-title">Vitamin C Serum Launch <span class="status-badge completed">Completed</span></div>
                                    <div class="timeline-details">
                                        <div class="timeline-detail"><span>🎨</span> 8 assets</div>
                                        <div class="timeline-detail"><span>🛑</span> 2 Hooks</div>
                                        <div class="timeline-detail"><span>💰</span> 2 Offers</div>
                                        <div class="timeline-detail"><span>🎥</span> 4 Videos</div>
                                    </div>
                                </div>
                                <div class="timeline-actions">
                                    <button class="timeline-action" onclick="regenerateFromHistory('Vitamin C Serum Launch')">Regenerate</button>
                                    <button class="timeline-action" onclick="viewHistoryItem('Vitamin C Serum Launch')">View</button>
                                </div>
                                <div class="timeline-time">10:15 AM</div>
                            </div>
                        </div>

                        <!-- Yesterday -->
                        <div class="timeline-date-group">
                            <div class="timeline-date">Yesterday - December 20, 2024</div>

                            <div class="timeline-item">
                                <div class="timeline-thumb"><img src="https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=100" alt=""></div>
                                <div class="timeline-info">
                                    <div class="timeline-title">Holiday Gift Set Promo <span class="status-badge completed">Completed</span></div>
                                    <div class="timeline-details">
                                        <div class="timeline-detail"><span>🎨</span> 12 assets</div>
                                        <div class="timeline-detail"><span>🛑</span> 4 Hooks</div>
                                        <div class="timeline-detail"><span>💰</span> 4 Offers</div>
                                        <div class="timeline-detail"><span>📚</span> 4 Edu</div>
                                    </div>
                                </div>
                                <div class="timeline-actions">
                                    <button class="timeline-action" onclick="regenerateFromHistory('Holiday Gift Set Promo')">Regenerate</button>
                                    <button class="timeline-action" onclick="viewHistoryItem('Holiday Gift Set Promo')">View</button>
                                </div>
                                <div class="timeline-time">4:22 PM</div>
                            </div>

                            <div class="timeline-item">
                                <div class="timeline-thumb"><img src="https://images.unsplash.com/photo-1571781565036-d3f7595ca3f7?w=100" alt=""></div>
                                <div class="timeline-info">
                                    <div class="timeline-title">Organic Body Butter <span class="status-badge completed">Completed</span></div>
                                    <div class="timeline-details">
                                        <div class="timeline-detail"><span>🎨</span> 6 assets</div>
                                        <div class="timeline-detail"><span>🛑</span> 2 Hooks</div>
                                        <div class="timeline-detail"><span>💰</span> 2 Offers</div>
                                        <div class="timeline-detail"><span>🎥</span> 2 Videos</div>
                                    </div>
                                </div>
                                <div class="timeline-actions">
                                    <button class="timeline-action" onclick="regenerateFromHistory('Organic Body Butter')">Regenerate</button>
                                    <button class="timeline-action" onclick="viewHistoryItem('Organic Body Butter')">View</button>
                                </div>
                                <div class="timeline-time">11:45 AM</div>
                            </div>
                        </div>

                        <!-- Older -->
                        <div class="timeline-date-group">
                            <div class="timeline-date">December 18, 2024</div>

                            <div class="timeline-item">
                                <div class="timeline-thumb"><img src="https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?w=100" alt=""></div>
                                <div class="timeline-info">
                                    <div class="timeline-title">Winter Skincare Bundle <span class="status-badge completed">Completed</span></div>
                                    <div class="timeline-details">
                                        <div class="timeline-detail"><span>🎨</span> 10 assets</div>
                                        <div class="timeline-detail"><span>🛑</span> 3 Hooks</div>
                                        <div class="timeline-detail"><span>💰</span> 3 Offers</div>
                                        <div class="timeline-detail"><span>📚</span> 2 Edu</div>
                                        <div class="timeline-detail"><span>🎥</span> 2 Videos</div>
                                    </div>
                                </div>
                                <div class="timeline-actions">
                                    <button class="timeline-action" onclick="regenerateFromHistory('Winter Skincare Bundle')">Regenerate</button>
                                    <button class="timeline-action" onclick="viewHistoryItem('Winter Skincare Bundle')">View</button>
                                </div>
                                <div class="timeline-time">3:18 PM</div>
                            </div>
                        </div>
                    </div>

                    <!-- Deleted Section -->
                    <div class="deleted-section">
                        <div class="deleted-header">
                            <h4><span>🗑️</span> Recently Deleted (23 items)</h4>
                            <button class="empty-trash-btn" onclick="emptyTrash()">Empty Trash</button>
                        </div>

                        <div class="timeline-item deleted">
                            <div class="timeline-thumb"><img src="https://images.unsplash.com/photo-1556228720-1957be83f315?w=100" alt=""></div>
                            <div class="timeline-info">
                                <div class="timeline-title">Test Campaign <span class="status-badge deleted">Deleted</span></div>
                                <div class="timeline-details">
                                    <div class="timeline-detail"><span>🎨</span> 4 assets</div>
                                    <div class="timeline-detail"><span>🗓️</span> Deleted Dec 19</div>
                                    <div class="timeline-detail"><span>⏰</span> Expires in 27 days</div>
                                </div>
                            </div>
                            <div class="timeline-actions">
                                <button class="timeline-action restore" onclick="restoreDeletedItem('Test Campaign')">Restore</button>
                                <button class="timeline-action" onclick="permanentlyDelete('Test Campaign')">Delete Forever</button>
                            </div>
                        </div>

                        <div class="timeline-item deleted">
                            <div class="timeline-thumb"><img src="https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=100" alt=""></div>
                            <div class="timeline-info">
                                <div class="timeline-title">Draft - Unused <span class="status-badge deleted">Deleted</span></div>
                                <div class="timeline-details">
                                    <div class="timeline-detail"><span>🎨</span> 2 assets</div>
                                    <div class="timeline-detail"><span>🗓️</span> Deleted Dec 17</div>
                                    <div class="timeline-detail"><span>⏰</span> Expires in 25 days</div>
                                </div>
                            </div>
                            <div class="timeline-actions">
                                <button class="timeline-action restore" onclick="restoreDeletedItem('Draft - Unused')">Restore</button>
                                <button class="timeline-action" onclick="permanentlyDelete('Draft - Unused')">Delete Forever</button>
                            </div>
                        </div>
                    </div>

                    <div class="pagination">
                        <button class="page-btn" onclick="changeHistoryPage('prev')">← Prev</button>
                        <button class="page-btn active">1</button>
                        <button class="page-btn" onclick="changeHistoryPage(2)">2</button>
                        <button class="page-btn" onclick="changeHistoryPage(3)">3</button>
                        <button class="page-btn" onclick="changeHistoryPage(4)">4</button>
                        <button class="page-btn" onclick="changeHistoryPage(5)">5</button>
                        <button class="page-btn" onclick="changeHistoryPage('next')">Next →</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="moveModal" class="modal-overlay">
            <div class="modal-box">
                <div class="modal-header"><h3 style="color:white; margin:0;">Add to Campaign</h3><span style="cursor:pointer; color:#666;" onclick="closeMoveModal()">×</span></div>
                <div class="campaign-option" onclick="selectModalOption(this)">📁 Black Friday Sale</div>
                <div class="campaign-option" onclick="selectModalOption(this)">📁 Spring Launch</div>
                <div style="margin-top:20px;"><label>Or Create New</label><div style="display:flex; gap:10px;"><input type="text" placeholder="Folder Name"><button class="primary-btn" onclick="confirmMove()">Create</button></div></div>
            </div>
        </div>

        <div id="lightbox" class="lightbox" onclick="closeLightbox()">
            <span class="lightbox-close">&times;</span>
            <img id="lightbox-img" src="" class="lightbox-img">
            <div class="lightbox-details">
                <h3>Asset Preview</h3>
                <button class="primary-btn" style="margin-top:15px; background:white; color:black;">Download High-Res</button>
            </div>
        </div>

        <div id="view-loading" class="loading-overlay hidden">
            <svg viewBox="0 0 100 100" style="width: 100px; height: 100px; margin-bottom: 20px; animation: pulse 2s ease-in-out infinite;">
                <defs>
                    <linearGradient id="loadingGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#00f3ff"/>
                        <stop offset="100%" style="stop-color:#bc13fe"/>
                    </linearGradient>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                        <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
                    </filter>
                </defs>
                <path d="M65 20C55 20 47 25 42 32C37 25 29 20 19 22C19 22 25 45 42 50C25 55 19 78 19 78C29 80 37 75 42 68C47 75 55 80 65 78C65 78 59 55 42 50C59 45 65 20 65 20Z" fill="none" stroke="url(#loadingGrad)" stroke-width="3" stroke-linecap="round" filter="url(#glow)"/>
                <circle cx="30" cy="35" r="4" fill="#00f3ff" filter="url(#glow)"/>
                <circle cx="54" cy="35" r="4" fill="#bc13fe" filter="url(#glow)"/>
                <circle cx="30" cy="65" r="4" fill="#00f3ff" filter="url(#glow)"/>
                <circle cx="54" cy="65" r="4" fill="#bc13fe" filter="url(#glow)"/>
                <path d="M35 42 L49 42 M35 50 L49 50 M35 58 L49 58" stroke="url(#loadingGrad)" stroke-width="2" stroke-linecap="round" filter="url(#glow)"/>
            </svg>
            <div style="font-size: 24px; font-weight: 800; letter-spacing: 2px; margin-bottom: 30px;">
                <span style="color: white;">SOLO</span><span style="background: linear-gradient(90deg, #00f3ff, #bc13fe); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">GENIX</span>
            </div>
            <div class="spinner"></div>
            <h3 style="color:#aaa; margin-top:20px; font-weight:400;">Generating Assets...</h3>
            <style>
                @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.85; } }
            </style>
        </div>

        <div class="help-widget" onclick="openModal('onboardingModal')">?</div>

        <!-- Toast Container -->
        <div id="toastContainer" class="toast-container"></div>

        <!-- Delete Confirmation Modal -->
        <div id="deleteModal" class="confirm-modal" onclick="closeModal('deleteModal')">
            <div class="confirm-box" onclick="event.stopPropagation()">
                <div class="confirm-icon danger">🗑️</div>
                <div class="confirm-title">Delete Selected Assets?</div>
                <div class="confirm-desc">This action cannot be undone. These assets will be permanently removed from your library.</div>
                <div class="confirm-actions">
                    <button class="confirm-btn cancel" onclick="closeModal('deleteModal')">Cancel</button>
                    <button class="confirm-btn danger" onclick="closeModal('deleteModal'); showToast('success', 'Deleted', 'Assets have been deleted.')">Delete Assets</button>
                </div>
            </div>
        </div>

        <!-- Disconnect Integration Modal -->
        <div id="disconnectModal" class="confirm-modal" onclick="closeModal('disconnectModal')">
            <div class="confirm-box" onclick="event.stopPropagation()">
                <div class="confirm-icon warning">🔌</div>
                <div class="confirm-title">Disconnect Shopify?</div>
                <div class="confirm-desc">Your inventory sync will stop and you'll need to manually upload products. You can reconnect anytime.</div>
                <div class="confirm-actions">
                    <button class="confirm-btn cancel" onclick="closeModal('disconnectModal')">Keep Connected</button>
                    <button class="confirm-btn danger" onclick="closeModal('disconnectModal'); showToast('info', 'Disconnected', 'Shopify has been disconnected.')">Disconnect</button>
                </div>
            </div>
        </div>

        <!-- Delete Account Modal -->
        <div id="deleteAccountModal" class="confirm-modal" onclick="closeModal('deleteAccountModal')">
            <div class="confirm-box" onclick="event.stopPropagation()">
                <div class="confirm-icon danger">⚠️</div>
                <div class="confirm-title">Delete Your Account?</div>
                <div class="confirm-desc">This will permanently delete your account, all campaigns, assets, and data. This action cannot be undone.</div>
                <input type="text" class="confirm-input" placeholder="Type DELETE to confirm" id="deleteConfirmInput">
                <div class="confirm-actions">
                    <button class="confirm-btn cancel" onclick="closeModal('deleteAccountModal')">Cancel</button>
                    <button class="confirm-btn danger" onclick="confirmDeleteAccount()">Delete Account</button>
                </div>
            </div>
        </div>

        <!-- Credit Purchase Modal -->
        <div id="creditModal" class="confirm-modal credit-modal" onclick="closeModal('creditModal')">
            <div class="confirm-box" onclick="event.stopPropagation()">
                <div class="confirm-icon info">💎</div>
                <div class="confirm-title">Buy More Credits</div>
                <div class="confirm-desc" style="margin-bottom:20px;">Select a credit pack to continue generating assets.</div>

                <div class="credit-options">
                    <div class="credit-option" onclick="selectCredit(this, 100, 19)">
                        <div class="credit-amount">100</div>
                        <div class="credit-label">Credits</div>
                        <div class="credit-price">$19</div>
                    </div>
                    <div class="credit-option popular selected" onclick="selectCredit(this, 300, 49)">
                        <div class="credit-amount">300</div>
                        <div class="credit-label">Credits</div>
                        <div class="credit-price">$49</div>
                        <div class="credit-save">Save 18%</div>
                    </div>
                    <div class="credit-option" onclick="selectCredit(this, 600, 89)">
                        <div class="credit-amount">600</div>
                        <div class="credit-label">Credits</div>
                        <div class="credit-price">$89</div>
                        <div class="credit-save">Save 26%</div>
                    </div>
                </div>

                <div class="payment-summary">
                    <div class="summary-row">
                        <span id="creditSummaryLabel">300 Credits</span>
                        <span id="creditSummaryPrice">$49.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Tax</span>
                        <span>$0.00</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total</span>
                        <span id="creditSummaryTotal">$49.00</span>
                    </div>
                </div>

                <div class="confirm-actions">
                    <button class="confirm-btn cancel" onclick="closeModal('creditModal')">Cancel</button>
                    <button class="confirm-btn primary" onclick="closeModal('creditModal'); showToast('success', 'Purchase Complete', 'Credits have been added to your account.')">Purchase Credits</button>
                </div>
            </div>
        </div>

        <!-- Onboarding Modal -->
        <div id="onboardingModal" class="confirm-modal onboarding-modal" onclick="closeModal('onboardingModal')">
            <div class="confirm-box" onclick="event.stopPropagation()">
                <div class="onboarding-header">
                    <div style="display:flex; align-items:center; justify-content:center; gap:12px; margin-bottom:20px;">
                        <svg viewBox="0 0 100 100" style="width:50px; height:50px;">
                            <defs>
                                <linearGradient id="onboardGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#00f3ff"/>
                                    <stop offset="100%" style="stop-color:#bc13fe"/>
                                </linearGradient>
                            </defs>
                            <path d="M65 20C55 20 47 25 42 32C37 25 29 20 19 22C19 22 25 45 42 50C25 55 19 78 19 78C29 80 37 75 42 68C47 75 55 80 65 78C65 78 59 55 42 50C59 45 65 20 65 20Z" fill="none" stroke="url(#onboardGrad)" stroke-width="3" stroke-linecap="round"/>
                            <circle cx="30" cy="35" r="3" fill="#00f3ff"/>
                            <circle cx="54" cy="35" r="3" fill="#bc13fe"/>
                            <circle cx="30" cy="65" r="3" fill="#00f3ff"/>
                            <circle cx="54" cy="65" r="3" fill="#bc13fe"/>
                            <path d="M35 42 L49 42 M35 50 L49 50 M35 58 L49 58" stroke="url(#onboardGrad)" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <div style="font-size:22px; font-weight:800; letter-spacing:1px;">
                            <span style="color:white;">SOLO</span><span style="background:linear-gradient(90deg,#00f3ff,#bc13fe);-webkit-background-clip:text;-webkit-text-fill-color:transparent;">GENIX</span>
                        </div>
                    </div>
                    <h2>Welcome! 🚀</h2>
                    <p>Let's get you set up in just a few steps.</p>
                </div>
                <div class="onboarding-body">
                    <div class="onboarding-progress">
                        <div class="onboarding-progress-bar" style="width: 25%;"></div>
                    </div>
                    <div class="progress-text">1 of 4 steps completed</div>

                    <div class="onboarding-steps">
                        <div class="step-item completed">
                            <div class="step-number">✓</div>
                            <div class="step-content">
                                <div class="step-title">Create Account</div>
                                <div class="step-desc">You're all signed up!</div>
                            </div>
                            <div class="step-arrow">✓</div>
                        </div>
                        <div class="step-item" onclick="closeModal('onboardingModal'); navigateTo('settings'); switchSetting('integrations', document.querySelectorAll('.set-link')[3])">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <div class="step-title">Connect Your Store</div>
                                <div class="step-desc">Import products from Shopify or TikTok Shop</div>
                            </div>
                            <div class="step-arrow">→</div>
                        </div>
                        <div class="step-item" onclick="closeModal('onboardingModal'); navigateTo('brand')">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <div class="step-title">Set Up Brand Kit</div>
                                <div class="step-desc">Upload logo and choose brand colors</div>
                            </div>
                            <div class="step-arrow">→</div>
                        </div>
                        <div class="step-item" onclick="closeModal('onboardingModal'); navigateTo('generator')">
                            <div class="step-number">4</div>
                            <div class="step-content">
                                <div class="step-title">Generate Your First Ads</div>
                                <div class="step-desc">Create stunning ad creatives in seconds</div>
                            </div>
                            <div class="step-arrow">→</div>
                        </div>
                    </div>

                    <div class="confirm-actions">
                        <button class="confirm-btn cancel" onclick="closeModal('onboardingModal')">Skip for Now</button>
                        <button class="confirm-btn primary" onclick="closeModal('onboardingModal'); navigateTo('settings'); switchSetting('integrations', document.querySelectorAll('.set-link')[3])">Continue Setup</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Campaign/Folder Modal -->
        <div id="campaignModal" class="confirm-modal" onclick="if(event.target===this) closeModal('campaignModal')">
            <div class="confirm-box campaign-modal-content" onclick="event.stopPropagation()">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <h3>Save to Campaign</h3>
                    <button style="background:none; border:none; color:#888; font-size:24px; cursor:pointer;" onclick="closeModal('campaignModal')">×</button>
                </div>
                <!-- Tabs -->
                <div class="campaign-tabs">
                    <div class="campaign-tab active" onclick="switchCampaignTab('existing', this)">Existing Campaigns</div>
                    <div class="campaign-tab" onclick="switchCampaignTab('new', this)">Create New</div>
                    <div class="campaign-tab" onclick="switchCampaignTab('organize', this)">Organize Assets</div>
                </div>

                <!-- Tab 1: Existing Campaigns -->
                <div class="campaign-tab-content active" id="campaign-tab-existing">
                    <div class="folders-grid">
                        <div class="folder-card selected" onclick="selectCampaignFolder(this)">
                            <div class="folder-icon" style="background: rgba(0,243,255,0.2);">📁</div>
                            <div class="folder-info"><h4>Shea Butter Launch</h4><p>24 assets • Updated 2 days ago</p></div>
                            <div class="folder-check"></div>
                        </div>
                        <div class="folder-card" onclick="selectCampaignFolder(this)">
                            <div class="folder-icon" style="background: rgba(255,215,0,0.2);">🎯</div>
                            <div class="folder-info"><h4>Summer Sale 2024</h4><p>18 assets • Updated 1 week ago</p></div>
                            <div class="folder-check"></div>
                        </div>
                        <div class="folder-card" onclick="selectCampaignFolder(this)">
                            <div class="folder-icon" style="background: rgba(188,19,254,0.2);">🚀</div>
                            <div class="folder-info"><h4>Product Launch Q1</h4><p>32 assets • Updated 2 weeks ago</p></div>
                            <div class="folder-check"></div>
                        </div>
                        <div class="folder-card" onclick="selectCampaignFolder(this)">
                            <div class="folder-icon" style="background: rgba(0,255,157,0.2);">💚</div>
                            <div class="folder-info"><h4>Organic Collection</h4><p>12 assets • Updated 3 weeks ago</p></div>
                            <div class="folder-check"></div>
                        </div>
                        <div class="create-folder-card" onclick="switchCampaignTab('new', document.querySelectorAll('.campaign-tab')[1])">
                            <div class="create-icon">+</div>
                            <div class="folder-info"><h4 style="color:var(--primary-purple);">Create New Campaign</h4><p>Start fresh with a new folder</p></div>
                        </div>
                    </div>
                </div>

                <!-- Tab 2: Create New -->
                <div class="campaign-tab-content" id="campaign-tab-new">
                    <div style="margin-bottom:15px;">
                        <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Campaign Name</label>
                        <input type="text" id="newCampaignName" placeholder="e.g., Summer Skincare Launch" style="width:100%; background:rgba(0,0,0,0.3); border:1px solid #333; border-radius:8px; padding:10px 12px; color:white; font-size:14px;" oninput="updateCampaignSummary()">
                    </div>
                    <div style="margin-bottom:15px;">
                        <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Description (Optional)</label>
                        <textarea rows="2" placeholder="Brief description..." style="width:100%; background:rgba(0,0,0,0.3); border:1px solid #333; border-radius:8px; padding:10px 12px; color:white; font-size:14px;"></textarea>
                    </div>
                    <div style="display:flex; gap:20px; margin-bottom:15px;">
                        <div style="flex:1;">
                            <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Folder Color</label>
                            <div class="color-picker">
                                <div class="color-option selected" style="background:#00f3ff;" onclick="selectCampaignColor(this)"></div>
                                <div class="color-option" style="background:#bc13fe;" onclick="selectCampaignColor(this)"></div>
                                <div class="color-option" style="background:#ff0055;" onclick="selectCampaignColor(this)"></div>
                                <div class="color-option" style="background:#ffd700;" onclick="selectCampaignColor(this)"></div>
                                <div class="color-option" style="background:#00ff9d;" onclick="selectCampaignColor(this)"></div>
                                <div class="color-option" style="background:#ff6b35;" onclick="selectCampaignColor(this)"></div>
                            </div>
                        </div>
                        <div style="flex:1;">
                            <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Folder Icon</label>
                            <div class="icon-picker">
                                <div class="icon-option selected" onclick="selectCampaignIcon(this)">📁</div>
                                <div class="icon-option" onclick="selectCampaignIcon(this)">🎯</div>
                                <div class="icon-option" onclick="selectCampaignIcon(this)">🚀</div>
                                <div class="icon-option" onclick="selectCampaignIcon(this)">💎</div>
                                <div class="icon-option" onclick="selectCampaignIcon(this)">🔥</div>
                                <div class="icon-option" onclick="selectCampaignIcon(this)">⭐</div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-bottom:15px;">
                        <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Tags (Optional) - Press Enter to add</label>
                        <div class="tags-container" id="campaignTagsContainer">
                            <div class="campaign-tag">skincare <span class="tag-remove" onclick="this.parentElement.remove()">×</span></div>
                            <input type="text" class="tag-input" placeholder="Add a tag..." onkeydown="addCampaignTag(event)">
                        </div>
                    </div>
                    <div class="campaign-summary">
                        <div class="summary-header">
                            <div class="summary-icon" id="campaignSummaryIcon" style="background:rgba(0,243,255,0.2);">📁</div>
                            <div class="summary-info"><h4 id="campaignSummaryName">New Campaign</h4><p>Ready to save 14 assets</p></div>
                        </div>
                        <div class="summary-stats">
                            <div class="summary-stat"><div class="num">9</div><div class="label">Images</div></div>
                            <div class="summary-stat"><div class="num">5</div><div class="label">Videos</div></div>
                            <div class="summary-stat"><div class="num">4</div><div class="label">Zones</div></div>
                        </div>
                    </div>
                </div>

                <!-- Tab 3: Organize Assets -->
                <div class="campaign-tab-content" id="campaign-tab-organize">
                    <div class="org-options">
                        <div class="org-option">
                            <div class="org-option-info"><span>📂</span><div><h4>Organize by Zone</h4><p>Create subfolders for Hooks, Offers, Educational, Videos</p></div></div>
                            <div class="campaign-toggle active" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="org-option">
                            <div class="org-option-info"><span>🏷️</span><div><h4>Auto-tag by Content Type</h4><p>Automatically tag images and videos</p></div></div>
                            <div class="campaign-toggle active" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="org-option">
                            <div class="org-option-info"><span>📊</span><div><h4>Include AI Scores</h4><p>Save performance predictions with each asset</p></div></div>
                            <div class="campaign-toggle active" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="org-option">
                            <div class="org-option-info"><span>🔗</span><div><h4>Link to Shopify Product</h4><p>Connect campaign to product listing</p></div></div>
                            <div class="campaign-toggle" onclick="this.classList.toggle('active')"></div>
                        </div>
                        <div class="org-option">
                            <div class="org-option-info"><span>📅</span><div><h4>Schedule for Later</h4><p>Set a publish date for this campaign</p></div></div>
                            <div class="campaign-toggle" onclick="this.classList.toggle('active')"></div>
                        </div>
                    </div>
                    <div class="asset-selection">
                        <div class="asset-selection-header"><h4>Select Assets to Include</h4><button class="select-all-btn" onclick="toggleAllCampaignAssets()">Select All (14)</button></div>
                        <div class="asset-zones">
                            <div class="asset-zone">
                                <div class="asset-zone-header"><div class="asset-zone-title hook-color"><span>🛑</span> Hooks (3)</div></div>
                                <div class="asset-thumbs">
                                    <div class="asset-thumb selected" style="background-image:url('https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=200');" onclick="this.classList.toggle('selected')"><div class="asset-thumb-check">✓</div></div>
                                    <div class="asset-thumb selected" style="background-image:url('https://images.unsplash.com/photo-1556228552-523de509228a?q=80&w=200');" onclick="this.classList.toggle('selected')"><div class="asset-thumb-check">✓</div></div>
                                    <div class="asset-thumb selected" style="background-image:url('https://images.unsplash.com/photo-1571781565036-d3f7595ca3f7?q=80&w=200');" onclick="this.classList.toggle('selected')"><div class="asset-thumb-check">✓</div></div>
                                </div>
                            </div>
                            <div class="asset-zone">
                                <div class="asset-zone-header"><div class="asset-zone-title offer-color"><span>💰</span> Offers (3)</div></div>
                                <div class="asset-thumbs">
                                    <div class="asset-thumb selected" style="background-image:url('https://images.unsplash.com/photo-1620916566398-39f1143ab7be?q=80&w=200');" onclick="this.classList.toggle('selected')"><div class="asset-thumb-check">✓</div></div>
                                    <div class="asset-thumb selected" style="background-image:url('https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?q=80&w=200');" onclick="this.classList.toggle('selected')"><div class="asset-thumb-check">✓</div></div>
                                    <div class="asset-thumb selected" style="background-image:url('https://images.unsplash.com/photo-1556228720-1957be83f315?q=80&w=200');" onclick="this.classList.toggle('selected')"><div class="asset-thumb-check">✓</div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="campaign-modal-footer">
                    <button class="confirm-btn cancel" onclick="closeModal('campaignModal')">Cancel</button>
                    <button class="confirm-btn primary" onclick="saveToCampaign()">Save to Campaign</button>
                </div>
            </div>
        </div>

        <!-- Edit Text Modal -->
        <div id="editTextModal" class="confirm-modal" onclick="if(event.target===this) closeModal('editTextModal')">
            <div class="confirm-box" style="max-width:500px;" onclick="event.stopPropagation()">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <h3>Edit Text Overlay</h3>
                    <button style="background:none; border:none; color:#888; font-size:24px; cursor:pointer;" onclick="closeModal('editTextModal')">×</button>
                </div>

                <div class="edit-preview" style="background:#111; border-radius:10px; aspect-ratio:4/5; max-height:250px; margin-bottom:20px; display:flex; align-items:center; justify-content:center; overflow:hidden; position:relative;">
                    <img src="https://images.unsplash.com/photo-1611080626919-7cf5a9dbab5b?q=80&w=400" style="width:100%; height:100%; object-fit:cover;">
                    <div style="position:absolute; text-align:center; padding:20px;">
                        <div id="editPreviewHeadline" style="font-family:'Oswald',sans-serif; font-size:20px; color:white; text-transform:uppercase; text-shadow:0 2px 10px rgba(0,0,0,1);">The Ultimate<br>Skin Luxury</div>
                        <div id="editPreviewSubhead" style="font-size:10px; background:#8F9E8B; color:white; padding:3px 8px; border-radius:4px; margin-top:8px; font-weight:600; display:inline-block;">PURE, ORGANIC SHEA</div>
                    </div>
                </div>

                <div style="margin-bottom:15px;">
                    <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Headline Text</label>
                    <input type="text" id="editHeadlineInput" value="The Ultimate Skin Luxury" placeholder="Enter headline..." style="width:100%; background:rgba(0,0,0,0.3); border:1px solid #333; border-radius:8px; padding:10px 12px; color:white; font-size:14px;" oninput="updateEditPreview()">
                </div>

                <div style="margin-bottom:15px;">
                    <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Subheadline (Badge)</label>
                    <input type="text" id="editSubheadInput" value="PURE, ORGANIC SHEA" placeholder="Enter subheadline..." style="width:100%; background:rgba(0,0,0,0.3); border:1px solid #333; border-radius:8px; padding:10px 12px; color:white; font-size:14px;" oninput="updateEditPreview()">
                </div>

                <div style="margin-bottom:20px;">
                    <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Text Position</label>
                    <div style="display:flex; gap:10px;">
                        <button class="position-btn active" onclick="selectTextPosition('top', this)" style="flex:1; padding:8px; background:rgba(0,243,255,0.1); border:1px solid var(--primary-cyan); border-radius:6px; color:var(--primary-cyan); cursor:pointer;">Top</button>
                        <button class="position-btn" onclick="selectTextPosition('center', this)" style="flex:1; padding:8px; background:rgba(255,255,255,0.05); border:1px solid #333; border-radius:6px; color:#888; cursor:pointer;">Center</button>
                        <button class="position-btn" onclick="selectTextPosition('bottom', this)" style="flex:1; padding:8px; background:rgba(255,255,255,0.05); border:1px solid #333; border-radius:6px; color:#888; cursor:pointer;">Bottom</button>
                    </div>
                </div>

                <div style="display:flex; gap:10px;">
                    <button style="flex:1; padding:12px; background:transparent; border:1px solid #444; border-radius:8px; color:#aaa; cursor:pointer;" onclick="closeModal('editTextModal')">Cancel</button>
                    <button style="flex:1; padding:12px; background:linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); border:none; border-radius:8px; color:white; font-weight:600; cursor:pointer;" onclick="applyTextEdit()">Apply Changes</button>
                </div>
            </div>
        </div>

        <!-- Regenerate/Revise Modal -->
        <div id="regenerateModal" class="confirm-modal" onclick="if(event.target===this) closeModal('regenerateModal')">
            <div class="confirm-box" style="max-width:450px;" onclick="event.stopPropagation()">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                    <h3>Revise Content</h3>
                    <button style="background:none; border:none; color:#888; font-size:24px; cursor:pointer;" onclick="closeModal('regenerateModal')">×</button>
                </div>

                <div style="text-align:center; padding:20px 0;">
                    <div style="font-size:48px; margin-bottom:15px;">🔄</div>
                    <p style="color:#aaa; font-size:14px;">Select what you'd like to regenerate</p>
                </div>

                <div style="display:flex; flex-direction:column; gap:10px; margin-bottom:20px;">
                    <label style="display:flex; align-items:center; gap:12px; padding:12px 15px; background:rgba(255,255,255,0.05); border:1px solid #333; border-radius:8px; cursor:pointer;">
                        <input type="radio" name="regenOption" value="text" checked style="accent-color:var(--primary-cyan);">
                        <div>
                            <div style="font-weight:600; color:white;">Text Only</div>
                            <div style="font-size:11px; color:#888;">Keep image, generate new copy</div>
                        </div>
                    </label>
                    <label style="display:flex; align-items:center; gap:12px; padding:12px 15px; background:rgba(255,255,255,0.05); border:1px solid #333; border-radius:8px; cursor:pointer;">
                        <input type="radio" name="regenOption" value="image" style="accent-color:var(--primary-cyan);">
                        <div>
                            <div style="font-weight:600; color:white;">Image Only</div>
                            <div style="font-size:11px; color:#888;">Keep text, generate new visual</div>
                        </div>
                    </label>
                    <label style="display:flex; align-items:center; gap:12px; padding:12px 15px; background:rgba(255,255,255,0.05); border:1px solid #333; border-radius:8px; cursor:pointer;">
                        <input type="radio" name="regenOption" value="both" style="accent-color:var(--primary-cyan);">
                        <div>
                            <div style="font-weight:600; color:white;">Complete Regenerate</div>
                            <div style="font-size:11px; color:#888;">Generate entirely new creative</div>
                        </div>
                    </label>
                </div>

                <div style="margin-bottom:20px;">
                    <label style="display:block; font-size:12px; color:#888; margin-bottom:6px;">Additional Instructions (Optional)</label>
                    <textarea rows="2" placeholder="e.g., Make it more urgent, use warmer tones..." style="width:100%; background:rgba(0,0,0,0.3); border:1px solid #333; border-radius:8px; padding:10px 12px; color:white; font-size:14px;"></textarea>
                </div>

                <div style="display:flex; gap:10px;">
                    <button style="flex:1; padding:12px; background:transparent; border:1px solid #444; border-radius:8px; color:#aaa; cursor:pointer;" onclick="closeModal('regenerateModal')">Cancel</button>
                    <button style="flex:1; padding:12px; background:linear-gradient(135deg, var(--primary-purple), var(--primary-cyan)); border:none; border-radius:8px; color:white; font-weight:600; cursor:pointer;" onclick="startRegenerate()">Regenerate</button>
                </div>
            </div>
        </div>

        <!-- Video Player Modal -->
        <div id="videoPlayerModal" class="confirm-modal" onclick="if(event.target===this) closeModal('videoPlayerModal')">
            <div style="position:relative; max-width:400px; width:90%;" onclick="event.stopPropagation()">
                <button style="position:absolute; top:-40px; right:0; background:none; border:none; color:white; font-size:28px; cursor:pointer; z-index:10;" onclick="closeModal('videoPlayerModal')">×</button>

                <div style="background:#000; border-radius:16px; overflow:hidden; aspect-ratio:9/16; position:relative;">
                    <video id="videoPlayer" style="width:100%; height:100%; object-fit:cover;" poster="https://images.unsplash.com/photo-1512413914633-b5043f4041ea?w=400">
                        <source src="" type="video/mp4">
                    </video>

                    <div id="videoPlayBtn" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:70px; height:70px; background:rgba(188,19,254,0.9); border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:0.3s;" onclick="toggleVideoPlay()">
                        <span style="font-size:28px; margin-left:4px;">▶</span>
                    </div>

                    <div style="position:absolute; bottom:0; left:0; right:0; background:linear-gradient(transparent, rgba(0,0,0,0.9)); padding:20px;">
                        <div style="font-weight:600; margin-bottom:4px;" id="videoTitle">AI Avatar (Hook)</div>
                        <div style="font-size:12px; color:#888;">0:15 • 1080x1920</div>
                    </div>
                </div>

                <div style="display:flex; gap:10px; margin-top:15px;">
                    <button style="flex:1; padding:12px; background:rgba(255,255,255,0.1); border:1px solid #333; border-radius:8px; color:white; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px;" onclick="showToast('success', 'Downloaded', 'Video saved to Gallery')">
                        <span>⬇️</span> Download
                    </button>
                    <button style="flex:1; padding:12px; background:rgba(255,255,255,0.1); border:1px solid #333; border-radius:8px; color:white; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:8px;" onclick="openModal('regenerateModal'); closeModal('videoPlayerModal');">
                        <span>🔄</span> Revise
                    </button>
                </div>
            </div>
        </div>

        <!-- Script Editor Modal -->
        <div id="scriptEditorModal" class="confirm-modal" onclick="if(event.target===this) closeModal('scriptEditorModal')">
            <div class="script-editor-modal" onclick="event.stopPropagation()">
                <div class="script-modal-header">
                    <h2><span style="font-size:24px;">🎬</span> Video Script Editor</h2>
                    <button class="close-btn" onclick="closeModal('scriptEditorModal')">×</button>
                </div>

                <div class="script-modal-body">
                    <div class="script-timeline">
                        <div class="timeline-header">
                            <h3>SCRIPT SEGMENTS</h3>
                            <button class="add-segment-btn" onclick="addScriptSegment()">+ Add Segment</button>
                        </div>

                        <div class="segment-list" id="segmentList">
                            <div class="segment-item active" data-segment="1">
                                <div class="segment-header">
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-number">1</div>
                                        <span style="font-size:12px; font-weight:600;">Hook Intro</span>
                                    </div>
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-duration">5 sec</div>
                                        <div class="segment-actions">
                                            <button class="segment-action-btn" onclick="moveSegment(1, 'up')">▲</button>
                                            <button class="segment-action-btn" onclick="moveSegment(1, 'down')">▼</button>
                                            <button class="segment-action-btn" onclick="deleteSegment(1)">🗑</button>
                                        </div>
                                    </div>
                                </div>
                                <textarea class="segment-text" placeholder="Enter script for this segment...">Stop scrolling! You need to see this...</textarea>
                                <div class="timing-slider">
                                    <div class="timing-label">
                                        <span>Duration</span>
                                        <span style="color:var(--primary-cyan);">5 seconds</span>
                                    </div>
                                    <input type="range" min="3" max="30" value="5" oninput="updateSegmentDuration(this)">
                                </div>
                            </div>

                            <div class="segment-item" data-segment="2">
                                <div class="segment-header">
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-number">2</div>
                                        <span style="font-size:12px; font-weight:600;">Problem</span>
                                    </div>
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-duration">8 sec</div>
                                        <div class="segment-actions">
                                            <button class="segment-action-btn" onclick="moveSegment(2, 'up')">▲</button>
                                            <button class="segment-action-btn" onclick="moveSegment(2, 'down')">▼</button>
                                            <button class="segment-action-btn" onclick="deleteSegment(2)">🗑</button>
                                        </div>
                                    </div>
                                </div>
                                <textarea class="segment-text">Tired of dry, cracked skin? We've all been there...</textarea>
                                <div class="timing-slider">
                                    <div class="timing-label">
                                        <span>Duration</span>
                                        <span style="color:var(--primary-cyan);">8 seconds</span>
                                    </div>
                                    <input type="range" min="3" max="30" value="8" oninput="updateSegmentDuration(this)">
                                </div>
                            </div>

                            <div class="segment-item" data-segment="3">
                                <div class="segment-header">
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-number">3</div>
                                        <span style="font-size:12px; font-weight:600;">Solution</span>
                                    </div>
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-duration">10 sec</div>
                                        <div class="segment-actions">
                                            <button class="segment-action-btn" onclick="moveSegment(3, 'up')">▲</button>
                                            <button class="segment-action-btn" onclick="moveSegment(3, 'down')">▼</button>
                                            <button class="segment-action-btn" onclick="deleteSegment(3)">🗑</button>
                                        </div>
                                    </div>
                                </div>
                                <textarea class="segment-text">Introducing Raw Shea Butter - 100% pure, organic, and unrefined. Your skin will thank you.</textarea>
                                <div class="timing-slider">
                                    <div class="timing-label">
                                        <span>Duration</span>
                                        <span style="color:var(--primary-cyan);">10 seconds</span>
                                    </div>
                                    <input type="range" min="3" max="30" value="10" oninput="updateSegmentDuration(this)">
                                </div>
                            </div>

                            <div class="segment-item" data-segment="4">
                                <div class="segment-header">
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-number">4</div>
                                        <span style="font-size:12px; font-weight:600;">CTA</span>
                                    </div>
                                    <div style="display:flex; align-items:center; gap:10px;">
                                        <div class="segment-duration">5 sec</div>
                                        <div class="segment-actions">
                                            <button class="segment-action-btn" onclick="moveSegment(4, 'up')">▲</button>
                                            <button class="segment-action-btn" onclick="moveSegment(4, 'down')">▼</button>
                                            <button class="segment-action-btn" onclick="deleteSegment(4)">🗑</button>
                                        </div>
                                    </div>
                                </div>
                                <textarea class="segment-text">Click the link below and use code GLOW20 for 20% off!</textarea>
                                <div class="timing-slider">
                                    <div class="timing-label">
                                        <span>Duration</span>
                                        <span style="color:var(--primary-cyan);">5 seconds</span>
                                    </div>
                                    <input type="range" min="3" max="30" value="5" oninput="updateSegmentDuration(this)">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="script-settings">
                        <div class="settings-section">
                            <h4>AI Voice</h4>
                            <div class="voice-selector">
                                <div class="voice-option selected" onclick="selectVoice(this, 'maya')">
                                    <div class="voice-avatar" style="background:linear-gradient(135deg, #ff6b9d, #c44569);"></div>
                                    <div class="voice-name">Maya</div>
                                    <div class="voice-desc">Warm, Friendly</div>
                                    <button class="voice-preview" onclick="event.stopPropagation(); previewVoice('maya')">▶ Preview</button>
                                </div>
                                <div class="voice-option" onclick="selectVoice(this, 'alex')">
                                    <div class="voice-avatar" style="background:linear-gradient(135deg, #6b9dff, #4569c4);"></div>
                                    <div class="voice-name">Alex</div>
                                    <div class="voice-desc">Professional</div>
                                    <button class="voice-preview" onclick="event.stopPropagation(); previewVoice('alex')">▶ Preview</button>
                                </div>
                                <div class="voice-option" onclick="selectVoice(this, 'jordan')">
                                    <div class="voice-avatar" style="background:linear-gradient(135deg, #9dff6b, #69c445);"></div>
                                    <div class="voice-name">Jordan</div>
                                    <div class="voice-desc">Energetic</div>
                                    <button class="voice-preview" onclick="event.stopPropagation(); previewVoice('jordan')">▶ Preview</button>
                                </div>
                                <div class="voice-option" onclick="selectVoice(this, 'sam')">
                                    <div class="voice-avatar" style="background:linear-gradient(135deg, #ffb86b, #c49445);"></div>
                                    <div class="voice-name">Sam</div>
                                    <div class="voice-desc">Calm, Soft</div>
                                    <button class="voice-preview" onclick="event.stopPropagation(); previewVoice('sam')">▶ Preview</button>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4>Background Music</h4>
                            <div class="music-selector">
                                <select id="musicSelect">
                                    <option>Upbeat Energy - Pop</option>
                                    <option>Chill Vibes - Lo-Fi</option>
                                    <option>Luxury Feel - Ambient</option>
                                    <option>Trending Sound - TikTok</option>
                                    <option>No Music</option>
                                </select>
                                <div class="music-preview">
                                    <button class="music-play-btn" onclick="previewMusic()">▶</button>
                                    <div class="music-waveform"></div>
                                    <span style="font-size:11px; color:#888;">0:28</span>
                                </div>
                            </div>
                        </div>

                        <div class="settings-section">
                            <h4>Save as Template</h4>
                            <input type="text" id="scriptTemplateName" placeholder="Template name..." style="width:100%; background:rgba(0,0,0,0.3); border:1px solid rgba(255,255,255,0.1); border-radius:8px; padding:12px; color:white; font-size:13px; margin-bottom:10px;">
                            <button style="width:100%; padding:10px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.2); border-radius:8px; color:white; font-size:12px; cursor:pointer;" onclick="saveScriptTemplate()">💾 Save Template</button>
                        </div>
                    </div>
                </div>

                <div class="script-modal-footer">
                    <div class="total-duration">
                        Total Duration: <span id="totalScriptDuration">28 seconds</span> (4 segments)
                    </div>
                    <div class="footer-actions">
                        <button class="footer-btn secondary" onclick="closeModal('scriptEditorModal')">Cancel</button>
                        <button class="footer-btn secondary" onclick="previewScript()">Preview Video</button>
                        <button class="footer-btn primary" onclick="generateVideoFromScript()">Generate Video</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Upgrade/Pricing Modal -->
        <div id="upgradeModal" class="confirm-modal" onclick="if(event.target===this) closeModal('upgradeModal')">
            <div class="upgrade-modal" onclick="event.stopPropagation()">
                <div class="upgrade-header">
                    <button style="position:absolute; top:15px; right:20px; background:none; border:none; color:white; font-size:24px; cursor:pointer;" onclick="closeModal('upgradeModal')">×</button>
                    <h2>Upgrade Your Plan</h2>
                    <p>Choose the plan that fits your creative needs</p>

                    <div class="billing-toggle">
                        <div class="billing-option" onclick="switchBilling('monthly', this)">Monthly</div>
                        <div class="billing-option active" onclick="switchBilling('annual', this)">
                            Annual
                            <span class="save-badge">SAVE 20%</span>
                        </div>
                    </div>
                </div>

                <div class="plans-container">
                    <!-- Starter Plan -->
                    <div class="plan-card">
                        <div class="plan-name">Starter</div>
                        <div class="plan-desc">For individuals getting started</div>
                        <div class="plan-price">$29 <span>/ month</span></div>
                        <div class="plan-billed">Billed annually ($348/year)</div>

                        <ul class="plan-features">
                            <li><span class="feature-check">✓</span> <span class="feature-highlight">100</span> generation credits/mo</li>
                            <li><span class="feature-check">✓</span> 5 GB storage</li>
                            <li><span class="feature-check">✓</span> 3 AI avatar options</li>
                            <li><span class="feature-check">✓</span> Basic templates</li>
                            <li><span class="feature-check">✓</span> Email support</li>
                            <li><span class="feature-x">×</span> <span style="color:#666;">Custom avatars</span></li>
                            <li><span class="feature-x">×</span> <span style="color:#666;">API access</span></li>
                            <li><span class="feature-x">×</span> <span style="color:#666;">Team members</span></li>
                        </ul>

                        <button class="plan-btn downgrade" onclick="selectPlan('starter')">Downgrade</button>
                    </div>

                    <!-- Creator Plan (Current) -->
                    <div class="plan-card current">
                        <div class="current-badge">CURRENT PLAN</div>
                        <div class="plan-name">Creator</div>
                        <div class="plan-desc">For growing businesses</div>
                        <div class="plan-price">$49 <span>/ month</span></div>
                        <div class="plan-billed">Billed annually ($588/year)</div>

                        <ul class="plan-features">
                            <li><span class="feature-check">✓</span> <span class="feature-highlight">500</span> generation credits/mo</li>
                            <li><span class="feature-check">✓</span> 25 GB storage</li>
                            <li><span class="feature-check">✓</span> 15 AI avatar options</li>
                            <li><span class="feature-check">✓</span> All templates</li>
                            <li><span class="feature-check">✓</span> Priority support</li>
                            <li><span class="feature-check">✓</span> 1 custom avatar</li>
                            <li><span class="feature-x">×</span> <span style="color:#666;">API access</span></li>
                            <li><span class="feature-check">✓</span> 2 team members</li>
                        </ul>

                        <button class="plan-btn current-plan">Current Plan</button>
                    </div>

                    <!-- Pro Plan -->
                    <div class="plan-card popular">
                        <div class="popular-badge">MOST POPULAR</div>
                        <div class="plan-name">Pro</div>
                        <div class="plan-desc">For agencies & power users</div>
                        <div class="plan-price">$99 <span>/ month</span></div>
                        <div class="plan-billed">Billed annually ($1,188/year)</div>

                        <ul class="plan-features">
                            <li><span class="feature-check">✓</span> <span class="feature-highlight">Unlimited</span> credits</li>
                            <li><span class="feature-check">✓</span> 100 GB storage</li>
                            <li><span class="feature-check">✓</span> All 50+ AI avatars</li>
                            <li><span class="feature-check">✓</span> All templates + early access</li>
                            <li><span class="feature-check">✓</span> Dedicated support</li>
                            <li><span class="feature-check">✓</span> 5 custom avatars</li>
                            <li><span class="feature-check">✓</span> Full API access</li>
                            <li><span class="feature-check">✓</span> 10 team members</li>
                        </ul>

                        <button class="plan-btn upgrade" onclick="selectPlan('pro')">Upgrade to Pro</button>
                    </div>
                </div>

                <div class="addons-section">
                    <div class="addons-title">
                        <span style="font-size:18px;">⚡</span> Quick Add-ons
                    </div>
                    <div class="addons-grid">
                        <div class="addon-card">
                            <div class="addon-info">
                                <h4>+100 Credits</h4>
                                <p>One-time purchase</p>
                            </div>
                            <div style="display:flex; align-items:center;">
                                <div class="addon-price">$19</div>
                                <button class="addon-btn" onclick="purchaseAddon('credits', 100, 19)">Add</button>
                            </div>
                        </div>
                        <div class="addon-card">
                            <div class="addon-info">
                                <h4>+500 Credits</h4>
                                <p>One-time purchase</p>
                            </div>
                            <div style="display:flex; align-items:center;">
                                <div class="addon-price">$79</div>
                                <button class="addon-btn" onclick="purchaseAddon('credits', 500, 79)">Add</button>
                            </div>
                        </div>
                        <div class="addon-card">
                            <div class="addon-info">
                                <h4>+1 Custom Avatar</h4>
                                <p>Upload your own face</p>
                            </div>
                            <div style="display:flex; align-items:center;">
                                <div class="addon-price">$29</div>
                                <button class="addon-btn" onclick="purchaseAddon('avatar', 1, 29)">Add</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="feature-comparison">
                    <div class="comparison-toggle">
                        <button onclick="toggleFeatureComparison()">View Full Feature Comparison ▼</button>
                    </div>
                    <table class="comparison-table" id="featureComparisonTable" style="display:none;">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Starter</th>
                                <th>Creator</th>
                                <th>Pro</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Monthly Credits</td><td>100</td><td>500</td><td>Unlimited</td></tr>
                            <tr><td>Storage</td><td>5 GB</td><td>25 GB</td><td>100 GB</td></tr>
                            <tr><td>AI Avatars</td><td>3</td><td>15</td><td>50+</td></tr>
                            <tr><td>Custom Avatars</td><td>—</td><td>1</td><td>5</td></tr>
                            <tr><td>Team Members</td><td>—</td><td>2</td><td>10</td></tr>
                            <tr><td>API Access</td><td>—</td><td>—</td><td>✓</td></tr>
                            <tr><td>Shopify Integration</td><td>✓</td><td>✓</td><td>✓</td></tr>
                            <tr><td>TikTok Shop</td><td>—</td><td>✓</td><td>✓</td></tr>
                            <tr><td>Priority Rendering</td><td>—</td><td>—</td><td>✓</td></tr>
                            <tr><td>White Label Export</td><td>—</td><td>—</td><td>✓</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Generating Overlay -->
        <div id="generatingOverlay" class="generating-overlay">
            <div class="gen-spinner"></div>
            <div class="gen-text">
                <h2 id="genOverlayTitle">Generating Content...</h2>
                <p id="genOverlaySubtitle">Our AI is crafting your creatives</p>
            </div>
            <div class="gen-progress"><div class="gen-progress-fill"></div></div>
        </div>

    </div>

    <script>
        // Store original navigateTo for use by auth.js
        function navigateTo(viewId) {
            // Check if auth is configured (not placeholder values)
            const authConfigured = typeof SUPABASE_URL !== 'undefined' &&
                                   SUPABASE_URL !== 'https://YOUR_PROJECT_ID.supabase.co';

            // If auth is configured and user is not authenticated, redirect to login
            if (authConfigured && typeof authState !== 'undefined' && !authState.isAuthenticated && !authState.loading) {
                showAuthView('login');
                return;
            }

            document.querySelectorAll('.view-section').forEach(el => { el.style.display = 'none'; el.classList.remove('active'); });
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById('view-' + viewId).style.display = 'block';
            setTimeout(() => document.getElementById('view-' + viewId).classList.add('active'), 10);
            const nav = document.getElementById('nav-' + viewId); if(nav) nav.classList.add('active');
        }

        // Alias for auth.js compatibility
        const originalNavigateTo = navigateTo;

        // Shopify Connect Flow
        function startShopifyConnect() {
            document.getElementById('oauthModal').classList.remove('hidden');
            setTimeout(() => {
                document.getElementById('oauthModal').classList.add('hidden');
                transformToIntegratedMode();
            }, 1500);
        }

        function transformToIntegratedMode() {
            // Update Connect Bar to "Connected" state
            document.getElementById('connectContainer').innerHTML = `<div class="connected-badge"><span>✅</span> Store Connected</div>`;

            // Show Sidebar
            document.getElementById('inventorySidebar').classList.add('active');

            // Update Text
            document.getElementById('mode-text').innerHTML = "Select a product from the sidebar to auto-fill.";

            // Update Upload Zone
            document.getElementById('uploadGroup').innerHTML = `
                <div style="background:rgba(150, 191, 72, 0.1); border:1px solid #96bf48; padding:15px; border-radius:8px; color:#96bf48; font-size:13px; text-align:center;">
                    ✓ Images synced automatically from Product Page
                </div>`;

            alert("Success! Your inventory is loaded.");
        }

        function fillForm(name, desc, val, unit) {
            document.getElementById('pName').value = name;
            document.getElementById('pDesc').value = desc;
            const vInput = document.getElementById('pVal');
            const uSelect = document.getElementById('pUnit');
            if(val) { vInput.value = val; vInput.classList.add('smart-filled'); setTimeout(()=>vInput.classList.remove('smart-filled'), 1000); }
            if(unit) { uSelect.value = unit; uSelect.classList.add('smart-filled'); setTimeout(()=>uSelect.classList.remove('smart-filled'), 1000); }
            document.getElementById('pName').classList.add('smart-filled');
            setTimeout(()=>document.getElementById('pName').classList.remove('smart-filled'), 1000);
        }
        function runGeneration() {
            document.getElementById('view-generator').style.display = 'none';
            document.getElementById('view-loading').classList.remove('hidden');
            setTimeout(() => {
                document.getElementById('view-loading').classList.add('hidden');
                navigateTo('results');
            }, 2500);
        }

        function switchSetting(tabId, el) {
            document.querySelectorAll('.settings-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.set-link').forEach(l => l.classList.remove('active'));
            document.getElementById('set-' + tabId).classList.add('active');
            el.classList.add('active');
        }

        // Gallery Selection
        let gallerySelectedCount = 0;
        function toggleGallerySelect(card) {
            card.classList.toggle('selected');
            const allSelected = document.querySelectorAll('.gallery-grid .asset-card.selected');
            gallerySelectedCount = allSelected.length;
            updateGalleryBulkBar();
        }
        function updateGalleryBulkBar() {
            const bar = document.getElementById('galleryBulkBar');
            if (gallerySelectedCount > 0) {
                bar.classList.add('active');
                bar.querySelector('.bulk-count').innerText = `${gallerySelectedCount} Items Selected`;
            } else {
                bar.classList.remove('active');
            }
        }
        function toggleSelectAll(select) {
            const cards = document.querySelectorAll('.gallery-grid .asset-card');
            cards.forEach(c => {
                if (select) c.classList.add('selected');
                else c.classList.remove('selected');
            });
            gallerySelectedCount = select ? cards.length : 0;
            updateGalleryBulkBar();
        }

        // Modal functions
        function openMoveModal() { document.getElementById('moveModal').classList.add('active'); }
        function closeMoveModal() { document.getElementById('moveModal').classList.remove('active'); }
        function selectModalOption(el) { document.querySelectorAll('.campaign-option').forEach(o => o.classList.remove('active')); el.classList.add('active'); }
        function confirmMove() { closeMoveModal(); toggleSelectAll(false); alert('Assets moved!'); }

        // Lightbox functions
        function openLightbox(e, src) {
            e.stopPropagation();
            document.getElementById('lightbox-img').src = src;
            document.getElementById('lightbox').classList.add('active');
        }
        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }

        function updatePreviewColor(color) {
            document.getElementById('previewButton').style.backgroundColor = color;
        }
        function updatePreviewFont(font) {
            document.getElementById('previewHeadline').style.fontFamily = font;
        }

        function updatePermissions(role) {
            const inputs = document.querySelectorAll('.permission-grid .toggle-switch input');
            if(role === 'viewer') { inputs.forEach(i => i.checked = false); inputs[1].checked = true; }
            if(role === 'admin') { inputs.forEach(i => { if(!i.disabled) i.checked = true; }); }
            if(role === 'editor') { inputs.forEach(i => { if(!i.disabled) i.checked = true; }); inputs[4].checked = false; }
        }

        // USER MENU
        function toggleUserMenu() {
            const menu = document.getElementById('userMenu');
            menu.classList.toggle('active');
        }
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('userMenu');
            const profile = document.querySelector('.user-profile');
            if (!profile.contains(event.target) && !menu.contains(event.target)) {
                menu.classList.remove('active');
            }
        });

        // MODAL FUNCTIONS
        function openModal(id) {
            document.getElementById(id).classList.add('active');
        }
        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // TOAST NOTIFICATIONS
        function showToast(type, title, message) {
            const container = document.getElementById('toastContainer');
            const icons = { success: '✓', error: '!', warning: '⚠', info: 'ℹ' };

            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <div class="toast-icon">${icons[type]}</div>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <div class="toast-close" onclick="this.parentElement.remove()">×</div>
            `;
            container.appendChild(toast);

            // Auto-remove after 4 seconds
            setTimeout(() => {
                toast.style.animation = 'toastSlideIn 0.3s ease reverse';
                setTimeout(() => toast.remove(), 300);
            }, 4000);
        }

        // CREDIT PURCHASE
        function selectCredit(el, credits, price) {
            document.querySelectorAll('.credit-option').forEach(o => o.classList.remove('selected'));
            el.classList.add('selected');
            document.getElementById('creditSummaryLabel').textContent = credits + ' Credits';
            document.getElementById('creditSummaryPrice').textContent = '$' + price + '.00';
            document.getElementById('creditSummaryTotal').textContent = '$' + price + '.00';
        }

        // DELETE ACCOUNT CONFIRMATION
        function confirmDeleteAccount() {
            const input = document.getElementById('deleteConfirmInput');
            if (input.value === 'DELETE') {
                closeModal('deleteAccountModal');
                showToast('error', 'Account Deleted', 'Your account has been permanently deleted.');
            } else {
                input.style.borderColor = 'var(--danger)';
                input.placeholder = 'Please type DELETE to confirm';
            }
        }

        // GLOBAL SEARCH
        function toggleSearch() {
            const dropdown = document.getElementById('searchDropdown');
            dropdown.classList.toggle('active');
        }
        function handleSearch(value) {
            const dropdown = document.getElementById('searchDropdown');
            if (value.length > 0) {
                dropdown.classList.add('active');
            } else {
                dropdown.classList.remove('active');
            }
        }
        document.addEventListener('click', function(event) {
            const search = document.querySelector('.global-search');
            const dropdown = document.getElementById('searchDropdown');
            if (search && !search.contains(event.target)) {
                dropdown.classList.remove('active');
            }
        });

        // Keyboard shortcut for search (Cmd+K or Ctrl+K)
        document.addEventListener('keydown', function(event) {
            if ((event.metaKey || event.ctrlKey) && event.key === 'k') {
                event.preventDefault();
                const searchInput = document.getElementById('globalSearchInput');
                if (searchInput) {
                    searchInput.focus();
                }
            }
        });

        // ============ RESULTS PAGE FUNCTIONS ============
        let resultsSelectedCount = 0;

        function toggleResultSelect(card) {
            card.classList.toggle('selected');
            updateResultsSelectedCount();
        }

        function updateResultsSelectedCount() {
            const selected = document.querySelectorAll('#view-results .result-card.selected');
            resultsSelectedCount = selected.length;
            document.getElementById('resultsSelectedCount').textContent = resultsSelectedCount;
            const bulkBar = document.getElementById('resultsBulkBar');
            if (resultsSelectedCount > 0) {
                bulkBar.classList.add('active');
            } else {
                bulkBar.classList.remove('active');
            }
        }

        function clearResultSelection() {
            document.querySelectorAll('#view-results .result-card.selected').forEach(card => {
                card.classList.remove('selected');
            });
            updateResultsSelectedCount();
        }

        function selectAllInResultZone(zone) {
            const zoneEl = document.getElementById('result-zone-' + zone);
            zoneEl.querySelectorAll('.result-card').forEach(card => {
                card.classList.add('selected');
            });
            updateResultsSelectedCount();
        }

        function scrollToResultZone(zone, tabEl) {
            document.querySelectorAll('.zone-tab').forEach(tab => tab.classList.remove('active'));
            tabEl.classList.add('active');
            document.getElementById('result-zone-' + zone).scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Launch campaign and show results
        function launchCampaign() {
            const productName = document.getElementById('pName').value || 'Raw Shea Butter';
            document.getElementById('resultsProductName').textContent = productName;

            // Show generating overlay
            document.getElementById('genOverlayTitle').textContent = 'Generating Content...';
            document.getElementById('genOverlaySubtitle').textContent = 'Our AI is crafting your creatives';
            document.getElementById('generatingOverlay').classList.add('active');

            setTimeout(() => {
                document.getElementById('generatingOverlay').classList.remove('active');
                navigateTo('results');
                showToast('success', 'Campaign Generated!', '14 assets ready to review');
            }, 3500);
        }

        // ============ CAMPAIGN MODAL FUNCTIONS ============
        function switchCampaignTab(tabName, tabEl) {
            document.querySelectorAll('.campaign-tab').forEach(tab => tab.classList.remove('active'));
            tabEl.classList.add('active');
            document.querySelectorAll('.campaign-tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById('campaign-tab-' + tabName).classList.add('active');
        }

        function selectCampaignFolder(el) {
            document.querySelectorAll('.folder-card').forEach(card => card.classList.remove('selected'));
            el.classList.add('selected');
        }

        function selectCampaignColor(el) {
            document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
            const color = el.style.background;
            document.getElementById('campaignSummaryIcon').style.background = color.replace('rgb', 'rgba').replace(')', ', 0.2)');
        }

        function selectCampaignIcon(el) {
            document.querySelectorAll('.icon-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
            document.getElementById('campaignSummaryIcon').textContent = el.textContent;
        }

        function updateCampaignSummary() {
            const name = document.getElementById('newCampaignName').value || 'New Campaign';
            document.getElementById('campaignSummaryName').textContent = name;
        }

        function addCampaignTag(event) {
            if (event.key === 'Enter' && event.target.value.trim()) {
                event.preventDefault();
                const container = document.getElementById('campaignTagsContainer');
                const input = event.target;
                const tag = document.createElement('div');
                tag.className = 'campaign-tag';
                tag.innerHTML = `${input.value.trim()} <span class="tag-remove" onclick="this.parentElement.remove()">×</span>`;
                container.insertBefore(tag, input);
                input.value = '';
            }
        }

        function toggleAllCampaignAssets() {
            const thumbs = document.querySelectorAll('#campaign-tab-organize .asset-thumb');
            const allSelected = Array.from(thumbs).every(t => t.classList.contains('selected'));
            thumbs.forEach(thumb => {
                if (allSelected) {
                    thumb.classList.remove('selected');
                } else {
                    thumb.classList.add('selected');
                }
            });
            document.querySelector('.select-all-btn').textContent = allSelected ? 'Select All (14)' : 'Deselect All';
        }

        function saveToCampaign() {
            const selectedFolder = document.querySelector('.folder-card.selected .folder-info h4');
            const newCampaignName = document.getElementById('newCampaignName').value;
            const campaignName = newCampaignName || (selectedFolder ? selectedFolder.textContent : 'New Campaign');

            closeModal('campaignModal');

            document.getElementById('genOverlayTitle').textContent = 'Saving to Campaign...';
            document.getElementById('genOverlaySubtitle').textContent = 'Organizing your assets';
            document.getElementById('generatingOverlay').classList.add('active');

            setTimeout(() => {
                document.getElementById('generatingOverlay').classList.remove('active');
                showToast('success', 'Saved to Campaign!', `14 assets added to "${campaignName}"`);
            }, 2000);
        }

        // Campaign Detail View Functions
        function openCampaignDetail(campaignId) {
            document.getElementById('campaignsGridView').classList.add('hidden');
            document.getElementById('campaignDetailView').classList.remove('hidden');

            // Could load campaign-specific data here based on campaignId
            // For now, shows the detail view with sample content
        }

        function closeCampaignDetail() {
            document.getElementById('campaignDetailView').classList.add('hidden');
            document.getElementById('campaignsGridView').classList.remove('hidden');
        }

        function filterCampaignAssets(zone, tabEl) {
            // Update active tab
            document.querySelectorAll('.campaign-zone-tabs .zone-tab').forEach(t => t.classList.remove('active'));
            tabEl.classList.add('active');

            // Filter assets
            const allAssets = document.querySelectorAll('.campaign-asset-card');
            allAssets.forEach(asset => {
                if (zone === 'all') {
                    asset.style.display = 'block';
                } else {
                    asset.style.display = asset.dataset.zone === zone ? 'block' : 'none';
                }
            });

            // Update count
            const visibleCount = document.querySelectorAll('.campaign-asset-card:not([style*="display: none"])').length;
            document.querySelector('.campaign-zone-tabs span').textContent =
                zone === 'all' ? '14 Assets' : `${visibleCount} Assets`;
        }

        // Edit Text Modal Functions
        function updateEditPreview() {
            const headline = document.getElementById('editHeadlineInput').value;
            const subhead = document.getElementById('editSubheadInput').value;
            document.getElementById('editPreviewHeadline').innerHTML = headline.replace(/\n/g, '<br>');
            document.getElementById('editPreviewSubhead').textContent = subhead.toUpperCase();
        }

        function selectTextPosition(position, btn) {
            document.querySelectorAll('.position-btn').forEach(b => {
                b.style.background = 'rgba(255,255,255,0.05)';
                b.style.borderColor = '#333';
                b.style.color = '#888';
                b.classList.remove('active');
            });
            btn.style.background = 'rgba(0,243,255,0.1)';
            btn.style.borderColor = 'var(--primary-cyan)';
            btn.style.color = 'var(--primary-cyan)';
            btn.classList.add('active');
        }

        function applyTextEdit() {
            closeModal('editTextModal');
            showToast('success', 'Text Updated', 'Your changes have been applied');
        }

        // Regenerate Modal Functions
        function startRegenerate() {
            const option = document.querySelector('input[name="regenOption"]:checked').value;
            closeModal('regenerateModal');

            document.getElementById('genOverlayTitle').textContent = 'Regenerating...';
            document.getElementById('genOverlaySubtitle').textContent =
                option === 'text' ? 'Creating new copy' :
                option === 'image' ? 'Generating new visual' :
                'Building new creative';
            document.getElementById('generatingOverlay').classList.add('active');

            setTimeout(() => {
                document.getElementById('generatingOverlay').classList.remove('active');
                showToast('success', 'Regenerated!', 'New content is ready');
            }, 2500);
        }

        // Video Player Functions
        function openVideoPlayer(title, posterUrl) {
            document.getElementById('videoTitle').textContent = title || 'Video Preview';
            const video = document.getElementById('videoPlayer');
            if (posterUrl) video.poster = posterUrl;
            openModal('videoPlayerModal');
        }

        function toggleVideoPlay() {
            const video = document.getElementById('videoPlayer');
            const playBtn = document.getElementById('videoPlayBtn');
            if (video.paused) {
                video.play();
                playBtn.style.opacity = '0';
            } else {
                video.pause();
                playBtn.style.opacity = '1';
            }
        }

        // ============ ENHANCED LIBRARY FUNCTIONS ============

        // Switch between Library tabs (All Assets, Recent, Trash)
        function switchLibraryTab(tab, tabEl) {
            // Update active tab styling
            document.querySelectorAll('.library-tab').forEach(t => t.classList.remove('active'));
            tabEl.classList.add('active');

            // Hide all tab content
            document.getElementById('library-tab-all').style.display = 'none';
            document.getElementById('library-tab-trash').style.display = 'none';

            // Show selected tab content
            if (tab === 'all' || tab === 'recent') {
                document.getElementById('library-tab-all').style.display = 'block';
            } else if (tab === 'trash') {
                document.getElementById('library-tab-trash').style.display = 'block';
            }
        }

        // Filter library by zone type
        function filterLibraryByZone(zone, chipEl) {
            // Update active chip
            document.querySelectorAll('.zone-chip').forEach(c => c.classList.remove('active'));
            chipEl.classList.add('active');

            // Filter cards
            const cards = document.querySelectorAll('.enhanced-asset-card');
            cards.forEach(card => {
                if (zone === 'all') {
                    card.style.display = 'block';
                } else {
                    card.style.display = card.dataset.zone === zone ? 'block' : 'none';
                }
            });
        }

        // Toggle library card selection
        let librarySelectedCount = 0;
        function toggleLibrarySelect(card) {
            card.classList.toggle('selected');
            librarySelectedCount = document.querySelectorAll('.enhanced-asset-card.selected').length;
            document.getElementById('librarySelectedCount').textContent = librarySelectedCount;

            // Show/hide bulk action bar
            const bulkBar = document.getElementById('galleryBulkBar');
            if (librarySelectedCount > 0) {
                bulkBar.classList.add('active');
            } else {
                bulkBar.classList.remove('active');
            }
        }

        // Clear all library selections
        function clearLibrarySelection() {
            document.querySelectorAll('.enhanced-asset-card.selected').forEach(c => c.classList.remove('selected'));
            librarySelectedCount = 0;
            document.getElementById('librarySelectedCount').textContent = '0';
            document.getElementById('galleryBulkBar').classList.remove('active');
        }

        // ============ AVATAR STUDIO FUNCTIONS ============

        // Switch between Avatar Studio tabs
        function switchAvatarTab(tab, tabEl) {
            document.querySelectorAll('.avatar-tab').forEach(t => t.classList.remove('active'));
            tabEl.classList.add('active');

            // Filter avatars based on tab
            const avatarCards = document.querySelectorAll('.avatar-card');
            avatarCards.forEach(card => {
                if (tab === 'all') {
                    card.style.display = 'block';
                } else if (tab === 'favorites') {
                    card.style.display = card.classList.contains('favorited') ? 'block' : 'none';
                } else if (tab === 'uploads') {
                    card.style.display = card.dataset.type === 'upload' ? 'block' : 'none';
                } else if (tab === 'recent') {
                    card.style.display = card.dataset.recent === 'true' ? 'block' : 'none';
                }
            });
        }

        // Toggle avatar favorite
        function toggleAvatarFavorite(btn, event) {
            event.stopPropagation();
            const card = btn.closest('.avatar-card');
            card.classList.toggle('favorited');
            btn.textContent = card.classList.contains('favorited') ? '★' : '☆';
            showToast('success', card.classList.contains('favorited') ? 'Added to Favorites' : 'Removed from Favorites', '');
        }

        // Select avatar for use
        function selectAvatar(avatarName) {
            showToast('success', 'Avatar Selected', `${avatarName} will be used for your next video`);
            navigateTo('generator');
        }

        // Preview avatar
        function previewAvatar(avatarName) {
            showToast('info', 'Preview', `Playing preview for ${avatarName}`);
        }

        // Filter avatars based on dropdown selections
        function filterAvatars() {
            // This would filter based on gender, ethnicity, age, style selects
            showToast('info', 'Filtering', 'Applying filters...');
        }

        // Search avatars
        function searchAvatars(query) {
            const avatarCards = document.querySelectorAll('.avatar-card');
            avatarCards.forEach(card => {
                const name = card.querySelector('.avatar-name')?.textContent.toLowerCase() || '';
                card.style.display = name.includes(query.toLowerCase()) ? 'block' : 'none';
            });
        }

        // Open create custom avatar modal
        function openCreateAvatarModal() {
            showToast('info', 'Coming Soon', 'Custom avatar creation will be available soon!');
        }

        // ============ SCRIPT EDITOR FUNCTIONS ============

        let segmentCount = 4;

        // Add a new script segment
        function addScriptSegment() {
            segmentCount++;
            const segmentList = document.getElementById('segmentList');
            const newSegment = document.createElement('div');
            newSegment.className = 'segment-item';
            newSegment.dataset.segment = segmentCount;
            newSegment.innerHTML = `
                <div class="segment-header">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <div class="segment-number">${segmentCount}</div>
                        <span style="font-size:12px; font-weight:600;">New Segment</span>
                    </div>
                    <div style="display:flex; align-items:center; gap:10px;">
                        <div class="segment-duration">5 sec</div>
                        <div class="segment-actions">
                            <button class="segment-action-btn" onclick="moveSegment(${segmentCount}, 'up')">▲</button>
                            <button class="segment-action-btn" onclick="moveSegment(${segmentCount}, 'down')">▼</button>
                            <button class="segment-action-btn" onclick="deleteSegment(${segmentCount})">🗑</button>
                        </div>
                    </div>
                </div>
                <textarea class="segment-text" placeholder="Enter script for this segment..."></textarea>
                <div class="timing-slider">
                    <div class="timing-label">
                        <span>Duration</span>
                        <span style="color:var(--primary-cyan);">5 seconds</span>
                    </div>
                    <input type="range" min="3" max="30" value="5" oninput="updateSegmentDuration(this)">
                </div>
            `;
            segmentList.appendChild(newSegment);
            updateTotalDuration();
            showToast('success', 'Segment Added', 'New segment created');
        }

        // Move segment up or down
        function moveSegment(segmentNum, direction) {
            const segments = document.querySelectorAll('.segment-item');
            let currentIndex = -1;
            segments.forEach((s, i) => {
                if (parseInt(s.dataset.segment) === segmentNum) currentIndex = i;
            });

            if (direction === 'up' && currentIndex > 0) {
                segments[currentIndex].parentNode.insertBefore(segments[currentIndex], segments[currentIndex - 1]);
            } else if (direction === 'down' && currentIndex < segments.length - 1) {
                segments[currentIndex].parentNode.insertBefore(segments[currentIndex + 1], segments[currentIndex]);
            }
            renumberSegments();
        }

        // Delete a segment
        function deleteSegment(segmentNum) {
            const segment = document.querySelector(`.segment-item[data-segment="${segmentNum}"]`);
            if (segment && document.querySelectorAll('.segment-item').length > 1) {
                segment.remove();
                renumberSegments();
                updateTotalDuration();
                showToast('info', 'Segment Deleted', '');
            }
        }

        // Renumber segments after move/delete
        function renumberSegments() {
            document.querySelectorAll('.segment-item').forEach((seg, i) => {
                seg.dataset.segment = i + 1;
                seg.querySelector('.segment-number').textContent = i + 1;
            });
        }

        // Update segment duration display
        function updateSegmentDuration(slider) {
            const durationSpan = slider.closest('.timing-slider').querySelector('.timing-label span:last-child');
            durationSpan.textContent = `${slider.value} seconds`;
            slider.closest('.segment-item').querySelector('.segment-duration').textContent = `${slider.value} sec`;
            updateTotalDuration();
        }

        // Update total script duration
        function updateTotalDuration() {
            let total = 0;
            document.querySelectorAll('.segment-item input[type="range"]').forEach(slider => {
                total += parseInt(slider.value);
            });
            const segmentCount = document.querySelectorAll('.segment-item').length;
            document.getElementById('totalScriptDuration').textContent = `${total} seconds`;
            document.querySelector('.total-duration').innerHTML = `Total Duration: <span id="totalScriptDuration">${total} seconds</span> (${segmentCount} segments)`;
        }

        // Select AI voice
        function selectVoice(optionEl, voiceName) {
            document.querySelectorAll('.voice-option').forEach(v => v.classList.remove('selected'));
            optionEl.classList.add('selected');
        }

        // Preview AI voice
        function previewVoice(voiceName) {
            showToast('info', 'Voice Preview', `Playing ${voiceName} voice sample...`);
        }

        // Preview background music
        function previewMusic() {
            const selected = document.getElementById('musicSelect').value;
            showToast('info', 'Music Preview', `Playing: ${selected}`);
        }

        // Save script as template
        function saveScriptTemplate() {
            const templateName = document.getElementById('scriptTemplateName').value;
            if (templateName.trim()) {
                showToast('success', 'Template Saved', `"${templateName}" saved to your templates`);
            } else {
                showToast('warning', 'Enter Name', 'Please enter a template name');
            }
        }

        // Preview the full script video
        function previewScript() {
            showToast('info', 'Generating Preview', 'Creating video preview...');
            setTimeout(() => {
                openModal('videoPlayerModal');
            }, 1500);
        }

        // Generate video from script
        function generateVideoFromScript() {
            closeModal('scriptEditorModal');
            document.getElementById('genOverlayTitle').textContent = 'Generating Video...';
            document.getElementById('genOverlaySubtitle').textContent = 'Creating your AI video with script';
            document.getElementById('generatingOverlay').classList.add('active');

            setTimeout(() => {
                document.getElementById('generatingOverlay').classList.remove('active');
                showToast('success', 'Video Generated!', 'Your video is ready');
                navigateTo('results');
            }, 4000);
        }

        // ============ UPGRADE MODAL FUNCTIONS ============

        // Switch between monthly and annual billing
        function switchBilling(period, optionEl) {
            document.querySelectorAll('.billing-option').forEach(o => o.classList.remove('active'));
            optionEl.classList.add('active');

            // Update prices based on billing period
            const isAnnual = period === 'annual';
            const prices = {
                starter: isAnnual ? '$29' : '$39',
                creator: isAnnual ? '$49' : '$59',
                pro: isAnnual ? '$99' : '$129'
            };

            // Update displayed prices
            document.querySelectorAll('.plan-card').forEach((card, i) => {
                const priceKeys = ['starter', 'creator', 'pro'];
                const priceEl = card.querySelector('.plan-price');
                if (priceEl) {
                    priceEl.innerHTML = `${prices[priceKeys[i]]} <span>/ month</span>`;
                }
            });
        }

        // Select a plan
        function selectPlan(planName) {
            if (planName === 'pro') {
                showToast('info', 'Upgrade Initiated', 'Redirecting to checkout...');
                setTimeout(() => {
                    closeModal('upgradeModal');
                    showToast('success', 'Upgraded to Pro!', 'Welcome to the Pro plan');
                }, 2000);
            } else if (planName === 'starter') {
                showToast('warning', 'Downgrade', 'Are you sure? You\'ll lose some features.');
            }
        }

        // Purchase add-on
        function purchaseAddon(type, amount, price) {
            showToast('info', 'Processing', `Adding ${type === 'credits' ? amount + ' credits' : 'custom avatar'}...`);
            setTimeout(() => {
                showToast('success', 'Purchase Complete', `${type === 'credits' ? amount + ' credits' : '1 custom avatar slot'} added!`);
            }, 1500);
        }

        // Toggle feature comparison table
        function toggleFeatureComparison() {
            const table = document.getElementById('featureComparisonTable');
            const btn = document.querySelector('.comparison-toggle button');
            if (table.style.display === 'none') {
                table.style.display = 'table';
                btn.textContent = 'Hide Feature Comparison ▲';
            } else {
                table.style.display = 'none';
                btn.textContent = 'View Full Feature Comparison ▼';
            }
        }

        // ============ ANALYTICS PAGE FUNCTIONS ============

        function updateAnalyticsRange() {
            const range = document.getElementById('analyticsDateRange').value;
            showToast('info', 'Updating', `Loading data for: ${range}`);
        }

        function switchChartTab(period, btn) {
            document.querySelectorAll('.chart-tab').forEach(t => t.classList.remove('active'));
            btn.classList.add('active');
            showToast('info', 'Chart Updated', `Showing ${period} data`);
        }

        // ============ TEMPLATES LIBRARY FUNCTIONS ============

        function searchTemplates(query) {
            const templates = document.querySelectorAll('.template-card');
            templates.forEach(card => {
                const name = card.querySelector('.template-name')?.textContent.toLowerCase() || '';
                card.style.display = name.includes(query.toLowerCase()) ? 'block' : 'none';
            });
        }

        function filterTemplatesByZone(zone) {
            showToast('info', 'Filtering', `Showing ${zone} templates`);
        }

        function filterTemplateCategory(category, tabEl) {
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            tabEl.classList.add('active');

            const templates = document.querySelectorAll('.template-card');
            templates.forEach(card => {
                if (category === 'all') {
                    card.style.display = 'block';
                } else {
                    card.style.display = card.dataset.category === category ? 'block' : 'none';
                }
            });
        }

        function useTemplate(templateName) {
            showToast('success', 'Template Selected', `"${templateName}" loaded into generator`);
            navigateTo('generator');
        }

        function previewTemplate(templateName) {
            showToast('info', 'Preview', `Showing preview for "${templateName}"`);
        }

        function editTemplate(templateName) {
            showToast('info', 'Edit Template', `Editing "${templateName}"`);
        }

        function saveCurrentAsTemplate() {
            showToast('success', 'Template Saved', 'Current campaign saved as a template');
        }

        // ============ HISTORY PAGE FUNCTIONS ============

        function setHistoryFilter(filter, btn) {
            document.querySelectorAll('.history-filters .filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            showToast('info', 'Filter Applied', `Showing: ${filter}`);
        }

        function filterHistoryByProduct(product) {
            showToast('info', 'Filtering', `Showing ${product} products`);
        }

        function filterHistoryByType(type) {
            showToast('info', 'Filtering', `Showing ${type}`);
        }

        function switchTimelineView(view, btn) {
            document.querySelectorAll('.timeline-view-toggle .view-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            showToast('info', 'View Changed', `Switched to ${view} view`);
        }

        function regenerateFromHistory(campaignName) {
            showToast('info', 'Regenerating', `Recreating "${campaignName}"...`);
            setTimeout(() => {
                navigateTo('generator');
            }, 1000);
        }

        function viewHistoryItem(campaignName) {
            showToast('info', 'Loading', `Opening "${campaignName}"...`);
            navigateTo('gallery');
        }

        function restoreDeletedItem(itemName) {
            showToast('success', 'Restored', `"${itemName}" has been restored`);
        }

        function permanentlyDelete(itemName) {
            if (confirm(`Are you sure you want to permanently delete "${itemName}"? This cannot be undone.`)) {
                showToast('info', 'Deleted', `"${itemName}" permanently deleted`);
            }
        }

        function emptyTrash() {
            if (confirm('Are you sure you want to empty the trash? All items will be permanently deleted.')) {
                showToast('info', 'Trash Emptied', 'All deleted items removed');
            }
        }

        function exportHistoryCSV() {
            showToast('success', 'Exporting', 'Generating CSV file...');
            setTimeout(() => {
                showToast('success', 'Download Ready', 'history_export.csv downloaded');
            }, 1500);
        }

        function changeHistoryPage(page) {
            showToast('info', 'Loading', `Loading page ${page}`);
        }

        // ============ CALENDAR DATE PICKER FUNCTIONS ============

        const calendarState = {
            history: { year: 2024, month: 11, selectedDate: null },
            gallery: { year: 2024, month: 11, selectedDate: null }
        };

        const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                           'July', 'August', 'September', 'October', 'November', 'December'];

        // Toggle calendar visibility
        function toggleCalendar(calendarId) {
            const dropdown = document.getElementById(calendarId);
            const isActive = dropdown.classList.contains('active');

            // Close all calendars first
            document.querySelectorAll('.calendar-dropdown').forEach(d => d.classList.remove('active'));
            document.querySelectorAll('.calendar-picker-btn').forEach(b => b.classList.remove('active'));

            if (!isActive) {
                dropdown.classList.add('active');
                dropdown.previousElementSibling.classList.add('active');
                const type = calendarId.replace('Calendar', '');
                renderCalendar(type);
            }
        }

        // Render calendar days
        function renderCalendar(type) {
            const state = calendarState[type];
            const daysContainer = document.getElementById(`${type}CalendarDays`);
            const titleEl = document.getElementById(`${type}CalendarTitle`);

            titleEl.textContent = `${monthNames[state.month]} ${state.year}`;

            const firstDay = new Date(state.year, state.month, 1).getDay();
            const daysInMonth = new Date(state.year, state.month + 1, 0).getDate();
            const daysInPrevMonth = new Date(state.year, state.month, 0).getDate();

            const today = new Date();
            const isCurrentMonth = today.getFullYear() === state.year && today.getMonth() === state.month;

            let html = '';

            // Previous month days
            for (let i = firstDay - 1; i >= 0; i--) {
                html += `<div class="calendar-day other-month">${daysInPrevMonth - i}</div>`;
            }

            // Current month days
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = isCurrentMonth && today.getDate() === day;
                const dateStr = `${state.year}-${String(state.month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const isSelected = state.selectedDate === dateStr;
                const hasActivity = [1, 5, 8, 12, 15, 18, 19, 20, 21].includes(day); // Mock activity days

                let classes = 'calendar-day';
                if (isToday) classes += ' today';
                if (isSelected) classes += ' selected';
                if (hasActivity) classes += ' has-activity';

                html += `<div class="${classes}" onclick="selectCalendarDay(${day}, '${type}')">${day}</div>`;
            }

            // Next month days
            const totalCells = firstDay + daysInMonth;
            const remaining = totalCells % 7 === 0 ? 0 : 7 - (totalCells % 7);
            for (let day = 1; day <= remaining; day++) {
                html += `<div class="calendar-day other-month">${day}</div>`;
            }

            daysContainer.innerHTML = html;
        }

        // Navigate calendar months
        function changeCalendarMonth(direction, type) {
            const state = calendarState[type];
            state.month += direction;

            if (state.month > 11) {
                state.month = 0;
                state.year++;
            } else if (state.month < 0) {
                state.month = 11;
                state.year--;
            }

            renderCalendar(type);
        }

        // Select a day
        function selectCalendarDay(day, type) {
            const state = calendarState[type];
            state.selectedDate = `${state.year}-${String(state.month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
            renderCalendar(type);
        }

        // Select preset
        function selectCalendarPreset(preset, type) {
            const today = new Date();
            let dateStr = '';
            let label = '';

            switch (preset) {
                case 'today':
                    dateStr = today.toISOString().split('T')[0];
                    label = 'Today';
                    break;
                case 'yesterday':
                    const yesterday = new Date(today);
                    yesterday.setDate(yesterday.getDate() - 1);
                    dateStr = yesterday.toISOString().split('T')[0];
                    label = 'Yesterday';
                    break;
                case 'week':
                    label = 'This Week';
                    break;
                case 'month':
                    label = 'This Month';
                    break;
            }

            calendarState[type].selectedDate = dateStr;
            document.getElementById(`${type}DateLabel`).textContent = label;

            // Update preset buttons
            document.querySelectorAll(`#${type}Calendar .calendar-preset`).forEach(p => p.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Clear selection
        function clearCalendarSelection(type) {
            calendarState[type].selectedDate = null;
            document.getElementById(`${type}DateLabel`).textContent = 'Pick Date';
            document.querySelectorAll(`#${type}Calendar .calendar-preset`).forEach(p => p.classList.remove('active'));
            renderCalendar(type);
        }

        // Apply selection
        function applyCalendarSelection(type) {
            const state = calendarState[type];
            if (state.selectedDate) {
                const date = new Date(state.selectedDate);
                const formatted = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
                document.getElementById(`${type}DateLabel`).textContent = formatted;
                showToast('success', 'Date Selected', `Filtering by ${formatted}`);
            }
            document.getElementById(`${type}Calendar`).classList.remove('active');
            document.querySelector(`#${type}Calendar`).previousElementSibling.classList.remove('active');
        }

        // Close calendar when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.calendar-picker-container')) {
                document.querySelectorAll('.calendar-dropdown').forEach(d => d.classList.remove('active'));
                document.querySelectorAll('.calendar-picker-btn').forEach(b => b.classList.remove('active'));
            }
        });

        // ==================== NOTIFICATION FUNCTIONS ====================

        // Toggle all notifications on/off
        function toggleAllNotifications(enable) {
            const toggles = document.querySelectorAll('.notif-row .channel-toggles input[type="checkbox"]');
            let changedCount = 0;

            toggles.forEach(toggle => {
                // Skip disabled/required notifications (security alerts)
                if (toggle.disabled) {
                    return;
                }

                if (toggle.checked !== enable) {
                    toggle.checked = enable;
                    changedCount++;
                }
            });

            if (enable) {
                showToast('success', 'Notifications Enabled', `All ${changedCount} notification preferences have been enabled.`);
            } else {
                showToast('info', 'Non-Essential Disabled', `${changedCount} non-essential notifications have been disabled. Security alerts remain active.`);
            }
        }

        // Reset notifications to recommended defaults
        function resetNotificationDefaults() {
            // Define recommended defaults per row
            // Format: [email, push, inapp] for each notification row
            const defaults = [
                // Generation Activity (5 rows)
                [true, true, true],    // Generation Completed
                [true, true, true],    // Generation Failed
                [false, true, true],   // Queue Position Updates
                [true, true, true],    // Low Credit Warning
                [true, true, true],    // Credits Depleted

                // Campaign Activity (4 rows)
                [false, false, true],  // Campaign Created
                [true, false, true],   // Campaign Exported
                [false, false, true],  // Assets Added to Campaign
                [true, true, true],    // Campaign Shared With You

                // Billing & Subscription (5 rows)
                [true, false, true],   // Invoice Ready
                [true, false, true],   // Payment Successful
                [true, true, true],    // Payment Failed
                [true, false, true],   // Subscription Renewal Reminder
                [true, false, true],   // Plan Changes

                // Security (4 rows) - these are required/disabled so won't change
                [true, true, true],    // New Device Login (REQUIRED)
                [true, true, true],    // Password Changed (REQUIRED)
                [true, true, true],    // Two-Factor Authentication
                [true, true, true],    // Suspicious Activity

                // Team Activity (5 rows)
                [true, false, true],   // Team Member Joined
                [true, false, true],   // Team Member Removed
                [true, true, true],    // Assets Shared With You
                [true, true, true],    // Comments on Your Content
                [true, true, true],    // @Mentions

                // Product Updates (4 rows)
                [true, false, true],   // New Features Announced
                [true, false, false],  // Tips & Best Practices
                [true, true, true],    // Platform Maintenance
                [true, false, false],  // Weekly Performance Summary

                // Marketing & Offers (3 rows)
                [true, false, false],  // Promotional Offers
                [true, false, false],  // Newsletter
                [false, false, false]  // Partner Offers
            ];

            // Apply defaults to all notification rows
            const rows = document.querySelectorAll('.notif-row');
            rows.forEach((row, index) => {
                if (index < defaults.length) {
                    const toggles = row.querySelectorAll('.channel-toggles input[type="checkbox"]');
                    toggles.forEach((toggle, tIndex) => {
                        if (!toggle.disabled && tIndex < 3) {
                            toggle.checked = defaults[index][tIndex];
                        }
                    });
                }
            });

            showToast('success', 'Defaults Restored', 'All notification preferences have been reset to recommended defaults.');
        }

        // Send a test notification
        function testNotification() {
            // Show in-app notification immediately
            showToast('info', 'Test Notification', 'This is a test notification from SoloGenix. If you receive this, your in-app notifications are working!');

            // Simulate sending test to other channels
            setTimeout(() => {
                showToast('success', 'Test Sent', 'Test notifications have been sent to your enabled channels. Check your email and push notifications.');
            }, 1500);
        }

        // Save notification preferences
        function saveNotificationPreferences() {
            // Collect all notification settings
            const settings = {
                notifications: []
            };

            // Collect all notification row toggles
            document.querySelectorAll('.notif-row').forEach((row, index) => {
                const title = row.querySelector('.notif-info h4')?.textContent?.trim() || `Notification ${index + 1}`;
                const toggles = row.querySelectorAll('.channel-toggles input[type="checkbox"]');

                if (toggles.length >= 3) {
                    settings.notifications.push({
                        name: title.replace(/REQUIRED/g, '').trim(),
                        email: toggles[0].checked,
                        push: toggles[1].checked,
                        inapp: toggles[2].checked
                    });
                }
            });

            // In a real app, this would save to the server
            console.log('Saving notification preferences:', settings);
            localStorage.setItem('sologenix_notifications', JSON.stringify(settings));

            showToast('success', 'Preferences Saved', 'Your notification preferences have been saved successfully.');
        }

        // Load saved notification preferences on page load
        function loadNotificationPreferences() {
            const saved = localStorage.getItem('sologenix_notifications');
            if (saved) {
                try {
                    const settings = JSON.parse(saved);
                    console.log('Loaded notification preferences:', settings);

                    // Apply loaded notification settings
                    if (settings.notifications && settings.notifications.length > 0) {
                        const rows = document.querySelectorAll('.notif-row');
                        settings.notifications.forEach((notif, index) => {
                            if (index < rows.length) {
                                const toggles = rows[index].querySelectorAll('.channel-toggles input[type="checkbox"]');
                                if (toggles.length >= 3) {
                                    if (!toggles[0].disabled) toggles[0].checked = notif.email;
                                    if (!toggles[1].disabled) toggles[1].checked = notif.push;
                                    if (!toggles[2].disabled) toggles[2].checked = notif.inapp;
                                }
                            }
                        });
                    }
                } catch (e) {
                    console.error('Failed to load notification preferences:', e);
                }
            }
        }

        // Initialize calendars and load preferences on page load
        document.addEventListener('DOMContentLoaded', function() {
            renderCalendar('history');
            renderCalendar('gallery');
            loadNotificationPreferences();
        });

    </script>

    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- SoloGenix Auth -->
    <script>
        // Supabase Configuration
        var SUPABASE_URL = 'https://wdprfkcrhmvzwlgkncpa.supabase.co';
        var SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndkcHJma2NyaG12endsZ2tuY3BhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzNzE1NzQsImV4cCI6MjA4MTk0NzU3NH0.XJ5nTtv72S6_fkLppGrEoXQ_co_Bh02Q7rWKRUhKVIM';

        var supabaseClient = null;
        var authState = { isAuthenticated: false, user: null, session: null, loading: true, isResettingPassword: false };

        // Show auth view
        function showAuthView(view) {
            console.log('showAuthView called:', view);
            var sidebar = document.querySelector('.sidebar');
            var mainContent = document.querySelector('.main-content');
            if (sidebar) sidebar.style.display = 'none';
            if (mainContent) mainContent.style.display = 'none';
            var authViews = document.querySelectorAll('.auth-view');
            for (var i = 0; i < authViews.length; i++) {
                authViews[i].style.display = 'none';
            }
            var targetView = document.getElementById('auth-' + view);
            if (targetView) {
                targetView.style.display = 'flex';
            }
        }

        // Hide auth views
        function hideAuthViews() {
            var authViews = document.querySelectorAll('.auth-view');
            for (var i = 0; i < authViews.length; i++) {
                authViews[i].style.display = 'none';
            }
            var sidebar = document.querySelector('.sidebar');
            var mainContent = document.querySelector('.main-content');
            if (sidebar) sidebar.style.display = 'flex';
            if (mainContent) mainContent.style.display = 'flex';
        }

        // Show loading on buttons
        function showAuthLoading(show) {
            var buttons = document.querySelectorAll('.auth-btn');
            for (var i = 0; i < buttons.length; i++) {
                buttons[i].disabled = show;
            }
        }

        // Get initials
        function getInitials(name) {
            if (!name) return 'U';
            var parts = name.trim().split(' ');
            if (parts.length === 1) return parts[0].charAt(0).toUpperCase();
            return (parts[0].charAt(0) + parts[parts.length - 1].charAt(0)).toUpperCase();
        }

        // Update UI with user info
        function updateUserUI(user) {
            if (!user) return;
            var fullName = (user.user_metadata && user.user_metadata.full_name) || (user.email ? user.email.split('@')[0] : 'User');
            var initials = getInitials(fullName);
            var userNameEl = document.querySelector('.user-profile .user-name');
            var avatarEl = document.querySelector('.user-profile .avatar');
            if (userNameEl) userNameEl.textContent = fullName;
            if (avatarEl) avatarEl.textContent = initials;
        }

        // Initialize auth
        function initAuth() {
            console.log('Initializing auth...');
            if (typeof window.supabase === 'undefined') {
                console.error('Supabase SDK not loaded');
                showAuthView('login');
                return;
            }

            // Check if this is a password recovery redirect
            var hash = window.location.hash;
            if (hash && hash.includes('type=recovery')) {
                console.log('Password recovery detected in URL');
                authState.isResettingPassword = true;
            }

            supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            console.log('Supabase client created');

            supabaseClient.auth.getSession().then(function(result) {
                var session = result.data.session;
                var error = result.error;

                if (error) {
                    console.error('Session error:', error);
                    showAuthView('login');
                    return;
                }

                // If in password reset mode, show reset form instead of dashboard
                if (authState.isResettingPassword) {
                    console.log('Showing password reset form');
                    showAuthView('reset');
                    showToast('info', 'Reset Password', 'Enter your new password below');
                    return;
                }

                if (session) {
                    console.log('User logged in:', session.user.email);
                    authState.isAuthenticated = true;
                    authState.user = session.user;
                    updateUserUI(session.user);
                    hideAuthViews();
                    navigateTo('dashboard');
                } else {
                    console.log('No session, showing login');
                    showAuthView('login');
                }
            }).catch(function(err) {
                console.error('Auth error:', err);
                showAuthView('login');
            });

            // Listen for auth changes
            supabaseClient.auth.onAuthStateChange(function(event, session) {
                console.log('Auth state changed:', event);
                if (event === 'PASSWORD_RECOVERY') {
                    // User clicked password reset link - show reset form
                    authState.isResettingPassword = true;
                    showAuthView('reset');
                    showToast('info', 'Reset Password', 'Enter your new password below');
                } else if (event === 'SIGNED_IN' && session) {
                    // Don't redirect to dashboard if user is resetting password
                    if (authState.isResettingPassword) {
                        console.log('In password reset mode, staying on reset form');
                        return;
                    }
                    authState.isAuthenticated = true;
                    authState.user = session.user;
                    updateUserUI(session.user);
                    hideAuthViews();
                    navigateTo('dashboard');
                    showToast('success', 'Welcome!', 'Signed in successfully');
                } else if (event === 'SIGNED_OUT') {
                    authState.isAuthenticated = false;
                    authState.user = null;
                    authState.isResettingPassword = false;
                    showAuthView('login');
                }
            });
        }

        // Sign up
        function handleSignupSubmit(event) {
            event.preventDefault();
            console.log('Signup submitted');

            var fullName = document.getElementById('signupName').value;
            var email = document.getElementById('signupEmail').value;
            var password = document.getElementById('signupPassword').value;
            var confirmPassword = document.getElementById('signupConfirmPassword').value;

            if (password !== confirmPassword) {
                showToast('error', 'Error', 'Passwords do not match');
                return;
            }
            if (password.length < 6) {
                showToast('error', 'Error', 'Password must be at least 6 characters');
                return;
            }

            showAuthLoading(true);

            supabaseClient.auth.signUp({
                email: email,
                password: password,
                options: { data: { full_name: fullName } }
            }).then(function(result) {
                showAuthLoading(false);
                console.log('Signup result:', result);

                if (result.error) {
                    showToast('error', 'Sign Up Failed', result.error.message);
                    return;
                }

                if (result.data.user && !result.data.session) {
                    showToast('success', 'Check Email', 'Please confirm your email');
                    showAuthView('login');
                } else if (result.data.session) {
                    showToast('success', 'Success!', 'Account created');
                }
            }).catch(function(err) {
                showAuthLoading(false);
                console.error('Signup error:', err);
                showToast('error', 'Error', err.message);
            });
        }

        // Sign in
        function handleLoginSubmit(event) {
            event.preventDefault();
            console.log('Login submitted');

            var email = document.getElementById('loginEmail').value;
            var password = document.getElementById('loginPassword').value;

            showAuthLoading(true);

            supabaseClient.auth.signInWithPassword({
                email: email,
                password: password
            }).then(function(result) {
                showAuthLoading(false);
                console.log('Login result:', result);

                if (result.error) {
                    showToast('error', 'Sign In Failed', result.error.message);
                }
            }).catch(function(err) {
                showAuthLoading(false);
                console.error('Login error:', err);
                showToast('error', 'Error', err.message);
            });
        }

        // Forgot password
        function handleForgotSubmit(event) {
            event.preventDefault();
            var email = document.getElementById('forgotEmail').value;

            showAuthLoading(true);
            supabaseClient.auth.resetPasswordForEmail(email).then(function(result) {
                showAuthLoading(false);
                if (result.error) {
                    showToast('error', 'Error', result.error.message);
                } else {
                    showToast('success', 'Email Sent', 'Check your email for reset link');
                    showAuthView('login');
                }
            });
        }

        // Reset password
        function handleResetSubmit(event) {
            event.preventDefault();
            var password = document.getElementById('resetPassword').value;
            var confirmPassword = document.getElementById('resetConfirmPassword').value;

            if (password !== confirmPassword) {
                showToast('error', 'Error', 'Passwords do not match');
                return;
            }

            showAuthLoading(true);
            supabaseClient.auth.updateUser({ password: password }).then(function(result) {
                showAuthLoading(false);
                if (result.error) {
                    showToast('error', 'Error', result.error.message);
                } else {
                    authState.isResettingPassword = false;
                    authState.isAuthenticated = true;
                    showToast('success', 'Success', 'Password updated');
                    hideAuthViews();
                    navigateTo('dashboard');
                }
            });
        }

        // Google sign in
        function signInWithGoogle() {
            supabaseClient.auth.signInWithOAuth({
                provider: 'google',
                options: { redirectTo: window.location.origin }
            });
        }

        // Sign out
        function signOut() {
            supabaseClient.auth.signOut();
        }

        // Initialize when page loads
        window.addEventListener('load', function() {
            console.log('Page loaded, initializing auth');
            initAuth();
        });
    </script>
</body>
</html>
